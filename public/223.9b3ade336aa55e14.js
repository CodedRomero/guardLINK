(self.webpackChunkguardlink=self.webpackChunkguardlink||[]).push([[223],{6223:(z,a,P)=>{"use strict";P.r(a),P.d(a,{ApplyModule:()=>se});var i=P(6895),N=P(6773),B=P(1985),q=P(9959),L=P(6801),w=P(433),v=P(5226),V=P.n(v),m=P(8256),X=P(8503),j=P(2619),H=P(9836),g=P(1740),k=P(8421),A=P(9751),T=P(5577),y=P(1144),S=P(576),t=P(3268);const n=["addListener","removeListener"],u=["addEventListener","removeEventListener"],C=["on","off"];function h(_,D,x,J){if((0,S.m)(x)&&(J=x,x=void 0),J)return h(_,D,x).pipe((0,t.Z)(J));const[M,E]=function I(_){return(0,S.m)(_.addEventListener)&&(0,S.m)(_.removeEventListener)}(_)?u.map(W=>re=>_[W](D,re,x)):function p(_){return(0,S.m)(_.addListener)&&(0,S.m)(_.removeListener)}(_)?n.map(b(_,D)):function c(_){return(0,S.m)(_.on)&&(0,S.m)(_.off)}(_)?C.map(b(_,D)):[];if(!M&&(0,y.z)(_))return(0,T.z)(W=>h(W,D,x))((0,k.Xf)(_));if(!M)throw new TypeError("Invalid event target");return new A.y(W=>{const re=(...be)=>W.next(1<be.length?be:be[0]);return M(re),()=>E(re)})}function b(_,D){return x=>J=>_[x](D,J)}var F=P(7579),G=P(2076),K=P(4482),Z=P(5403),ee=P(5032);function te(_){return(0,K.e)((D,x)=>{(0,k.Xf)(_).subscribe((0,Z.x)(x,()=>x.complete(),ee.Z)),!x.closed&&D.subscribe(x)})}var ue=P(727);class ce extends ue.w0{constructor(D,x){super()}schedule(D,x=0){return this}}const R={setInterval(_,D,...x){const{delegate:J}=R;return J?.setInterval?J.setInterval(_,D,...x):setInterval(_,D,...x)},clearInterval(_){const{delegate:D}=R;return(D?.clearInterval||clearInterval)(_)},delegate:void 0};var s=P(8737);const r={now:()=>(r.delegate||Date).now(),delegate:void 0};class o{constructor(D,x=o.now){this.schedulerActionCtor=D,this.now=x}schedule(D,x=0,J){return new this.schedulerActionCtor(this,D).schedule(J,x)}}o.now=r.now;const f=new class d extends o{constructor(D,x=o.now){super(D,x),this.actions=[],this._active=!1}flush(D){const{actions:x}=this;if(this._active)return void x.push(D);let J;this._active=!0;do{if(J=D.execute(D.state,D.delay))break}while(D=x.shift());if(this._active=!1,J){for(;D=x.shift();)D.unsubscribe();throw J}}}(class e extends ce{constructor(D,x){super(D,x),this.scheduler=D,this.work=x,this.pending=!1}schedule(D,x=0){var J;if(this.closed)return this;this.state=D;const M=this.id,E=this.scheduler;return null!=M&&(this.id=this.recycleAsyncId(E,M,x)),this.pending=!0,this.delay=x,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(E,this.id,x),this}requestAsyncId(D,x,J=0){return R.setInterval(D.flush.bind(D,this),J)}recycleAsyncId(D,x,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return x;null!=x&&R.clearInterval(x)}execute(D,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(D,x);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,x){let M,J=!1;try{this.work(D)}catch(E){J=!0,M=E||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),M}unsubscribe(){if(!this.closed){const{id:D,scheduler:x}=this,{actions:J}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(J,this),null!=D&&(this.id=this.recycleAsyncId(x,D,null)),this.delay=null,super.unsubscribe()}}});var Y=P(9300),U=P(6036),Q=P.t(U,2),$=P(2813),ne=P.t($,2);const ie=["pdfViewerContainer"];function Ae(_,D,x){_[D]=x}function ge(){return typeof window>"u"}ge()||Ae(Q,"verbosity",U.VerbosityLevel.INFOS);var le=(()=>{return(_=le||(le={}))[_.DISABLED=0]="DISABLED",_[_.ENABLED=1]="ENABLED",_[_.ENHANCED=2]="ENHANCED",le;var _})();let we=(()=>{class _{constructor(x,J){if(this.element=x,this.ngZone=J,this.isVisible=!1,this._cMapsUrl=typeof Q<"u"?`https://unpkg.com/pdfjs-dist@${U.version}/cmaps/`:null,this._imageResourcesPath=typeof Q<"u"?`https://unpkg.com/pdfjs-dist@${U.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=le.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new F.x,this.afterLoadComplete=new m.vpe,this.pageRendered=new m.vpe,this.pageInitialized=new m.vpe,this.textLayerRendered=new m.vpe,this.onError=new m.vpe,this.onProgress=new m.vpe,this.pageChange=new m.vpe(!0),ge())return;let M;const E=U.version;M=window[`pdfWorkerSrc${E}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${E}/legacy/build/pdf.worker.min.js`),Ae(U.GlobalWorkerOptions,"workerSrc",M)}set cMapsUrl(x){this._cMapsUrl=x}set page(x){const J=x=parseInt(x,10)||1;this._pdf&&(x=this.getValidPageNumber(x)),this._page=x,J!==x&&this.pageChange.emit(x)}set renderText(x){this._renderText=x}set renderTextMode(x){this._renderTextMode=x}set originalSize(x){this._originalSize=x}set showAll(x){this._showAll=x}set stickToPage(x){this._stickToPage=x}set zoom(x){x<=0||(this._zoom=x)}get zoom(){return this._zoom}set zoomScale(x){this._zoomScale=x}get zoomScale(){return this._zoomScale}set rotation(x){"number"==typeof x&&x%90==0?this._rotation=x:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(x){this._externalLinkTarget=x}set autoresize(x){this._canAutoResize=Boolean(x)}set fitToPage(x){this._fitToPage=Boolean(x)}set showBorders(x){this._showBorders=Boolean(x)}static getLinkTarget(x){switch(x){case"blank":return $.LinkTarget.BLANK;case"none":return $.LinkTarget.NONE;case"self":return $.LinkTarget.SELF;case"parent":return $.LinkTarget.PARENT;case"top":return $.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const x=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=x?!1===this.isVisible&&null!=x&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(x){if(!ge()&&this.isVisible)if("src"in x)this.loadPDF();else if(this._pdf){if("renderText"in x?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:le.DISABLED,this.resetPdfDocument()):"showAll"in x&&(this.setupViewer(),this.resetPdfDocument()),"page"in x){const{page:J}=x;if(J.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,G.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(te(this.destroy$)).subscribe({next:x=>{const J=this._rotation+x.rotate,M=x.getViewport({scale:this._zoom,rotation:J}).width*_.CSS_UNITS;let E=this._zoom,W=!0;if(!this._originalSize||this._fitToPage&&M>this.pdfViewerContainer.nativeElement.clientWidth){const re=x.getViewport({scale:1,rotation:J});E=this.getScale(re.width,re.height),W=!this._stickToPage}this.pdfViewer._setScale(E,W)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const x=_.getLinkTarget(this._externalLinkTarget);return x?{externalLinkTarget:x}:{}}initEventBus(){this.eventBus=function de(_,D){const x=new _.EventBus;return function me(_,D){h(_,"documentload").pipe(te(D)).subscribe(()=>{const x=document.createEvent("CustomEvent");x.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(x)}),h(_,"pagerendered").pipe(te(D)).subscribe(({pageNumber:x,cssTransform:J,source:M})=>{const E=document.createEvent("CustomEvent");E.initCustomEvent("pagerendered",!0,!0,{pageNumber:x,cssTransform:J}),M.div.dispatchEvent(E)}),h(_,"textlayerrendered").pipe(te(D)).subscribe(({pageNumber:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:x}),J.textLayerDiv.dispatchEvent(M)}),h(_,"pagechanging").pipe(te(D)).subscribe(({pageNumber:x,source:J})=>{const M=document.createEvent("UIEvents");M.initEvent("pagechanging",!0,!0),M.pageNumber=x,J.container.dispatchEvent(M)}),h(_,"pagesinit").pipe(te(D)).subscribe(({source:x})=>{const J=document.createEvent("CustomEvent");J.initCustomEvent("pagesinit",!0,!0,null),x.container.dispatchEvent(J)}),h(_,"pagesloaded").pipe(te(D)).subscribe(({pagesCount:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("pagesloaded",!0,!0,{pagesCount:x}),J.container.dispatchEvent(M)}),h(_,"scalechange").pipe(te(D)).subscribe(({scale:x,presetValue:J,source:M})=>{const E=document.createEvent("UIEvents");E.initEvent("scalechange",!0,!0),E.scale=x,E.presetValue=J,M.container.dispatchEvent(E)}),h(_,"updateviewarea").pipe(te(D)).subscribe(({location:x,source:J})=>{const M=document.createEvent("UIEvents");M.initEvent("updateviewarea",!0,!0),M.location=x,J.container.dispatchEvent(M)}),h(_,"find").pipe(te(D)).subscribe(({source:x,type:J,query:M,phraseSearch:E,caseSensitive:W,highlightAll:re,findPrevious:be})=>{if(x===window)return;const xe=document.createEvent("CustomEvent");xe.initCustomEvent("find"+J,!0,!0,{query:M,phraseSearch:E,caseSensitive:W,highlightAll:re,findPrevious:be}),window.dispatchEvent(xe)}),h(_,"attachmentsloaded").pipe(te(D)).subscribe(({attachmentsCount:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:x}),J.container.dispatchEvent(M)}),h(_,"sidebarviewchanged").pipe(te(D)).subscribe(({view:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("sidebarviewchanged",!0,!0,{view:x}),J.outerContainer.dispatchEvent(M)}),h(_,"pagemode").pipe(te(D)).subscribe(({mode:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("pagemode",!0,!0,{mode:x}),J.pdfViewer.container.dispatchEvent(M)}),h(_,"namedaction").pipe(te(D)).subscribe(({action:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("namedaction",!0,!0,{action:x}),J.pdfViewer.container.dispatchEvent(M)}),h(_,"presentationmodechanged").pipe(te(D)).subscribe(({active:x,switchInProgress:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("presentationmodechanged",!0,!0,{active:x,switchInProgress:J}),window.dispatchEvent(M)}),h(_,"outlineloaded").pipe(te(D)).subscribe(({outlineCount:x,source:J})=>{const M=document.createEvent("CustomEvent");M.initCustomEvent("outlineloaded",!0,!0,{outlineCount:x}),J.container.dispatchEvent(M)})}(x,D),x}(ne,this.destroy$),h(this.eventBus,"pagerendered").pipe(te(this.destroy$)).subscribe(x=>{this.pageRendered.emit(x)}),h(this.eventBus,"pagesinit").pipe(te(this.destroy$)).subscribe(x=>{this.pageInitialized.emit(x)}),h(this.eventBus,"pagechanging").pipe(te(this.destroy$)).subscribe(({pageNumber:x})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=x,this.pageChange.emit(x)},100)}),h(this.eventBus,"textlayerrendered").pipe(te(this.destroy$)).subscribe(x=>{this.textLayerRendered.emit(x)})}initPDFServices(){this.pdfLinkService=new $.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new $.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:le.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){Ae(Q,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new $.PDFViewer(this.getPDFOptions()):new $.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(x){return x<1?1:x>this._pdf.numPages?this._pdf.numPages:x}getDocumentParams(){const x=typeof this.src;if(!this._cMapsUrl)return this.src;const J={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===x?J.url=this.src:"object"===x&&(void 0!==this.src.byteLength?J.data=this.src:Object.assign(J,this.src)),J}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=U.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=J=>{this.onProgress.emit(J)};const x=this.src;(0,G.D)(this.loadingTask.promise).pipe(te(this.destroy$)).subscribe({next:J=>{this._pdf=J,this.lastLoaded=x,this.afterLoadComplete.emit(J),this.resetPdfDocument(),this.update()},error:J=>{this.lastLoaded=null,this.onError.emit(J)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(x,J){const M=this._showBorders?2*_.BORDER_WIDTH:0,E=this.pdfViewerContainer.nativeElement.clientWidth-M,W=this.pdfViewerContainer.nativeElement.clientHeight-M;if(0===W||0===J||0===E||0===x)return 1;let re=1;switch(this._zoomScale){case"page-fit":re=Math.min(W/J,E/x);break;case"page-height":re=W/J;break;default:re=E/x}return this._zoom*re/_.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){ge()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){ge()||this.ngZone.runOutsideAngular(()=>{h(window,"resize").pipe(function O(_,D=f){return(0,K.e)((x,J)=>{let M=null,E=null,W=null;const re=()=>{if(M){M.unsubscribe(),M=null;const xe=E;E=null,J.next(xe)}};function be(){const xe=W+_,ae=D.now();if(ae<xe)return M=this.schedule(void 0,xe-ae),void J.add(M);re()}x.subscribe((0,Z.x)(J,xe=>{E=xe,W=D.now(),M||(M=D.schedule(be,_),J.add(M))},()=>{re(),J.complete()},void 0,()=>{E=M=null}))})}(100),(0,Y.h)(()=>this._canAutoResize&&!!this._pdf),te(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return _.CSS_UNITS=96/72,_.BORDER_WIDTH=9,_.\u0275fac=function(x){return new(x||_)(m.Y36(m.SBq),m.Y36(m.R0b))},_.\u0275cmp=m.Xpm({type:_,selectors:[["pdf-viewer"]],viewQuery:function(x,J){if(1&x&&m.Gf(ie,5),2&x){let M;m.iGM(M=m.CRH())&&(J.pdfViewerContainer=M.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[m.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(x,J){1&x&&(m.TgZ(0,"div",0,1),m._UZ(2,"div",2),m.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),_})(),Ce=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=m.oAB({type:_}),_.\u0275inj=m.cJS({}),_})();function _e(_,D){if(1&_&&(m.TgZ(0,"div",34),m._UZ(1,"pdf-viewer",35),m.qZA()),2&_){const x=m.oxw();m.xp6(1),m.Q6J("src",x.pdfSrc)("render-text",!0)("original-size",!1)("show-all",!1)("page",1)}}const fe=[{path:"",component:(()=>{class _{constructor(x,J,M,E){this.route=x,this.router=J,this.localService=M,this.location=E,this.applicationForm=new w.cw({userName:new w.NI("",w.kI.required),userContact:new w.NI("",w.kI.required),userGender:new w.NI("",w.kI.required),userBirthDate:new w.NI("",w.kI.required),userLocation:new w.NI("",w.kI.required),userAddress:new w.NI("",w.kI.required),userEducation:new w.NI("",w.kI.required),userIdType:new w.NI("",w.kI.required),userIdNumber:new w.NI("",w.kI.required),userIdPdf:new w.NI("",w.kI.required),userAgreement:new w.NI("",w.kI.required),requestAccepted:new w.NI("Pending")})}ngOnInit(){window.scrollTo(0,0),this.pdfSrc="",this.route.params.subscribe(M=>{this.company=M});let x=localStorage.getItem("user"),J=JSON.parse(x);null!=x&&(J.forEach(M=>{this.user=M}),this.applicationForm.patchValue({userName:this.user.userName,userContact:this.user.userContact}))}upLoad(x){if(x.target.files&&x.target.files[0]){const J=x.target.files[0],M=new FileReader;M.onload=E=>this.pdfSrc=M.result,M.onloadend=()=>{this.selectedPDF=M.result},M.readAsDataURL(J)}else this.pdfSrc="",this.selectedPDF=null}onSubmit(){if(null!=this.user){var x=new FormData;x.append("requestDate",(0,i.p6)(Date(),"yyyy-MM-dd","en-US")),x.append("userName",this.applicationForm.value.userName),x.append("userContact",this.applicationForm.value.userContact),x.append("userGender",this.applicationForm.value.userGender),x.append("userBirthDate",this.applicationForm.value.userBirthDate),x.append("userLocation",this.applicationForm.value.userLocation),x.append("userAddress",this.applicationForm.value.userAddress),x.append("userEducation",this.applicationForm.value.userEducation),x.append("userIdType",this.applicationForm.value.userIdType),x.append("userIdNumber",this.applicationForm.value.userIdNumber),x.append("userIdPdf",this.selectedPDF),x.append("userId",this.user.userId),x.append("companyId",this.company.companyId),x.append("companyName",this.company.companyName),x.append("requestAccepted",this.applicationForm.value.requestAccepted),this.localService.postFunction(x,"/request.php","Request Submitted").then(J=>{this.location.back()})}else V().fire({title:"You are logged out",text:"Log in to continue",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Log in"}).then(J=>{J.isConfirmed&&this.router.navigate(["/register"])})}}return _.\u0275fac=function(x){return new(x||_)(m.Y36(N.gz),m.Y36(N.F0),m.Y36(X.V),m.Y36(i.Ye))},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-apply"]],decls:81,vars:7,consts:[[1,"footer-gap"],[1,"container"],[1,"pt-2"],[1,"desc"],[1,"row"],[1,"col-lg-6"],[3,"formGroup","ngSubmit"],[1,"form-title"],[1,"form-group"],["pInputText","","name","userName","id","userName","type","text","onfocus","this.placeholder = ''","onblur","this.placeholder = 'Enter your name'","formControlName","userName","required","",1,"form-control"],["pInputText","","name","userContact","id","userContact","type","text","onfocus","this.placeholder = ''","onblur","this.placeholder = 'Enter your contact'","formControlName","userContact","required","",1,"form-control"],["aria-label","Default select gender","formControlName","userGender","required","",1,"form-select"],["value","Male"],["value","Female"],["pInputText","","name","userBirthDate","id","userBirthDate","type","date","onfocus","this.placeholder = ''","onblur","this.placeholder = 'Select date of birth'","formControlName","userBirthDate","required","",1,"form-control"],["pInputText","","name","userLocation","id","userLocation","type","text","onfocus","this.placeholder = ''","onblur","this.placeholder = 'Enter your location'","formControlName","userLocation","required","",1,"form-control"],["pInputText","","name","userAddress","id","userAddress","type","text","onfocus","this.placeholder = ''","onblur","this.placeholder = 'Enter postal address'","formControlName","userAddress","required","",1,"form-control","valid"],["aria-label","Default select example","formControlName","userEducation","required","",1,"form-select"],["value","Elimentary"],["value","HighSchool"],["value","Tertiary"],["aria-label","Default select example","formControlName","userIdType","required","",1,"form-select"],["value","NationalId"],["value","DriversLincense"],["value","VotersId"],["pInputText","","name","userIdNumber","id","userIdNumber","type","text","onfocus","this.placeholder = ''","onblur","this.placeholder = 'Enter your card-number'","formControlName","userIdNumber","required","",1,"form-control","valid"],["class","py-1",4,"ngIf"],[1,"input-group","mb-3"],["type","file","name","userIdPdf","id","userIdPdf","accept",".pdf","formControlName","userIdPdf","required","",1,"form-control",3,"change"],[1,"form-check"],["type","checkbox","name","userAgreement","id","userAgreement","formControlName","userAgreement","required","",1,"form-check-input"],[1,"form-check-label"],[1,"sub-button"],["type","submit",1,"btn","btn-info",3,"disabled"],[1,"py-1"],[2,"height","400px",3,"src","render-text","original-size","show-all","page"]],template:function(x,J){1&x&&(m._UZ(0,"app-navbar"),m.TgZ(1,"div",0)(2,"Div",1)(3,"h4",2),m._uU(4),m.qZA(),m.TgZ(5,"p",3),m._uU(6),m.qZA(),m.TgZ(7,"h4"),m._uU(8,"Job Description"),m.qZA(),m.TgZ(9,"p",3),m._uU(10),m.qZA(),m.TgZ(11,"h4"),m._uU(12),m.qZA(),m.TgZ(13,"div",4)(14,"div",5)(15,"form",6),m.NdJ("ngSubmit",function(){return J.onSubmit()}),m.TgZ(16,"h6",7),m._uU(17,"Full Name"),m.qZA(),m.TgZ(18,"div",8),m._UZ(19,"input",9),m.qZA(),m.TgZ(20,"h6",7),m._uU(21,"Contact Number"),m.qZA(),m.TgZ(22,"div",8),m._UZ(23,"input",10),m.qZA(),m.TgZ(24,"h6",7),m._uU(25,"Select Gender"),m.qZA(),m.TgZ(26,"div",8)(27,"select",11)(28,"option",12),m._uU(29,"Male"),m.qZA(),m.TgZ(30,"option",13),m._uU(31,"Female"),m.qZA()()(),m.TgZ(32,"h6",7),m._uU(33,"Date of Birth"),m.qZA(),m.TgZ(34,"div",8),m._UZ(35,"input",14),m.qZA(),m.TgZ(36,"h6",7),m._uU(37,"Location"),m.qZA(),m.TgZ(38,"div",8),m._UZ(39,"input",15),m.qZA(),m.TgZ(40,"h6",7),m._uU(41,"Postal Address"),m.qZA(),m.TgZ(42,"div",8),m._UZ(43,"input",16),m.qZA(),m.TgZ(44,"h6",7),m._uU(45,"Select Highest Educational Level"),m.qZA(),m.TgZ(46,"div",8)(47,"select",17)(48,"option",18),m._uU(49,"Elimentary Level"),m.qZA(),m.TgZ(50,"option",19),m._uU(51,"High School"),m.qZA(),m.TgZ(52,"option",20),m._uU(53,"Tertiary Level"),m.qZA()()(),m.TgZ(54,"h6",7),m._uU(55,"Identification Type"),m.qZA(),m.TgZ(56,"div",8)(57,"select",21)(58,"option",22),m._uU(59,"National ID Card"),m.qZA(),m.TgZ(60,"option",23),m._uU(61,"Drivers License"),m.qZA(),m.TgZ(62,"option",24),m._uU(63,"Voters ID Card"),m.qZA()()(),m.TgZ(64,"h6",7),m._uU(65,"Identification Number"),m.qZA(),m.TgZ(66,"div",8),m._UZ(67,"input",25),m.qZA(),m.YNc(68,_e,2,5,"div",26),m.TgZ(69,"h6",7),m._uU(70,"PDF of Identification Card"),m.qZA(),m.TgZ(71,"div",27)(72,"input",28),m.NdJ("change",function(E){return J.upLoad(E)}),m.qZA()(),m.TgZ(73,"div",29),m._UZ(74,"input",30),m.TgZ(75,"label",31),m._uU(76," I hereby declare that the information provided is true and correct. I also understand that any willful dishonesty may render for refusal of this application or immediate termination of employment. "),m.qZA()(),m.TgZ(77,"div",32)(78,"button",33),m._uU(79," Submit "),m.qZA()()()()()()(),m._UZ(80,"app-footer")),2&x&&(m.xp6(4),m.hij("About ",J.company.companyName,""),m.xp6(2),m.hij(" ",J.company.companyDescription," "),m.xp6(4),m.hij(" ",J.company.jobDescription," "),m.xp6(2),m.hij("Application for ",J.company.officeTitle,""),m.xp6(3),m.Q6J("formGroup",J.applicationForm),m.xp6(53),m.Q6J("ngIf",""!=J.pdfSrc),m.xp6(10),m.Q6J("disabled",!J.applicationForm.valid))},dependencies:[i.O5,j.S,H.c,w._Y,w.YN,w.Kr,w.Fj,w.Wl,w.EJ,w.JJ,w.JL,w.Q7,w.Zs,w.sg,w.u,g.o,we],styles:[".form-group[_ngcontent-%COMP%]{padding-bottom:5px}.form-title[_ngcontent-%COMP%]{color:#0083c1}.sub-button[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:20px;display:flex;flex-direction:column}.desc[_ngcontent-%COMP%]{text-align:justify}"]}),_})()}];let ye=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=m.oAB({type:_}),_.\u0275inj=m.cJS({imports:[N.Bz.forChild(fe),N.Bz]}),_})(),se=(()=>{class _{}return _.\u0275fac=function(x){return new(x||_)},_.\u0275mod=m.oAB({type:_}),_.\u0275inj=m.cJS({imports:[i.ez,ye,B.W,q._,L.I,N.Bz,Ce]}),_})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,P;P=()=>(()=>{"use strict";var __webpack_modules__=[,(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=U,a.arraysToBytes=function Q(M){const E=M.length;if(1===E&&M[0]instanceof Uint8Array)return M[0];let W=0;for(let xe=0;xe<E;xe++)W+=U(M[xe]);let re=0;const be=new Uint8Array(W);for(let xe=0;xe<E;xe++){let ae=M[xe];ae instanceof Uint8Array||(ae="string"==typeof ae?Y(ae):new Uint8Array(ae));const he=ae.byteLength;be.set(ae,re),re+=he}return be},a.assert=function ee(M,E){M||Z(E)},a.bytesToString=function O(M){("object"!=typeof M||null===M||void 0===M.length)&&Z("Invalid argument for bytesToString");const E=M.length,W=8192;if(E<W)return String.fromCharCode.apply(null,M);const re=[];for(let be=0;be<E;be+=W){const xe=Math.min(be+W,E),ae=M.subarray(be,xe);re.push(String.fromCharCode.apply(null,ae))}return re.join("")},a.createPromiseCapability=function J(){const M=Object.create(null);let E=!1;return Object.defineProperty(M,"settled",{get:()=>E}),M.promise=new Promise(function(W,re){M.resolve=function(be){E=!0,W(be)},M.reject=function(be){E=!0,re(be)}}),M},a.createValidAbsoluteUrl=function ue(M,E=null,W=null){if(!M)return null;try{if(W&&"string"==typeof M){if(W.addDefaultProtocol&&M.startsWith("www.")){const be=M.match(/\./g);be&&be.length>=2&&(M=`http://${M}`)}if(W.tryConvertEncoding)try{M=ye(M)}catch{}}const re=E?new URL(M,E):new URL(M);if(function te(M){if(!M)return!1;switch(M.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(re))return re}catch{}return null},a.escapeString=function _e(M){return M.replace(/([()\\\n\r])/g,E=>"\n"===E?"\\n":"\r"===E?"\\r":`\\${E}`)},a.getModificationDate=function x(M=new Date){return[M.getUTCFullYear().toString(),(M.getUTCMonth()+1).toString().padStart(2,"0"),M.getUTCDate().toString().padStart(2,"0"),M.getUTCHours().toString().padStart(2,"0"),M.getUTCMinutes().toString().padStart(2,"0"),M.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function F(){return c},a.info=function G(M){c>=u.INFOS&&console.log(`Info: ${M}`)},a.isArrayBuffer=function _(M){return"object"==typeof M&&null!==M&&void 0!==M.byteLength},a.isArrayEqual=function D(M,E){if(M.length!==E.length)return!1;for(let W=0,re=M.length;W<re;W++)if(M[W]!==E[W])return!1;return!0},a.isAscii=function oe(M){return/^[\x00-\x7F]*$/.test(M)},a.objectFromMap=function ie(M){const E=Object.create(null);for(const[W,re]of M)E[W]=re;return E},a.objectSize=function ne(M){return Object.keys(M).length},a.setVerbosityLevel=function I(M){Number.isInteger(M)&&(c=M)},a.shadow=ce,a.string32=function $(M){return String.fromCharCode(M>>24&255,M>>16&255,M>>8&255,255&M)},a.stringToBytes=Y,a.stringToPDFString=function Ce(M){if(M[0]>="\xef"){let W;if("\xfe"===M[0]&&"\xff"===M[1]?W="utf-16be":"\xff"===M[0]&&"\xfe"===M[1]?W="utf-16le":"\xef"===M[0]&&"\xbb"===M[1]&&"\xbf"===M[2]&&(W="utf-8"),W)try{const re=new TextDecoder(W,{fatal:!0}),be=Y(M);return re.decode(be)}catch(re){K(`stringToPDFString: "${re}".`)}}const E=[];for(let W=0,re=M.length;W<re;W++){const be=we[M.charCodeAt(W)];E.push(be?String.fromCharCode(be):M.charAt(W))}return E.join("")},a.stringToUTF16BEString=function fe(M){const E=["\xfe\xff"];for(let W=0,re=M.length;W<re;W++){const be=M.charCodeAt(W);E.push(String.fromCharCode(be>>8&255),String.fromCharCode(255&be))}return E.join("")},a.stringToUTF8String=ye,a.unreachable=Z,a.utf8StringToString=function se(M){return unescape(encodeURIComponent(M))},a.warn=K,P(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const u={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=u,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c=u.WARNINGS;function K(M){c>=u.WARNINGS&&console.log(`Warning: ${M}`)}function Z(M){throw new Error(M)}function ce(M,E,W){return Object.defineProperty(M,E,{value:W,enumerable:!0,configurable:!0,writable:!1}),W}const R=function(){function E(W,re){this.constructor===E&&Z("Cannot initialize BaseException."),this.message=W,this.name=re}return E.prototype=new Error,E.constructor=E,E}();function Y(M){"string"!=typeof M&&Z("Invalid argument for stringToBytes");const E=M.length,W=new Uint8Array(E);for(let re=0;re<E;++re)W[re]=255&M.charCodeAt(re);return W}function U(M){return void 0!==M.length?M.length:void 0!==M.byteLength?M.byteLength:void Z("Invalid argument for arrayByteLength")}a.BaseException=R,a.PasswordException=class s extends R{constructor(E,W){super(E,"PasswordException"),this.code=W}},a.UnknownErrorException=class e extends R{constructor(E,W){super(E,"UnknownErrorException"),this.details=W}},a.InvalidPDFException=class r extends R{constructor(E){super(E,"InvalidPDFException")}},a.MissingPDFException=class o extends R{constructor(E){super(E,"MissingPDFException")}},a.UnexpectedResponseException=class d extends R{constructor(E,W){super(E,"UnexpectedResponseException"),this.status=W}},a.FormatError=class f extends R{constructor(E){super(E,"FormatError")}},a.AbortException=class l extends R{constructor(E){super(E,"AbortException")}},a.FeatureTest=class Ae{static get isLittleEndian(){return ce(this,"isLittleEndian",function de(){const M=new Uint8Array(4);return M[0]=1,1===new Uint32Array(M.buffer,0,1)[0]}())}static get isEvalSupported(){return ce(this,"isEvalSupported",function me(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const ge=[...Array(256).keys()].map(M=>M.toString(16).padStart(2,"0"));class le{static makeHexColor(E,W,re){return`#${ge[E]}${ge[W]}${ge[re]}`}static scaleMinMax(E,W){let re;E[0]?(E[0]<0&&(re=W[0],W[0]=W[1],W[1]=re),W[0]*=E[0],W[1]*=E[0],E[3]<0&&(re=W[2],W[2]=W[3],W[3]=re),W[2]*=E[3],W[3]*=E[3]):(re=W[0],W[0]=W[2],W[2]=re,re=W[1],W[1]=W[3],W[3]=re,E[1]<0&&(re=W[2],W[2]=W[3],W[3]=re),W[2]*=E[1],W[3]*=E[1],E[2]<0&&(re=W[0],W[0]=W[1],W[1]=re),W[0]*=E[2],W[1]*=E[2]),W[0]+=E[4],W[1]+=E[4],W[2]+=E[5],W[3]+=E[5]}static transform(E,W){return[E[0]*W[0]+E[2]*W[1],E[1]*W[0]+E[3]*W[1],E[0]*W[2]+E[2]*W[3],E[1]*W[2]+E[3]*W[3],E[0]*W[4]+E[2]*W[5]+E[4],E[1]*W[4]+E[3]*W[5]+E[5]]}static applyTransform(E,W){return[E[0]*W[0]+E[1]*W[2]+W[4],E[0]*W[1]+E[1]*W[3]+W[5]]}static applyInverseTransform(E,W){const re=W[0]*W[3]-W[1]*W[2];return[(E[0]*W[3]-E[1]*W[2]+W[2]*W[5]-W[4]*W[3])/re,(-E[0]*W[1]+E[1]*W[0]+W[4]*W[1]-W[5]*W[0])/re]}static getAxialAlignedBoundingBox(E,W){const re=le.applyTransform(E,W),be=le.applyTransform(E.slice(2,4),W),xe=le.applyTransform([E[0],E[3]],W),ae=le.applyTransform([E[2],E[1]],W);return[Math.min(re[0],be[0],xe[0],ae[0]),Math.min(re[1],be[1],xe[1],ae[1]),Math.max(re[0],be[0],xe[0],ae[0]),Math.max(re[1],be[1],xe[1],ae[1])]}static inverseTransform(E){const W=E[0]*E[3]-E[1]*E[2];return[E[3]/W,-E[1]/W,-E[2]/W,E[0]/W,(E[2]*E[5]-E[4]*E[3])/W,(E[4]*E[1]-E[5]*E[0])/W]}static apply3dTransform(E,W){return[E[0]*W[0]+E[1]*W[1]+E[2]*W[2],E[3]*W[0]+E[4]*W[1]+E[5]*W[2],E[6]*W[0]+E[7]*W[1]+E[8]*W[2]]}static singularValueDecompose2dScale(E){const W=[E[0],E[2],E[1],E[3]],re=E[0]*W[0]+E[1]*W[2],ae=E[2]*W[1]+E[3]*W[3],he=(re+ae)/2,Se=Math.sqrt((re+ae)**2-4*(re*ae-(E[2]*W[0]+E[3]*W[2])*(E[0]*W[1]+E[1]*W[3])))/2,pe=he-Se||1;return[Math.sqrt(he+Se||1),Math.sqrt(pe)]}static normalizeRect(E){const W=E.slice(0);return E[0]>E[2]&&(W[0]=E[2],W[2]=E[0]),E[1]>E[3]&&(W[1]=E[3],W[3]=E[1]),W}static intersect(E,W){const re=Math.max(Math.min(E[0],E[2]),Math.min(W[0],W[2])),be=Math.min(Math.max(E[0],E[2]),Math.max(W[0],W[2]));if(re>be)return null;const xe=Math.max(Math.min(E[1],E[3]),Math.min(W[1],W[3])),ae=Math.min(Math.max(E[1],E[3]),Math.max(W[1],W[3]));return xe>ae?null:[re,xe,be,ae]}static bezierBoundingBox(E,W,re,be,xe,ae,he,Se){const Pe=[],pe=[[],[]];let Ee,ve,Te,Me,ke,Le,Ne,Fe;for(let De=0;De<2;++De)if(0===De?(ve=6*E-12*re+6*xe,Ee=-3*E+9*re-9*xe+3*he,Te=3*re-3*E):(ve=6*W-12*be+6*ae,Ee=-3*W+9*be-9*ae+3*Se,Te=3*be-3*W),Math.abs(Ee)<1e-12){if(Math.abs(ve)<1e-12)continue;Me=-Te/ve,0<Me&&Me<1&&Pe.push(Me)}else Ne=ve*ve-4*Te*Ee,Fe=Math.sqrt(Ne),!(Ne<0)&&(ke=(-ve+Fe)/(2*Ee),0<ke&&ke<1&&Pe.push(ke),Le=(-ve-Fe)/(2*Ee),0<Le&&Le<1&&Pe.push(Le));let Re,Ie=Pe.length;const Oe=Ie;for(;Ie--;)Me=Pe[Ie],Re=1-Me,pe[0][Ie]=Re*Re*Re*E+3*Re*Re*Me*re+3*Re*Me*Me*xe+Me*Me*Me*he,pe[1][Ie]=Re*Re*Re*W+3*Re*Re*Me*be+3*Re*Me*Me*ae+Me*Me*Me*Se;return pe[0][Oe]=E,pe[1][Oe]=W,pe[0][Oe+1]=he,pe[1][Oe+1]=Se,pe[0].length=pe[1].length=Oe+2,[Math.min(...pe[0]),Math.min(...pe[1]),Math.max(...pe[0]),Math.max(...pe[1])]}}a.Util=le;const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ye(M){return decodeURIComponent(escape(M))}},(z,a,P)=>{P(3)},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const P=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=P},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:z,NodeCMapReaderFactory:a,NodeStandardFontDataFactory:P}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=z,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=a,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=P}function setPDFNetworkStreamFactory(z){createPDFNetworkStream=z}function getDocument(z){const a=new PDFDocumentLoadingTask;let P;if("string"==typeof z||z instanceof URL)P={url:z};else if((0,_util.isArrayBuffer)(z))P={data:z};else if(z instanceof PDFDataRangeTransport)P={range:z};else{if("object"!=typeof z)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!z.url&&!z.data&&!z.range)throw new Error("Invalid parameter object: need either .data, .range or .url");P=z}const i=Object.create(null);let N=null,B=null;for(const L in P){const w=P[L];switch(L){case"url":if(typeof window<"u")try{i[L]=new URL(w,window.location).href;continue}catch(v){(0,_util.warn)(`Cannot create valid URL: "${v}".`)}else if("string"==typeof w||w instanceof URL){i[L]=w.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":N=w;continue;case"worker":B=w;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&w instanceof Buffer)i[L]=new Uint8Array(w);else{if(w instanceof Uint8Array)break;if("string"==typeof w)i[L]=(0,_util.stringToBytes)(w);else if("object"!=typeof w||null===w||isNaN(w.length)){if(!(0,_util.isArrayBuffer)(w))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[L]=new Uint8Array(w)}else i[L]=new Uint8Array(w)}continue}i[L]=w}if(i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,(!Number.isInteger(i.rangeChunkSize)||i.rangeChunkSize<1)&&(i.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),(!Number.isInteger(i.maxImageSize)||i.maxImageSize<-1)&&(i.maxImageSize=-1),"string"!=typeof i.cMapUrl&&(i.cMapUrl=null),"string"!=typeof i.standardFontDataUrl&&(i.standardFontDataUrl=null),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),("object"!=typeof i.ownerDocument||null===i.ownerDocument)&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!B){const L={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};B=L.port?_PDFWorker.fromPort(L):new _PDFWorker(L),a._worker=B}const q=a.docId;return B.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const L=_fetchDocument(B,i,N,q),w=new Promise(function(v){let V;N?V=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},N):i.data||(V=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),v(V)});return Promise.all([L,w]).then(function([v,V]){if(a.destroyed)throw new Error("Loading aborted");const m=new _message_handler.MessageHandler(q,v,B.port),X=new WorkerTransport(m,a,V,i);a._transport=X,m.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(z,a,P,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(z,a,P,i){if(z.destroyed)throw new Error("Worker was destroyed");P&&(a.length=P.length,a.initialData=P.initialData,a.progressiveDone=P.progressiveDone,a.contentDispositionFilename=P.contentDispositionFilename);const N=yield z.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.14.305",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(z.destroyed)throw new Error("Worker was destroyed");return N})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var a,P;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(a=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),P=a++,a)),P}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,P,i=!1,N=null){this.length=a,this.initialData=P,this.progressiveDone=i,this.contentDispositionFilename=N,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,P){for(const i of this._rangeListeners)i(a,P)}onDataProgress(a,P){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,P)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const P of this._progressiveReadListeners)P(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,P){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,P){var N,i=this;this._pdfInfo=a,this._transport=P,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(N=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return N.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,P,i,N,B=!1){this._pageIndex=a,this._pageInfo=P,this._ownerDocument=N,this._transport=i,this._stats=B?new _display_utils.StatTimer:null,this._pdfBug=B,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:P=this.rotate,offsetX:i=0,offsetY:N=0,dontFlip:B=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:P,offsetX:i,offsetY:N,dontFlip:B})}getAnnotations({intent:a="display"}={}){const P=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(P.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,P.renderingIntent),this._annotationPromises.set(P.cacheKey,i),i=i.then(N=>{for(const B of N)void 0!==B.titleObj&&Object.defineProperty(B,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),B.titleObj.str)}),void 0!==B.contentsObj&&Object.defineProperty(B,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),B.contentsObj.str)});return N})),i}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:P,intent:i="display",annotationMode:N=_util.AnnotationMode.ENABLE,transform:B=null,imageLayer:q=null,canvasFactory:L=null,background:w=null,optionalContentConfigPromise:v=null,annotationCanvasMap:V=null,pageColors:m=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&N===_util.AnnotationMode.ENABLE&&(N=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&N===_util.AnnotationMode.ENABLE&&(N=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const X=this._transport.getRenderingIntent(i,N);this.pendingCleanup=!1,v||(v=this._transport.getOptionalContentConfig());let j=this._intentStates.get(X.cacheKey);j||(j=Object.create(null),this._intentStates.set(X.cacheKey,j)),j.streamReaderCancelTimeout&&(clearTimeout(j.streamReaderCancelTimeout),j.streamReaderCancelTimeout=null);const H=L||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=!!(X.renderingIntent&_util.RenderingIntentFlag.PRINT);j.displayReadyCapability||(j.displayReadyCapability=(0,_util.createPromiseCapability)(),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(X));const k=y=>{j.renderTasks.delete(A),(this.cleanupAfterRender||g)&&(this.pendingCleanup=!0),this._tryCleanup(),y?(A.capability.reject(y),this._abortOperatorList({intentState:j,reason:y instanceof Error?y:new Error(y)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},A=new InternalRenderTask({callback:k,params:{canvasContext:a,viewport:P,transform:B,imageLayer:q,background:w},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:V,operatorList:j.operatorList,pageIndex:this._pageIndex,canvasFactory:H,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:m});(j.renderTasks||=new Set).add(A);const T=A.task;return Promise.all([j.displayReadyCapability.promise,v]).then(([y,S])=>{this.pendingCleanup?k():(this._stats&&this._stats.time("Rendering"),A.initializeGraphics({transparency:y,optionalContentConfig:S}),A.operatorListChanged())}).catch(k),T}getOperatorList({intent:a="display",annotationMode:P=_util.AnnotationMode.ENABLE}={}){const N=this._transport.getRenderingIntent(a,P,!0);let q,B=this._intentStates.get(N.cacheKey);return B||(B=Object.create(null),this._intentStates.set(N.cacheKey,B)),B.opListReadCapability||(q=Object.create(null),q.operatorListChanged=function i(){B.operatorList.lastChunk&&(B.opListReadCapability.resolve(B.operatorList),B.renderTasks.delete(q))},B.opListReadCapability=(0,_util.createPromiseCapability)(),(B.renderTasks||=new Set).add(q),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(N)),B.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:P=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===P},{highWaterMark:100,size:N=>N.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const P=this.streamTextContent(a);return new Promise(function(i,N){const q=P.getReader(),L={items:[],styles:Object.create(null)};!function B(){q.read().then(function({value:w,done:v}){v?i(L):(Object.assign(L.styles,w.styles),L.items.push(...w.items),B())},N)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const a=[];for(const P of this._intentStates.values())if(this._abortOperatorList({intentState:P,reason:new Error("Page was destroyed."),force:!0}),!P.opListReadCapability)for(const i of P.renderTasks)a.push(i.completed),i.cancel();this.objs.clear();for(const P of this._bitmaps)P.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:P,operatorList:i}of this._intentStates.values())if(P.size>0||!i.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const P of this._bitmaps)P.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(a,P){const i=this._intentStates.get(P);i&&(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,P){for(let i=0,N=a.length;i<N;i++)P.operatorList.fnArray.push(a.fnArray[i]),P.operatorList.argsArray.push(a.argsArray[i]);P.operatorList.lastChunk=a.lastChunk;for(const i of P.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:P}){const N=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:P,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),B=this._intentStates.get(P);B.streamReader=N;const q=()=>{N.read().then(({value:L,done:w})=>{w?B.streamReader=null:this._transport.destroyed||(this._renderPageChunk(L,B),q())},L=>{if(B.streamReader=null,!this._transport.destroyed){if(B.operatorList){B.operatorList.lastChunk=!0;for(const w of B.renderTasks)w.operatorListChanged();this._tryCleanup()}if(B.displayReadyCapability)B.displayReadyCapability.reject(L);else{if(!B.opListReadCapability)throw L;B.opListReadCapability.reject(L)}}})};q()}_abortOperatorList({intentState:a,reason:P,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(P instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:P,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(P.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[N,B]of this._intentStates)if(B===a){this._intentStates.delete(N);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,P){const i={data:structuredClone(a,P)};this._deferred.then(()=>{for(const N of this._listeners)N.call(this,i)})}addEventListener(a,P){this._listeners.push(P)}removeEventListener(a,P){const i=this._listeners.indexOf(P);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const z=document?.currentScript?.src;z&&(PDFWorkerUtil.fallbackWorkerSrc=z.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(z,a){let P;try{if(P=new URL(z),!P.origin||"null"===P.origin)return!1}catch{return!1}const i=new URL(a,P);return P.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(z){return URL.createObjectURL(new Blob([`importScripts("${z}");`]))};class _PDFWorker{constructor({name:z=null,port:a=null,verbosity:P=(0,_util.getVerbosityLevel)()}={}){if(a&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=z,this.destroyed=!1,this.verbosity=P,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(z){this._port=z,this._messageHandler=new _message_handler.MessageHandler("main","worker",z),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let z=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,z)||(z=PDFWorkerUtil.createCDNWrapper(new URL(z,window.location).href));const a=new Worker(z),P=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",N),P.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},N=()=>{this._webWorker||i()};a.addEventListener("error",N),P.on("test",q=>{a.removeEventListener("error",N),this.destroyed?i():q?(this._messageHandler=P,this._port=a,this._webWorker=a,this._readyCapability.resolve(),P.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),P.destroy(),a.terminate())}),P.on("ready",q=>{if(a.removeEventListener("error",N),this.destroyed)i();else try{B()}catch{this._setupFakeWorker()}});const B=()=>{const q=new Uint8Array;P.send("test",q,[q.buffer])};return void B()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(z=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const P="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(P+"_worker",P,a);z.setup(i,a);const N=new _message_handler.MessageHandler(P,P+"_worker",a);this._messageHandler=N,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})}).catch(z=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${z.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(z){if(!z?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(z.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(z.port):new _PDFWorker(z)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function z(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,P,i,N){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=P,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:P.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:N.ownerDocument,styleElement:N.styleElement}),this._params=N,N.useWorkerFetch||(this.CMapReaderFactory=new N.CMapReaderFactory({baseUrl:N.cMapUrl,isCompressed:N.cMapPacked}),this.StandardFontDataFactory=new N.StandardFontDataFactory({baseUrl:N.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,P=_util.AnnotationMode.ENABLE,i=!1){let N=_util.RenderingIntentFlag.DISPLAY,B="";switch(a){case"any":N=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":N=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(P){case _util.AnnotationMode.DISABLE:N+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:N+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:N+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,B=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${P}`)}return i&&(N+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:N,cacheKey:`${N}_${B}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())a.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const P=this.messageHandler.sendWithPromise("Terminate",null);return a.push(P),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:P}=this;a.on("GetReader",(i,N)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=B=>{this._lastProgress={loaded:B.loaded,total:B.total}},N.onPull=()=>{this._fullReader.read().then(function({value:B,done:q}){q?N.close():((0,_util.assert)((0,_util.isArrayBuffer)(B),"GetReader - expected an ArrayBuffer."),N.enqueue(new Uint8Array(B),1,[B]))}).catch(B=>{N.error(B)})},N.onCancel=B=>{this._fullReader.cancel(B),N.ready.catch(q=>{if(!this.destroyed)throw q})}}),a.on("ReaderHeadersReady",i=>{const N=(0,_util.createPromiseCapability)(),B=this._fullReader;return B.headersReady.then(()=>{(!B.isStreamingSupported||!B.isRangeSupported)&&(this._lastProgress&&P.onProgress?.(this._lastProgress),B.onProgress=q=>{P.onProgress?.({loaded:q.loaded,total:q.total})}),N.resolve({isStreamingSupported:B.isStreamingSupported,isRangeSupported:B.isRangeSupported,contentLength:B.contentLength})},N.reject),N.promise}),a.on("GetRangeReader",(i,N)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const B=this._networkStream.getRangeReader(i.begin,i.end);B?(N.onPull=()=>{B.read().then(function({value:q,done:L}){L?N.close():((0,_util.assert)((0,_util.isArrayBuffer)(q),"GetRangeReader - expected an ArrayBuffer."),N.enqueue(new Uint8Array(q),1,[q]))}).catch(q=>{N.error(q)})},N.onCancel=q=>{B.cancel(q),N.ready.catch(L=>{if(!this.destroyed)throw L})}):N.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,P._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let N;switch(i.name){case"PasswordException":N=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":N=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":N=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":N=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":N=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}P._capability.reject(N)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),P.onPassword){const N=B=>{B instanceof Error?this._passwordCapability.reject(B):this._passwordCapability.resolve({password:B})};try{P.onPassword(N,i.code)}catch(B){this._passwordCapability.reject(B)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{P.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,N,B])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(N){case"Font":const q=this._params;if("error"in B){const v=B.error;(0,_util.warn)(`Error during font loading: ${v}`),this.commonObjs.resolve(i,v);break}let L=null;q.pdfBug&&globalThis.FontInspector?.enabled&&(L={registerFont(v,V){globalThis.FontInspector.fontAdded(v,V)}});const w=new _font_loader.FontFaceObject(B,{isEvalSupported:q.isEvalSupported,disableFontFace:q.disableFontFace,ignoreErrors:q.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:L});this.fontLoader.bind(w).catch(v=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!q.fontExtraProperties&&w.data&&(w.data=null),this.commonObjs.resolve(i,w)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,B);break;default:throw new Error(`Got unknown common object type ${N}`)}}),a.on("obj",([i,N,B,q])=>{if(this.destroyed)return;const L=_classPrivateFieldGet(this,_pageCache).get(N);if(!L.objs.has(i))switch(B){case"Image":L.objs.resolve(i,q);const w=8e6;if(q){let v;if(q.bitmap){const{bitmap:V,width:m,height:X}=q;v=m*X*4,L._bitmaps.add(V)}else v=q.data?.length||0;v>w&&(L.cleanupAfterRender=!0)}break;case"Pattern":L.objs.resolve(i,q);break;default:throw new Error(`Got unknown object type ${B}`)}}),a.on("DocProgress",i=>{this.destroyed||P.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const P=a-1,i=_classPrivateFieldGet(this,_pagePromises).get(P);if(i)return i;const N=this.messageHandler.sendWithPromise("GetPage",{pageIndex:P}).then(B=>{if(this.destroyed)throw new Error("Transport destroyed");const q=new PDFPageProxy(P,B,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(P,q),q});return _classPrivateFieldGet(this,_pagePromises).set(P,N),N}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,P){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:P})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var P=this;return _asyncToGenerator(function*(){if(yield P.messageHandler.sendWithPromise("Cleanup",null),!P.destroyed){for(const i of _classPrivateFieldGet(P,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);P.commonObjs.clear(),a||P.fontLoader.clear(),_classPrivateFieldSet(P,_metadataPromise,null),P._getFieldObjectsPromise=null,P._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,P=null){if(P){const N=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return N.capability.promise.then(()=>P(N.data)),null}const i=_classPrivateFieldGet(this,_objs)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,P=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);i.data=P,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(z){return _classPrivateFieldGet(this,_objs)[z]||(_classPrivateFieldGet(this,_objs)[z]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:a,params:P,objs:i,commonObjs:N,annotationCanvasMap:B,operatorList:q,pageIndex:L,canvasFactory:w,useRequestAnimationFrame:v=!1,pdfBug:V=!1,pageColors:m=null}){this.callback=a,this.params=P,this.objs=i,this.commonObjs=N,this.annotationCanvasMap=B,this.operatorListIdx=null,this.operatorList=q,this._pageIndex=L,this.canvasFactory=w,this._pdfBug=V,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===v&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=P.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:P}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:N,transform:B,imageLayer:q,background:L}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,q,P,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:B,viewport:N,transparency:a,background:L}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(a._canvas),a.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function n(b){console.log("Deprecated API usage: "+b)},a.getFilenameFromUrl=function A(b){const p=b.indexOf("#"),c=b.indexOf("?"),I=Math.min(p>0?p:b.length,c>0?c:b.length);return b.substring(b.lastIndexOf("/",I)+1,I)},a.getPdfFilenameFromUrl=function T(b,p="document.pdf"){if("string"!=typeof b)return p;if(g(b))return(0,N.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),p;const I=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,F=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(b);let G=I.exec(F[1])||I.exec(F[2])||I.exec(F[3]);if(G&&(G=G[0],G.includes("%")))try{G=I.exec(decodeURIComponent(G))[0]}catch{}return G||p},a.getXfaPageViewport=function h(b,{scale:p=1,rotation:c=0}){const{width:I,height:F}=b.attributes.style,G=[0,0,parseInt(I),parseInt(F)];return new j({viewBox:G,scale:p,rotation:c})},a.isDataScheme=g,a.isPdfFile=function k(b){return"string"==typeof b&&/\.pdf$/i.test(b)},a.isValidFetchUrl=S,a.loadScript=function t(b,p=!1){return new Promise((c,I)=>{const F=document.createElement("script");F.src=b,F.onload=function(G){p&&F.remove(),c(G)},F.onerror=function(){I(new Error(`Cannot load script at: ${F.src}`))},(document.head||document.documentElement).appendChild(F)})};var i=P(6),N=P(1);class q{}function w(b){return v.apply(this,arguments)}function v(){return(v=_asyncToGenerator(function*(b,p=!1){if(S(b,document.baseURI)){const c=yield fetch(b);if(!c.ok)throw new Error(c.statusText);return p?new Uint8Array(yield c.arrayBuffer()):(0,N.stringToBytes)(yield c.text())}return new Promise((c,I)=>{const F=new XMLHttpRequest;F.open("GET",b,!0),p&&(F.responseType="arraybuffer"),F.onreadystatechange=()=>{if(F.readyState===XMLHttpRequest.DONE){if(200===F.status||0===F.status){let G;if(p&&F.response?G=new Uint8Array(F.response):!p&&F.responseText&&(G=(0,N.stringToBytes)(F.responseText)),G)return void c(G)}I(new Error(F.statusText))}},F.send(null)})})).apply(this,arguments)}_defineProperty(q,"CSS",96),_defineProperty(q,"PDF",72),_defineProperty(q,"PDF_TO_CSS_UNITS",q.CSS/q.PDF),a.PixelsPerInch=q,a.DOMCanvasFactory=class L extends i.BaseCanvasFactory{constructor({ownerDocument:p=globalThis.document}={}){super(),this._document=p}_createCanvas(p,c){const I=this._document.createElement("canvas");return I.width=p,I.height=c,I}},a.DOMCMapReaderFactory=class V extends i.BaseCMapReaderFactory{_fetchData(p,c){return w(p,this.isCompressed).then(I=>({cMapData:I,compressionType:c}))}},a.DOMStandardFontDataFactory=class m extends i.BaseStandardFontDataFactory{_fetchData(p){return w(p,!0)}},a.DOMSVGFactory=class X extends i.BaseSVGFactory{_createSVG(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}};class j{constructor({viewBox:p,scale:c,rotation:I,offsetX:F=0,offsetY:G=0,dontFlip:K=!1}){this.viewBox=p,this.scale=c,this.rotation=I,this.offsetX=F,this.offsetY=G;const Z=(p[2]+p[0])/2,ee=(p[3]+p[1])/2;let te,ue,ce,R,s,e,r,o;switch((I%=360)<0&&(I+=360),I){case 180:te=-1,ue=0,ce=0,R=1;break;case 90:te=0,ue=1,ce=1,R=0;break;case 270:te=0,ue=-1,ce=-1,R=0;break;case 0:te=1,ue=0,ce=0,R=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}K&&(ce=-ce,R=-R),0===te?(s=Math.abs(ee-p[1])*c+F,e=Math.abs(Z-p[0])*c+G,r=Math.abs(p[3]-p[1])*c,o=Math.abs(p[2]-p[0])*c):(s=Math.abs(Z-p[0])*c+F,e=Math.abs(ee-p[1])*c+G,r=Math.abs(p[2]-p[0])*c,o=Math.abs(p[3]-p[1])*c),this.transform=[te*c,ue*c,ce*c,R*c,s-te*c*Z-ce*c*ee,e-ue*c*Z-R*c*ee],this.width=r,this.height=o}clone({scale:p=this.scale,rotation:c=this.rotation,offsetX:I=this.offsetX,offsetY:F=this.offsetY,dontFlip:G=!1}={}){return new j({viewBox:this.viewBox.slice(),scale:p,rotation:c,offsetX:I,offsetY:F,dontFlip:G})}convertToViewportPoint(p,c){return N.Util.applyTransform([p,c],this.transform)}convertToViewportRectangle(p){const c=N.Util.applyTransform([p[0],p[1]],this.transform),I=N.Util.applyTransform([p[2],p[3]],this.transform);return[c[0],c[1],I[0],I[1]]}convertToPdfPoint(p,c){return N.Util.applyInverseTransform([p,c],this.transform)}}function g(b){const p=b.length;let c=0;for(;c<p&&""===b[c].trim();)c++;return"data:"===b.substring(c,c+5).toLowerCase()}function S(b,p){try{const{protocol:c}=p?new URL(b,p):new URL(b);return"http:"===c||"https:"===c}catch{return!1}}let u;a.PageViewport=j,a.RenderingCancelledException=class H extends N.BaseException{constructor(p,c){super(p,"RenderingCancelledException"),this.type=c}},a.StatTimer=class y{constructor(){this.started=Object.create(null),this.times=[]}time(p){p in this.started&&(0,N.warn)(`Timer is already running for ${p}`),this.started[p]=Date.now()}timeEnd(p){p in this.started||(0,N.warn)(`Timer has not been started for ${p}`),this.times.push({name:p,start:this.started[p],end:Date.now()}),delete this.started[p]}toString(){const p=[];let c=0;for(const I of this.times){const F=I.name;F.length>c&&(c=F.length)}for(const I of this.times){const F=I.end-I.start;p.push(`${I.name.padEnd(c)} ${F}ms\n`)}return p.join("")}},a.PDFDateString=class C{static toDateObject(p){if(!p||"string"!=typeof p)return null;u||(u=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const c=u.exec(p);if(!c)return null;const I=parseInt(c[1],10);let F=parseInt(c[2],10);F=F>=1&&F<=12?F-1:0;let G=parseInt(c[3],10);G=G>=1&&G<=31?G:1;let K=parseInt(c[4],10);K=K>=0&&K<=23?K:0;let Z=parseInt(c[5],10);Z=Z>=0&&Z<=59?Z:0;let ee=parseInt(c[6],10);ee=ee>=0&&ee<=59?ee:0;const te=c[7]||"Z";let ue=parseInt(c[8],10);ue=ue>=0&&ue<=23?ue:0;let ce=parseInt(c[9],10)||0;return ce=ce>=0&&ce<=59?ce:0,"-"===te?(K+=ue,Z+=ce):"+"===te&&(K-=ue,Z-=ce),new Date(Date.UTC(I,F,G,K,Z,ee))}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var i=P(1);class N{constructor(){this.constructor===N&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(v,V){if(v<=0||V<=0)throw new Error("Invalid canvas size");const m=this._createCanvas(v,V);return{canvas:m,context:m.getContext("2d")}}reset(v,V,m){if(!v.canvas)throw new Error("Canvas is not specified");if(V<=0||m<=0)throw new Error("Invalid canvas size");v.canvas.width=V,v.canvas.height=m}destroy(v){if(!v.canvas)throw new Error("Canvas is not specified");v.canvas.width=0,v.canvas.height=0,v.canvas=null,v.context=null}_createCanvas(v,V){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=N;class B{constructor({baseUrl:v=null,isCompressed:V=!1}){this.constructor===B&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=v,this.isCompressed=V}fetch({name:v}){var V=this;return _asyncToGenerator(function*(){if(!V.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!v)throw new Error("CMap name must be specified.");const m=V.baseUrl+v+(V.isCompressed?".bcmap":"");return V._fetchData(m,V.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(j=>{throw new Error(`Unable to load ${V.isCompressed?"binary ":""}CMap at: ${m}`)})})()}_fetchData(v,V){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=B;class q{constructor({baseUrl:v=null}){this.constructor===q&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=v}fetch({filename:v}){var V=this;return _asyncToGenerator(function*(){if(!V.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!v)throw new Error("Font filename must be specified.");const m=`${V.baseUrl}${v}`;return V._fetchData(m).catch(X=>{throw new Error(`Unable to load font data at: ${m}`)})})()}_fetchData(v){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=q;class L{constructor(){this.constructor===L&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(v,V){if(v<=0||V<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),m.setAttribute("width",`${v}px`),m.setAttribute("height",`${V}px`),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${v} ${V}`),m}createElement(v){if("string"!=typeof v)throw new Error("Invalid SVG element type");return this._createSVG(v)}_createSVG(v){(0,i.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=L},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var i=P(1);class N{constructor({docId:w,onUnsupportedFeature:v,ownerDocument:V=globalThis.document,styleElement:m=null}){this.constructor===N&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=w,this._onUnsupportedFeature=v,this._document=V,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(w){this.nativeFontFaces.push(w),this._document.fonts.add(w)}insertRule(w){let v=this.styleElement;v||(v=this.styleElement=this._document.createElement("style"),v.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(v));const V=v.sheet;V.insertRule(w,V.cssRules.length)}clear(){for(const w of this.nativeFontFaces)this._document.fonts.delete(w);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(w){var v=this;return _asyncToGenerator(function*(){if(w.attached||w.missingFile)return;if(w.attached=!0,v.isFontLoadingAPISupported){const m=w.createNativeFontFace();if(m){v.addNativeFontFace(m);try{yield m.loaded}catch(X){throw v._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${m.family}': '${X}'.`),w.disableFontFace=!0,X}}return}const V=w.createFontFaceRule();if(V){if(v.insertRule(V),v.isSyncFontLoadingSupported)return;yield new Promise(m=>{const X=v._queueLoadingCallback(m);v._prepareFontLoadEvent([V],[w],X)})}})()}_queueLoadingCallback(w){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(w,v,V){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let B;a.FontLoader=B,a.FontLoader=B=class extends N{constructor(w){super(w),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let w=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(w=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",w)}_queueLoadingCallback(w){const V=this.loadingContext,m={id:"pdfjs-font-loading-"+V.nextRequestId++,done:!1,complete:function v(){for((0,i.assert)(!m.done,"completeRequest() cannot be called twice."),m.done=!0;V.requests.length>0&&V.requests[0].done;){const X=V.requests.shift();setTimeout(X.callback,0)}},callback:w};return V.requests.push(m),m}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(w,v,V){function m(I,F){return I.charCodeAt(F)<<24|I.charCodeAt(F+1)<<16|I.charCodeAt(F+2)<<8|255&I.charCodeAt(F+3)}function X(I,F,G,K){return I.substring(0,F)+K+I.substring(F+G)}let j,H;const g=this._document.createElement("canvas");g.width=1,g.height=1;const k=g.getContext("2d");let A=0;const y=`lt${Date.now()}${this.loadTestFontId++}`;let S=this._loadTestFont;S=X(S,976,y.length,y);const u=1482184792;let C=m(S,16);for(j=0,H=y.length-3;j<H;j+=4)C=C-u+m(y,j)|0;j<y.length&&(C=C-u+m(y+"XXX",j)|0),S=X(S,16,4,(0,i.string32)(C));const h=`url(data:font/opentype;base64,${btoa(S)});`;this.insertRule(`@font-face {font-family:"${y}";src:${h}}`);const p=[];for(const I of v)p.push(I.loadedName);p.push(y);const c=this._document.createElement("div");c.style.visibility="hidden",c.style.width=c.style.height="10px",c.style.position="absolute",c.style.top=c.style.left="0px";for(const I of p){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=I,c.appendChild(F)}this._document.body.appendChild(c),function T(I,F){if(A++,A>30)return(0,i.warn)("Load test font never loaded."),void F();k.font="30px "+I,k.fillText(".",0,20),k.getImageData(0,0,1,1).data[3]>0?F():setTimeout(T.bind(null,I,F))}(y,()=>{c.remove(),V.complete()})}},a.FontFaceObject=class q{constructor(w,{isEvalSupported:v=!0,disableFontFace:V=!1,ignoreErrors:m=!1,onUnsupportedFeature:X,fontRegistry:j=null}){this.compiledGlyphs=Object.create(null);for(const H in w)this[H]=w[H];this.isEvalSupported=!1!==v,this.disableFontFace=!0===V,this.ignoreErrors=!0===m,this._onUnsupportedFeature=X,this.fontRegistry=j}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let w;if(this.cssFontInfo){const v={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(v.style=`oblique ${this.cssFontInfo.italicAngle}deg`),w=new FontFace(this.cssFontInfo.fontFamily,this.data,v)}else w=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),w}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const w=(0,i.bytesToString)(this.data),v=`url(data:${this.mimetype};base64,${btoa(w)});`;let V;if(this.cssFontInfo){let m=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(m+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),V=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${m}src:${v}}`}else V=`@font-face {font-family:"${this.loadedName}";src:${v}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,v),V}getPathGenerator(w,v){if(void 0!==this.compiledGlyphs[v])return this.compiledGlyphs[v];let V;try{V=w.get(this.loadedName+"_path_"+v)}catch(m){if(!this.ignoreErrors)throw m;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${m}".`),this.compiledGlyphs[v]=function(X,j){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const m=[];for(const X of V){const j=void 0!==X.args?X.args.join(","):"";m.push("c.",X.cmd,"(",j,");\n")}return this.compiledGlyphs[v]=new Function("c","size",m.join(""))}return this.compiledGlyphs[v]=function(m,X){for(const j of V)"scale"===j.cmd&&(j.args=[X,-X]),m[j.cmd].apply(m,j.args)}}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var i=P(9),N=P(1);a.AnnotationStorage=class B{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(L,w){const v=this._storage.get(L);return void 0===v?w:Object.assign(w,v)}getRawValue(L){return this._storage.get(L)}setValue(L,w){const v=this._storage.get(L);let V=!1;if(void 0!==v)for(const[m,X]of Object.entries(w))v[m]!==X&&(V=!0,v[m]=X);else V=!0,this._storage.set(L,w);V&&this._setModified()}getAll(){return this._storage.size>0?(0,N.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const L=new i.MurmurHash3_64;for(const[w,v]of this._storage)L.update(`${w}:${JSON.stringify(v)}`);return L.hexdigest()}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var i=P(1);const N=3285377520,B=4294901760,q=65535;a.MurmurHash3_64=class L{constructor(v){this.h1=v?4294967295&v:N,this.h2=v?4294967295&v:N}update(v){let V,m;if("string"==typeof v){V=new Uint8Array(2*v.length),m=0;for(let u=0,C=v.length;u<C;u++){const h=v.charCodeAt(u);h<=255?V[m++]=h:(V[m++]=h>>>8,V[m++]=255&h)}}else{if(!(0,i.isArrayBuffer)(v))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");V=v.slice(),m=V.byteLength}const X=m>>2,j=m-4*X,H=new Uint32Array(V.buffer,0,X);let g=0,k=0,A=this.h1,T=this.h2;const y=3432918353,S=461845907,t=y&q,n=S&q;for(let u=0;u<X;u++)1&u?(g=H[u],g=g*y&B|g*t&q,g=g<<15|g>>>17,g=g*S&B|g*n&q,A^=g,A=A<<13|A>>>19,A=5*A+3864292196):(k=H[u],k=k*y&B|k*t&q,k=k<<15|k>>>17,k=k*S&B|k*n&q,T^=k,T=T<<13|T>>>19,T=5*T+3864292196);switch(g=0,j){case 3:g^=V[4*X+2]<<16;case 2:g^=V[4*X+1]<<8;case 1:g^=V[4*X],g=g*y&B|g*t&q,g=g<<15|g>>>17,g=g*S&B|g*n&q,1&X?A^=g:T^=g}this.h1=A,this.h2=T}hexdigest(){let v=this.h1,V=this.h2;v^=V>>>1,v=3981806797*v&B|36045*v&q,V=4283543511*V&B|(2950163797*(V<<16|v>>>16)&B)>>>16,v^=V>>>1,v=444984403*v&B|60499*v&q,V=3301882366*V&B|(3120437893*(V<<16|v>>>16)&B)>>>16,v^=V>>>1;const m=(v>>>0).toString(16),X=(V>>>0).toString(16);return m.padStart(8,"0")+X.padStart(8,"0")}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var i=P(1),N=P(11),B=P(12),q=P(3),L=P(5);const V=4096,g=16,k=1.000001;function T(R){if(R._transformStack&&(R._transformStack=[]),!R.mozCurrentTransform){R._originalSave=R.save,R._originalRestore=R.restore,R._originalRotate=R.rotate,R._originalScale=R.scale,R._originalTranslate=R.translate,R._originalTransform=R.transform,R._originalSetTransform=R.setTransform,R._originalResetTransform=R.resetTransform,R._transformMatrix=R._transformMatrix||[1,0,0,1,0,0],R._transformStack=[];try{const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(R),"lineWidth");R._setLineWidth=s.set,R._getLineWidth=s.get,Object.defineProperty(R,"lineWidth",{set:function(r){this._setLineWidth(r*k)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(R,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(R,"mozCurrentTransformInverse",{get:function(){const[e,r,o,d,f,l]=this._transformMatrix,O=e*d-r*o,Y=r*o-e*d;return[d/O,r/Y,o/Y,e/O,(d*f-o*l)/Y,(r*f-e*l)/O]}}),R.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},R.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},R.translate=function(e,r){const o=this._transformMatrix;o[4]=o[0]*e+o[2]*r+o[4],o[5]=o[1]*e+o[3]*r+o[5],this._originalTranslate(e,r)},R.scale=function(e,r){const o=this._transformMatrix;o[0]*=e,o[1]*=e,o[2]*=r,o[3]*=r,this._originalScale(e,r)},R.transform=function(e,r,o,d,f,l){const O=this._transformMatrix;this._transformMatrix=[O[0]*e+O[2]*r,O[1]*e+O[3]*r,O[0]*o+O[2]*d,O[1]*o+O[3]*d,O[0]*f+O[2]*l+O[4],O[1]*f+O[3]*l+O[5]],R._originalTransform(e,r,o,d,f,l)},R.setTransform=function(e,r,o,d,f,l){this._transformMatrix=[e,r,o,d,f,l],R._originalSetTransform(e,r,o,d,f,l)},R.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],R._originalResetTransform()},R.rotate=function(e){const r=Math.cos(e),o=Math.sin(e),d=this._transformMatrix;this._transformMatrix=[d[0]*r+d[2]*o,d[1]*r+d[3]*o,d[0]*-o+d[2]*r,d[1]*-o+d[3]*r,d[4],d[5]],this._originalRotate(e)}}}class y{constructor(s){this.canvasFactory=s,this.cache=Object.create(null)}getCanvas(s,e,r,o){let d;return void 0!==this.cache[s]?(d=this.cache[s],this.canvasFactory.reset(d,e,r),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(e,r),this.cache[s]=d),o&&T(d.context),d}delete(s){delete this.cache[s]}clear(){for(const s in this.cache)this.canvasFactory.destroy(this.cache[s]),delete this.cache[s]}}function S(R,s,e,r,o,d,f,l,O,Y){const[U,Q,$,ne,ie,de]=R.mozCurrentTransform;if(0===Q&&0===$){const le=Math.round(f*U+ie),Ce=Math.round(l*ne+de),oe=Math.abs(Math.round((f+O)*U+ie)-le)||1,ye=Math.abs(Math.round((l+Y)*ne+de)-Ce)||1;return R.setTransform(Math.sign(U),0,0,Math.sign(ne),le,Ce),R.drawImage(s,e,r,o,d,0,0,oe,ye),R.setTransform(U,Q,$,ne,ie,de),[oe,ye]}if(0===U&&0===ne){const le=Math.round(l*$+ie),Ce=Math.round(f*Q+de),oe=Math.abs(Math.round((l+Y)*$+ie)-le)||1,ye=Math.abs(Math.round((f+O)*Q+de)-Ce)||1;return R.setTransform(0,Math.sign(Q),Math.sign($),0,le,Ce),R.drawImage(s,e,r,o,d,0,0,ye,oe),R.setTransform(U,Q,$,ne,ie,de),[ye,oe]}return R.drawImage(s,e,r,o,d,f,l,O,Y),[Math.hypot(U,Q)*O,Math.hypot($,ne)*Y]}class n{constructor(s,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,s,e])}clone(){const s=Object.create(this);return s.clipBox=this.clipBox.slice(),s}setCurrentPoint(s,e){this.x=s,this.y=e}updatePathMinMax(s,e,r){[e,r]=i.Util.applyTransform([e,r],s),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(s,e){const r=i.Util.applyTransform(e,s),o=i.Util.applyTransform(e.slice(2),s);this.minX=Math.min(this.minX,r[0],o[0]),this.minY=Math.min(this.minY,r[1],o[1]),this.maxX=Math.max(this.maxX,r[0],o[0]),this.maxY=Math.max(this.maxY,r[1],o[1])}updateScalingPathMinMax(s,e){i.Util.scaleMinMax(s,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(s,e,r,o,d,f,l,O,Y,U){const Q=i.Util.bezierBoundingBox(e,r,o,d,f,l,O,Y);if(U)return U[0]=Math.min(U[0],Q[0],Q[2]),U[1]=Math.max(U[1],Q[0],Q[2]),U[2]=Math.min(U[2],Q[1],Q[3]),void(U[3]=Math.max(U[3],Q[1],Q[3]));this.updateRectMinMax(s,Q)}getPathBoundingBox(s=N.PathType.FILL,e=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(s===N.PathType.STROKE){e||(0,i.unreachable)("Stroke bounding box must include transform.");const o=i.Util.singularValueDecompose2dScale(e),d=o[0]*this.lineWidth/2,f=o[1]*this.lineWidth/2;r[0]-=d,r[1]-=f,r[2]+=d,r[3]+=f}return r}updateClipFromPath(){const s=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(s||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(s){this.clipBox=s,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(s=N.PathType.FILL,e=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(s,e))}}function u(R,s,e=null){if(typeof ImageData<"u"&&s instanceof ImageData)return void R.putImageData(s,0,0);const r=s.height,o=s.width,d=r%g,f=(r-d)/g,l=0===d?f:f+1,O=R.createImageData(o,g);let U,Y=0;const Q=s.data,$=O.data;let ne,ie,de,me,Ae,ge,le,we;if(e)switch(e.length){case 1:Ae=e[0],ge=e[0],le=e[0],we=e[0];break;case 4:Ae=e[0],ge=e[1],le=e[2],we=e[3]}if(s.kind===i.ImageKind.GRAYSCALE_1BPP){const Ce=Q.byteLength,_e=new Uint32Array($.buffer,0,$.byteLength>>2),oe=_e.length,fe=o+7>>3;let ye=4294967295,se=i.FeatureTest.isLittleEndian?4278190080:255;for(we&&255===we[0]&&0===we[255]&&([ye,se]=[se,ye]),ne=0;ne<l;ne++){for(de=ne<f?g:d,U=0,ie=0;ie<de;ie++){const _=Ce-Y;let D=0;const x=_>fe?o:8*_-7,J=-8&x;let M=0,E=0;for(;D<J;D+=8)E=Q[Y++],_e[U++]=128&E?ye:se,_e[U++]=64&E?ye:se,_e[U++]=32&E?ye:se,_e[U++]=16&E?ye:se,_e[U++]=8&E?ye:se,_e[U++]=4&E?ye:se,_e[U++]=2&E?ye:se,_e[U++]=1&E?ye:se;for(;D<x;D++)0===M&&(E=Q[Y++],M=128),_e[U++]=E&M?ye:se,M>>=1}for(;U<oe;)_e[U++]=0;R.putImageData(O,0,ne*g)}}else if(s.kind===i.ImageKind.RGBA_32BPP){const Ce=!!(Ae||ge||le);for(ie=0,me=o*g*4,ne=0;ne<f;ne++){if($.set(Q.subarray(Y,Y+me)),Y+=me,Ce)for(let _e=0;_e<me;_e+=4)Ae&&($[_e+0]=Ae[$[_e+0]]),ge&&($[_e+1]=ge[$[_e+1]]),le&&($[_e+2]=le[$[_e+2]]);R.putImageData(O,0,ie),ie+=g}if(ne<l){if(me=o*d*4,$.set(Q.subarray(Y,Y+me)),Ce)for(let _e=0;_e<me;_e+=4)Ae&&($[_e+0]=Ae[$[_e+0]]),ge&&($[_e+1]=ge[$[_e+1]]),le&&($[_e+2]=le[$[_e+2]]);R.putImageData(O,0,ie)}}else{if(s.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${s.kind}`);{const Ce=!!(Ae||ge||le);for(de=g,me=o*de,ne=0;ne<l;ne++){for(ne>=f&&(de=d,me=o*de),U=0,ie=me;ie--;)$[U++]=Q[Y++],$[U++]=Q[Y++],$[U++]=Q[Y++],$[U++]=255;if(Ce)for(let _e=0;_e<U;_e+=4)Ae&&($[_e+0]=Ae[$[_e+0]]),ge&&($[_e+1]=ge[$[_e+1]]),le&&($[_e+2]=le[$[_e+2]]);R.putImageData(O,0,ne*g)}}}}function C(R,s){if(s.bitmap)return void R.drawImage(s.bitmap,0,0);const e=s.height,r=s.width,o=e%g,d=(e-o)/g,f=0===o?d:d+1,l=R.createImageData(r,g);let O=0;const Y=s.data,U=l.data;for(let Q=0;Q<f;Q++){const $=Q<d?g:o;({srcPos:O}=(0,B.applyMaskImageData)({src:Y,srcPos:O,dest:U,width:r,height:$})),R.putImageData(l,0,Q*g)}}function h(R,s){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,o=e.length;r<o;r++){const d=e[r];void 0!==R[d]&&(s[d]=R[d])}void 0!==R.setLineDash&&(s.setLineDash(R.getLineDash()),s.lineDashOffset=R.lineDashOffset)}function b(R,s){R.strokeStyle=R.fillStyle=s||"#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",void 0!==R.setLineDash&&(R.setLineDash([]),R.lineDashOffset=0)}function p(R,s,e,r){const o=R.length;for(let d=3;d<o;d+=4){const f=R[d];if(0===f)R[d-3]=s,R[d-2]=e,R[d-1]=r;else if(f<255){const l=255-f;R[d-3]=R[d-3]*f+s*l>>8,R[d-2]=R[d-2]*f+e*l>>8,R[d-1]=R[d-1]*f+r*l>>8}}}function c(R,s,e){const r=R.length;for(let d=3;d<r;d+=4)s[d]=s[d]*(e?e[R[d]]:R[d])*.00392156862745098|0}function I(R,s,e){const r=R.length;for(let o=3;o<r;o+=4){const d=77*R[o-3]+152*R[o-2]+28*R[o-1];s[o]=e?s[o]*e[d>>8]>>8:s[o]*d>>16}}function K(R,s){const e=i.Util.singularValueDecompose2dScale(R);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*L.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==s?s:e[0]<=r||e[1]<=r}const Z=["butt","round","square"],ee=["miter","round","bevel"],te={},ue={};class ce{constructor(s,e,r,o,d,f,l,O){this.ctx=s,this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=o,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=f,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=O?.background||null,this.foregroundColor=O?.foreground||null,s&&T(s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(s,e=null){return"string"==typeof s?s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s):e}beginDrawing({transform:s,viewport:e,transparency:r=!1,background:o=null}){const d=this.ctx.canvas.width,f=this.ctx.canvas.height,l=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const O=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Y=this.backgroundColor=this.ctx.fillStyle;let U=!0,Q=l;if(this.ctx.fillStyle=l,Q=this.ctx.fillStyle,U="string"==typeof Q&&/^#[0-9A-Fa-f]{6}$/.test(Q),"#000000"===O&&"#ffffff"===Y||O===Y||!U)this.foregroundColor=this.backgroundColor=null;else{const $=parseInt(Q.slice(1),16),ie=($&&65280)>>8,de=$&&255,me=ge=>(ge/=255)<=.03928?ge/12.92:((ge+.055)/1.055)**2.4,Ae=Math.round(.2126*me(($&&16711680)>>16)+.7152*me(ie)+.0722*me(de));this.selectColor=(ge,le,we)=>{const Ce=.2126*me(ge)+.7152*me(le)+.0722*me(we);return Math.round(Ce)===Ae?Y:O}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,d,f),this.ctx.restore(),r){const O=this.cachedCanvases.getCanvas("transparent",d,f,!0);this.compositeCtx=this.ctx,this.transparentCanvas=O.canvas,this.ctx=O.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),b(this.ctx,this.foregroundColor),s&&(this.ctx.transform.apply(this.ctx,s),this.outputScaleX=s[0],this.outputScaleY=s[0]),this.ctx.transform.apply(this.ctx,e.transform),this.viewportScale=e.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(s,e,r,o){const d=s.argsArray,f=s.fnArray;let l=e||0;const O=d.length;if(O===l)return l;const Y=O-l>10&&"function"==typeof r,U=Y?Date.now()+15:0;let Q=0;const $=this.commonObjs,ne=this.objs;let ie;for(;;){if(void 0!==o&&l===o.nextBreakPoint)return o.breakIt(l,r),l;if(ie=f[l],ie!==i.OPS.dependency)this[ie].apply(this,d[l]);else for(const de of d[l]){const me=de.startsWith("g_")?$:ne;if(!me.has(de))return me.get(de,r),l}if(l++,l===O)return l;if(Y&&++Q>10){if(Date.now()>U)return r(),l;Q=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const s of this._cachedBitmapsMap.values()){for(const e of s.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);s.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(s,e){const r=s.width,o=s.height;let U,Q,d=Math.max(Math.hypot(e[0],e[1]),1),f=Math.max(Math.hypot(e[2],e[3]),1),l=r,O=o,Y="prescale1";for(;d>2&&l>1||f>2&&O>1;){let $=l,ne=O;d>2&&l>1&&($=Math.ceil(l/2),d/=l/$),f>2&&O>1&&(ne=Math.ceil(O/2),f/=O/ne),U=this.cachedCanvases.getCanvas(Y,$,ne,!1),Q=U.context,Q.clearRect(0,0,$,ne),Q.drawImage(s,0,0,l,O,0,0,$,ne),s=U.canvas,l=$,O=ne,Y="prescale1"===Y?"prescale2":"prescale1"}return{img:s,paintWidth:l,paintHeight:O}}_createMaskCanvas(s){const e=this.ctx,{width:r,height:o}=s,d=this.current.fillColor,f=this.current.patternFill,l=e.mozCurrentTransform;let O,Y,U,Q;if((s.bitmap||s.data)&&s.count>1){const oe=s.bitmap||s.data.buffer,fe=l.slice(0,4);Y=JSON.stringify(f?fe:[fe,d]),O=this._cachedBitmapsMap.get(oe),O||(O=new Map,this._cachedBitmapsMap.set(oe,O));const ye=O.get(Y);if(ye&&!f)return{canvas:ye,offsetX:Math.round(Math.min(l[0],l[2])+l[4]),offsetY:Math.round(Math.min(l[1],l[3])+l[5])};U=ye}U||(Q=this.cachedCanvases.getCanvas("maskCanvas",r,o,!1),C(Q.context,s));let $=i.Util.transform(l,[1/r,0,0,-1/o,0,0]);$=i.Util.transform($,[1,0,0,1,0,-o]);const ne=i.Util.applyTransform([0,0],$),ie=i.Util.applyTransform([r,o],$),de=i.Util.normalizeRect([ne[0],ne[1],ie[0],ie[1]]),me=Math.round(de[2]-de[0])||1,Ae=Math.round(de[3]-de[1])||1,ge=this.cachedCanvases.getCanvas("fillCanvas",me,Ae,!0),le=ge.context,we=Math.min(ne[0],ie[0]),Ce=Math.min(ne[1],ie[1]);le.translate(-we,-Ce),le.transform.apply(le,$),U||(U=this._scaleImage(Q.canvas,le.mozCurrentTransformInverse),U=U.img,O&&f&&O.set(Y,U)),le.imageSmoothingEnabled=K(le.mozCurrentTransform,s.interpolate),S(le,U,0,0,U.width,U.height,0,0,r,o),le.globalCompositeOperation="source-in";const _e=i.Util.transform(le.mozCurrentTransformInverse,[1,0,0,1,-we,-Ce]);return le.fillStyle=f?d.getPattern(e,this,_e,N.PathType.FILL):d,le.fillRect(0,0,r,o),O&&!f&&(this.cachedCanvases.delete("fillCanvas"),O.set(Y,ge.canvas)),{canvas:ge.canvas,offsetX:Math.round(we),offsetY:Math.round(Ce)}}setLineWidth(s){s!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=s,this.ctx.lineWidth=s}setLineCap(s){this.ctx.lineCap=Z[s]}setLineJoin(s){this.ctx.lineJoin=ee[s]}setMiterLimit(s){this.ctx.miterLimit=s}setDash(s,e){const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(s),r.lineDashOffset=e)}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(let e=0,r=s.length;e<r;e++){const o=s[e],f=o[1];switch(o[0]){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=f}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const s=this.inSMaskMode;this.current.activeSMask&&!s?this.beginSMaskMode():!this.current.activeSMask&&s&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),h(this.suspendedCtx,d),function A(R,s){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){s.save(),this.__originalSave()},R.restore=function(){s.restore(),this.__originalRestore()},R.translate=function(r,o){s.translate(r,o),this.__originalTranslate(r,o)},R.scale=function(r,o){s.scale(r,o),this.__originalScale(r,o)},R.transform=function(r,o,d,f,l,O){s.transform(r,o,d,f,l,O),this.__originalTransform(r,o,d,f,l,O)},R.setTransform=function(r,o,d,f,l,O){s.setTransform(r,o,d,f,l,O),this.__originalSetTransform(r,o,d,f,l,O)},R.resetTransform=function(){s.resetTransform(),this.__originalResetTransform()},R.rotate=function(r){s.rotate(r),this.__originalRotate(r)},R.clip=function(r){s.clip(r),this.__originalClip(r)},R.moveTo=function(e,r){s.moveTo(e,r),this.__originalMoveTo(e,r)},R.lineTo=function(e,r){s.lineTo(e,r),this.__originalLineTo(e,r)},R.bezierCurveTo=function(e,r,o,d,f,l){s.bezierCurveTo(e,r,o,d,f,l),this.__originalBezierCurveTo(e,r,o,d,f,l)},R.rect=function(e,r,o,d){s.rect(e,r,o,d),this.__originalRect(e,r,o,d)},R.closePath=function(){s.closePath(),this.__originalClosePath()},R.beginPath=function(){s.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),h(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(s){this.current.activeSMask&&(s?(s[0]=Math.floor(s[0]),s[1]=Math.floor(s[1]),s[2]=Math.ceil(s[2]),s[3]=Math.ceil(s[3])):s=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function G(R,s,e,r){const o=r[0],d=r[1],f=r[2]-o,l=r[3]-d;0===f||0===l||(function F(R,s,e,r,o,d,f,l,O,Y,U){const Q=!!d,$=Q?d[0]:0,ne=Q?d[1]:0,ie=Q?d[2]:0;let de;de="Luminosity"===o?I:c;const Ae=Math.min(r,Math.ceil(1048576/e));for(let ge=0;ge<r;ge+=Ae){const le=Math.min(Ae,r-ge),we=R.getImageData(l-Y,ge+(O-U),e,le),Ce=s.getImageData(l,ge+O,e,le);Q&&p(we.data,$,ne,ie),de(we.data,Ce.data,f),s.putImageData(Ce,l,ge+O)}}(s.context,e,f,l,s.subtype,s.backdrop,s.transferMap,o,d,s.offsetX,s.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(e.canvas,0,0),R.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,s),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(h(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),h(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(s,e,r,o,d,f){this.ctx.transform(s,e,r,o,d,f),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(s,e,r){const o=this.ctx,d=this.current;let O,Y,f=d.x,l=d.y;const U=o.mozCurrentTransform,Q=0===U[0]&&0===U[3]||0===U[1]&&0===U[2],$=Q?r.slice(0):null;for(let ne=0,ie=0,de=s.length;ne<de;ne++)switch(0|s[ne]){case i.OPS.rectangle:f=e[ie++],l=e[ie++];const me=e[ie++],Ae=e[ie++],ge=f+me,le=l+Ae;o.moveTo(f,l),0===me||0===Ae?o.lineTo(ge,le):(o.lineTo(ge,l),o.lineTo(ge,le),o.lineTo(f,le)),Q||d.updateRectMinMax(U,[f,l,ge,le]),o.closePath();break;case i.OPS.moveTo:f=e[ie++],l=e[ie++],o.moveTo(f,l),Q||d.updatePathMinMax(U,f,l);break;case i.OPS.lineTo:f=e[ie++],l=e[ie++],o.lineTo(f,l),Q||d.updatePathMinMax(U,f,l);break;case i.OPS.curveTo:O=f,Y=l,f=e[ie+4],l=e[ie+5],o.bezierCurveTo(e[ie],e[ie+1],e[ie+2],e[ie+3],f,l),d.updateCurvePathMinMax(U,O,Y,e[ie],e[ie+1],e[ie+2],e[ie+3],f,l,$),ie+=6;break;case i.OPS.curveTo2:O=f,Y=l,o.bezierCurveTo(f,l,e[ie],e[ie+1],e[ie+2],e[ie+3]),d.updateCurvePathMinMax(U,O,Y,f,l,e[ie],e[ie+1],e[ie+2],e[ie+3],$),f=e[ie+2],l=e[ie+3],ie+=4;break;case i.OPS.curveTo3:O=f,Y=l,f=e[ie+2],l=e[ie+3],o.bezierCurveTo(e[ie],e[ie+1],f,l,f,l),d.updateCurvePathMinMax(U,O,Y,e[ie],e[ie+1],f,l,f,l,$),ie+=4;break;case i.OPS.closePath:o.closePath()}Q&&d.updateScalingPathMinMax(U,$),d.setCurrentPoint(f,l)}closePath(){this.ctx.closePath()}stroke(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(e.save(),e.strokeStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,N.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),s&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(s){s=!(typeof s<"u")||s;const e=this.ctx,r=this.current.fillColor;let d=!1;this.current.patternFill&&(e.save(),e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,N.PathType.FILL),d=!0);const f=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==f&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),d&&e.restore(),s&&this.consumePath(f)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=te}eoClip(){this.pendingClip=ue}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const s=this.pendingTextPaths,e=this.ctx;if(void 0!==s){e.save(),e.beginPath();for(let r=0;r<s.length;r++){const o=s[r];e.setTransform.apply(e,o.transform),e.translate(o.x,o.y),o.addToPath(e,o.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(s){this.current.charSpacing=s}setWordSpacing(s){this.current.wordSpacing=s}setHScale(s){this.current.textHScale=s/100}setLeading(s){this.current.leading=-s}setFont(s,e){const r=this.commonObjs.get(s),o=this.current;if(!r)throw new Error(`Can't find font for ${s}`);if(o.fontMatrix=r.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+s),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;let f="normal";r.black?f="900":r.bold&&(f="bold");const l=r.italic?"italic":"normal",O=`"${r.loadedName||"sans-serif"}", ${r.fallbackName}`;let Y=e;e<16?Y=16:e>100&&(Y=100),this.current.fontSizeScale=e/Y,this.ctx.font=`${l} ${f} ${Y}px ${O}`}setTextRenderingMode(s){this.current.textRenderingMode=s}setTextRise(s){this.current.textRise=s}moveText(s,e){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=e}setLeadingMoveText(s,e){this.setLeading(-e),this.moveText(s,e)}setTextMatrix(s,e,r,o,d,f){this.current.textMatrix=[s,e,r,o,d,f],this.current.textMatrixScale=Math.hypot(s,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(s,e,r,o){const d=this.ctx,f=this.current,l=f.font,O=f.textRenderingMode,Y=f.fontSize/f.fontSizeScale,U=O&i.TextRenderingMode.FILL_STROKE_MASK,Q=!!(O&i.TextRenderingMode.ADD_TO_PATH_FLAG),$=f.patternFill&&!l.missingFile;let ne;(l.disableFontFace||Q||$)&&(ne=l.getPathGenerator(this.commonObjs,s)),l.disableFontFace||$?(d.save(),d.translate(e,r),d.beginPath(),ne(d,Y),o&&d.setTransform.apply(d,o),(U===i.TextRenderingMode.FILL||U===i.TextRenderingMode.FILL_STROKE)&&d.fill(),(U===i.TextRenderingMode.STROKE||U===i.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((U===i.TextRenderingMode.FILL||U===i.TextRenderingMode.FILL_STROKE)&&d.fillText(s,e,r),(U===i.TextRenderingMode.STROKE||U===i.TextRenderingMode.FILL_STROKE)&&d.strokeText(s,e,r)),Q&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:e,y:r,fontSize:Y,addToPath:ne})}get isFontSubpixelAAEnabled(){const{context:s}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);s.scale(1.5,1),s.fillText("I",0,10);const e=s.getImageData(0,0,10,10).data;let r=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){r=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",r)}showText(s){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(s);const o=e.fontSize;if(0===o)return;const d=this.ctx,f=e.fontSizeScale,l=e.charSpacing,O=e.wordSpacing,Y=e.fontDirection,U=e.textHScale*Y,Q=s.length,$=r.vertical,ne=$?1:-1,ie=r.defaultVMetrics,de=o*e.fontMatrix[0],me=e.textRenderingMode===i.TextRenderingMode.FILL&&!r.disableFontFace&&!e.patternFill;let Ae;if(d.save(),d.transform.apply(d,e.textMatrix),d.translate(e.x,e.y+e.textRise),d.scale(U,Y>0?-1:1),e.patternFill){d.save();const _e=e.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,N.PathType.FILL);Ae=d.mozCurrentTransform,d.restore(),d.fillStyle=_e}let ge=e.lineWidth;const le=e.textMatrixScale;if(0===le||0===ge){const _e=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(_e===i.TextRenderingMode.STROKE||_e===i.TextRenderingMode.FILL_STROKE)&&(ge=this.getSinglePixelWidth())}else ge/=le;1!==f&&(d.scale(f,f),ge/=f),d.lineWidth=ge;let Ce,we=0;for(Ce=0;Ce<Q;++Ce){const _e=s[Ce];if("number"==typeof _e){we+=ne*_e*o/1e3;continue}let oe=!1;const fe=(_e.isSpace?O:0)+l,ye=_e.fontChar,se=_e.accent;let _,D,J,x=_e.width;if($){const M=_e.vmetric||ie,E=-(_e.vmetric?M[1]:.5*x)*de;x=M?-M[0]:x,_=E/f,D=(we+M[2]*de)/f}else _=we/f,D=0;if(r.remeasure&&x>0){const M=1e3*d.measureText(ye).width/o*f;if(x<M&&this.isFontSubpixelAAEnabled){const E=x/M;oe=!0,d.save(),d.scale(E,1),_/=E}else x!==M&&(_+=(x-M)/2e3*o/f)}this.contentVisible&&(_e.isInFont||r.missingFile)&&(me&&!se?d.fillText(ye,_,D):(this.paintChar(ye,_,D,Ae),se&&this.paintChar(se.fontChar,_+o*se.offset.x/f,D-o*se.offset.y/f,Ae))),J=$?x*de-fe*Y:x*de+fe*Y,we+=J,oe&&d.restore()}$?e.y-=we:e.x+=we*U,d.restore(),this.compose()}showType3Text(s){const e=this.ctx,r=this.current,o=r.font,d=r.fontSize,f=r.fontDirection,l=o.vertical?1:-1,O=r.charSpacing,Y=r.wordSpacing,U=r.textHScale*f,Q=r.fontMatrix||i.FONT_IDENTITY_MATRIX,$=s.length;let ie,de,me,Ae;if(r.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform.apply(e,r.textMatrix),e.translate(r.x,r.y),e.scale(U,f),ie=0;ie<$;++ie){if(de=s[ie],"number"==typeof de){Ae=l*de*d/1e3,this.ctx.translate(Ae,0),r.x+=Ae*U;continue}const ge=(de.isSpace?Y:0)+O,le=o.charProcOperatorList[de.operatorListId];le?(this.contentVisible&&(this.processingType3=de,this.save(),e.scale(d,d),e.transform.apply(e,Q),this.executeOperatorList(le),this.restore()),me=i.Util.applyTransform([de.width,0],Q)[0]*d+ge,e.translate(me,0),r.x+=me*U):(0,i.warn)(`Type3 character "${de.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(s,e){}setCharWidthAndBounds(s,e,r,o,d,f){this.ctx.rect(r,o,d-r,f-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(s){let e;if("TilingPattern"===s[0]){const r=s[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();e=new N.TilingPattern(s,r,this.ctx,{createCanvasGraphics:f=>new ce(f,this.commonObjs,this.objs,this.canvasFactory)},o)}else e=this._getPattern(s[1],s[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||i.Util.makeHexColor(s,e,r);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(s,e,r){const o=this.selectColor?.(s,e,r)||i.Util.makeHexColor(s,e,r);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(s,e=null){let r;return this.cachedPatterns.has(s)?r=this.cachedPatterns.get(s):(r=(0,N.getShadingPattern)(this.objs.get(s)),this.cachedPatterns.set(s,r)),e&&(r.matrix=e),r}shadingFill(s){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(s);e.fillStyle=r.getPattern(e,this,e.mozCurrentTransformInverse,N.PathType.SHADING);const o=e.mozCurrentTransformInverse;if(o){const d=e.canvas,f=d.width,l=d.height,O=i.Util.applyTransform([0,0],o),Y=i.Util.applyTransform([0,l],o),U=i.Util.applyTransform([f,0],o),Q=i.Util.applyTransform([f,l],o),$=Math.min(O[0],Y[0],U[0],Q[0]),ne=Math.min(O[1],Y[1],U[1],Q[1]),ie=Math.max(O[0],Y[0],U[0],Q[0]),de=Math.max(O[1],Y[1],U[1],Q[1]);this.ctx.fillRect($,ne,ie-$,de-ne)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(s,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&6===s.length&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,e)&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,e),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(s){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;s.isolated||(0,i.info)("TODO: Support non-isolated groups."),s.knockout&&(0,i.warn)("Knockout groups not supported.");const r=e.mozCurrentTransform;if(s.matrix&&e.transform.apply(e,s.matrix),!s.bbox)throw new Error("Bounding box is required.");let o=i.Util.getAxialAlignedBoundingBox(s.bbox,e.mozCurrentTransform);o=i.Util.intersect(o,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];const f=Math.floor(o[0]),l=Math.floor(o[1]);let O=Math.max(Math.ceil(o[2])-f,1),Y=Math.max(Math.ceil(o[3])-l,1),U=1,Q=1;O>V&&(U=O/V,O=V),Y>V&&(Q=Y/V,Y=V),this.current.startNewPathAndClipBox([0,0,O,Y]);let $="groupAt"+this.groupLevel;s.smask&&($+="_smask_"+this.smaskCounter++%2);const ne=this.cachedCanvases.getCanvas($,O,Y,!0),ie=ne.context;ie.scale(1/U,1/Q),ie.translate(-f,-l),ie.transform.apply(ie,r),s.smask?this.smaskStack.push({canvas:ne.canvas,context:ie,offsetX:f,offsetY:l,scaleX:U,scaleY:Q,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(f,l),e.scale(U,Q),e.save()),h(e,ie),this.ctx=ie,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(s){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,s.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const d=i.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(s,e,r,o,d){if(this.save(),Array.isArray(e)&&4===e.length){const f=e[2]-e[0],l=e[3]-e[1];if(d&&this.annotationCanvasMap){(r=r.slice())[4]-=e[0],r[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=f,e[3]=l;const[O,Y]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:U}=this,Q=Math.ceil(f*this.outputScaleX*U),$=Math.ceil(l*this.outputScaleY*U);this.annotationCanvas=this.canvasFactory.create(Q,$);const{canvas:ne,context:ie}=this.annotationCanvas,de=`var(--zoom-factor) * ${L.PixelsPerInch.PDF_TO_CSS_UNITS}`;ne.style.width=`calc(${f}px * ${de})`,ne.style.height=`calc(${l}px * ${de})`,this.annotationCanvasMap.set(s,ne),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ie,this.ctx.setTransform(O,0,0,-Y,0,l*Y),T(this.ctx),b(this.ctx,this.foregroundColor)}else b(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],f,l),this.ctx.clip(),this.endPath()}this.current=new n(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,r),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(s){if(!this.contentVisible)return;const e=s.count;(s=this.getObject(s.data,s)).count=e;const r=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function t(R){const{width:s,height:e}=R;if(s>1e3||e>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=s+1;let l,O,Y,f=new Uint8Array(d*(e+1));const U=s+7&-8;let Q=new Uint8Array(U*e),$=0;for(const le of R.data){let we=128;for(;we>0;)Q[$++]=le&we?0:255,we>>=1}let ne=0;for($=0,0!==Q[$]&&(f[0]=1,++ne),O=1;O<s;O++)Q[$]!==Q[$+1]&&(f[O]=Q[$]?2:1,++ne),$++;for(0!==Q[$]&&(f[O]=2,++ne),l=1;l<e;l++){$=l*U,Y=l*d,Q[$-U]!==Q[$]&&(f[Y]=Q[$]?1:8,++ne);let le=(Q[$]?4:0)+(Q[$-U]?8:0);for(O=1;O<s;O++)le=(le>>2)+(Q[$+1]?4:0)+(Q[$-U+1]?8:0),o[le]&&(f[Y+O]=o[le],++ne),$++;if(Q[$-U]!==Q[$]&&(f[Y+O]=Q[$]?2:4,++ne),ne>1e3)return null}for($=U*(e-1),Y=l*d,0!==Q[$]&&(f[Y]=8,++ne),O=1;O<s;O++)Q[$]!==Q[$+1]&&(f[Y+O]=Q[$]?4:8,++ne),$++;if(0!==Q[$]&&(f[Y+O]=4,++ne),ne>1e3)return null;const ie=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let de,me,Ae;for(q.isNodeJS?me=[]:de=new Path2D,l=0;ne&&l<=e;l++){let le=l*d;const we=le+s;for(;le<we&&!f[le];)le++;if(le===we)continue;de?de.moveTo(le%d,l):Ae=[le%d,l];const Ce=le;let _e=f[le];do{const oe=ie[_e];do{le+=oe}while(!f[le]);const fe=f[le];5!==fe&&10!==fe?(_e=fe,f[le]=0):(_e=fe&51*_e>>4,f[le]&=_e>>2|_e<<2),de?de.lineTo(le%d,le/d|0):Ae.push(le%d,le/d|0),f[le]||--ne}while(Ce!==le);de||me.push(Ae),--l}return Q=null,f=null,function(le){if(le.save(),le.scale(1/s,-1/e),le.translate(0,-e),de)le.fill(de);else{le.beginPath();for(const we of me){le.moveTo(we[0],we[1]);for(let Ce=2,_e=we.length;Ce<_e;Ce+=2)le.lineTo(we[Ce],we[Ce+1])}le.fill()}le.beginPath(),le.restore()}}(s)),o.compiled))return void o.compiled(r);const d=this._createMaskCanvas(s),f=d.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(f,d.offsetX,d.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(s,e,r=0,o=0,d,f){if(!this.contentVisible)return;s=this.getObject(s.data,s);const l=this.ctx;l.save();const O=l.mozCurrentTransform;l.transform(e,r,o,d,0,0);const Y=this._createMaskCanvas(s);l.setTransform(1,0,0,1,0,0);for(let U=0,Q=f.length;U<Q;U+=2){const $=i.Util.transform(O,[e,r,o,d,f[U],f[U+1]]),[ne,ie]=i.Util.applyTransform([0,0],$);l.drawImage(Y.canvas,ne,ie)}l.restore(),this.compose()}paintImageMaskXObjectGroup(s){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,o=this.current.patternFill;for(let d=0,f=s.length;d<f;d++){const l=s[d],O=l.width,Y=l.height,U=this.cachedCanvases.getCanvas("maskCanvas",O,Y,!1),Q=U.context;Q.save(),C(Q,l),Q.globalCompositeOperation="source-in",Q.fillStyle=o?r.getPattern(Q,this,e.mozCurrentTransformInverse,N.PathType.FILL):r,Q.fillRect(0,0,O,Y),Q.restore(),e.save(),e.transform.apply(e,l.transform),e.scale(1,-1),S(e,U.canvas,0,0,O,Y,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(s){if(!this.contentVisible)return;const e=this.getObject(s);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(s,e,r,o){if(!this.contentVisible)return;const d=this.getObject(s);if(!d)return void(0,i.warn)("Dependent image isn't ready yet");const f=d.width,l=d.height,O=[];for(let Y=0,U=o.length;Y<U;Y+=2)O.push({transform:[e,0,0,r,o[Y],o[Y+1]],x:0,y:0,w:f,h:l});this.paintInlineImageXObjectGroup(d,O)}paintInlineImageXObject(s){if(!this.contentVisible)return;const e=s.width,r=s.height,o=this.ctx;let d;if(this.save(),o.scale(1/e,-1/r),"function"==typeof HTMLElement&&s instanceof HTMLElement||!s.data)d=s;else{const Y=this.cachedCanvases.getCanvas("inlineImage",e,r,!1);u(Y.context,s,this.current.transferMaps),d=Y.canvas}const f=this._scaleImage(d,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=K(o.mozCurrentTransform,s.interpolate);const[l,O]=S(o,f.img,0,0,f.paintWidth,f.paintHeight,0,-r,e,r);if(this.imageLayer){const Y=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:s,left:Y[0],top:Y[1],width:l,height:O})}this.compose(),this.restore()}paintInlineImageXObjectGroup(s,e){if(!this.contentVisible)return;const r=this.ctx,o=s.width,d=s.height,f=this.cachedCanvases.getCanvas("inlineImage",o,d,!1);u(f.context,s,this.current.transferMaps);for(let O=0,Y=e.length;O<Y;O++){const U=e[O];if(r.save(),r.transform.apply(r,U.transform),r.scale(1,-1),S(r,f.canvas,U.x,U.y,U.w,U.h,0,-1,1,1),this.imageLayer){const Q=this.getCanvasPosition(U.x,U.y);this.imageLayer.appendImage({imgData:s,left:Q[0],top:Q[1],width:o,height:d})}r.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(s){}markPointProps(s,e){}beginMarkedContent(s){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(s,e){this.markedContentStack.push("OC"===s?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(s){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip&&(e||(this.pendingClip===ue?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const s=this.ctx.mozCurrentTransform;if(0===s[1]&&0===s[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(s[0]),Math.abs(s[3]));else{const e=Math.abs(s[0]*s[3]-s[2]*s[1]),r=Math.hypot(s[0],s[2]),o=Math.hypot(s[1],s[3]);this._cachedGetSinglePixelWidth=Math.max(r,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:s}=this.current,e=this.ctx.mozCurrentTransform;let r,o;if(0===e[1]&&0===e[2]){const d=Math.abs(e[0]),f=Math.abs(e[3]);if(0===s)r=1/d,o=1/f;else{const l=d*s,O=f*s;r=l<1?1/l:1,o=O<1?1/O:1}}else{const d=Math.abs(e[0]*e[3]-e[2]*e[1]),f=Math.hypot(e[0],e[1]),l=Math.hypot(e[2],e[3]);if(0===s)r=l/d,o=f/d;else{const O=s*d;r=l>O?l/O:1,o=f>O?f/O:1}}this._cachedScaleForStroking=[r,o]}return this._cachedScaleForStroking}rescaleAndStroke(s){const{ctx:e}=this,{lineWidth:r}=this.current,[o,d]=this.getScaleForStroking();if(e.lineWidth=r||1,1===o&&1===d)return void e.stroke();let f,l,O;s&&(f=e.mozCurrentTransform.slice(),l=e.getLineDash().slice(),O=e.lineDashOffset),e.scale(o,d);const Y=Math.max(o,d);e.setLineDash(e.getLineDash().map(U=>U/Y)),e.lineDashOffset/=Y,e.stroke(),s&&(e.setTransform(...f),e.setLineDash(l),e.lineDashOffset=O)}getCanvasPosition(s,e){const r=this.ctx.mozCurrentTransform;return[r[0]*s+r[2]*e+r[4],r[1]*s+r[3]*e+r[5]]}isContentVisible(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}}a.CanvasGraphics=ce;for(const R in i.OPS)void 0!==ce.prototype[R]&&(ce.prototype[i.OPS[R]]=ce.prototype[R])},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function j(k){switch(k[0]){case"RadialAxial":return new w(k);case"Mesh":return new m(k);case"Dummy":return new X}throw new Error(`Unknown IR type: ${k[0]}`)};var i=P(1),N=P(3);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function q(k,A){if(!A||N.isNodeJS)return;const T=A[2]-A[0],y=A[3]-A[1],S=new Path2D;S.rect(A[0],A[1],T,y),k.clip(S)}a.PathType=B;class L{constructor(){this.constructor===L&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class w extends L{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let T;"axial"===this._type?T=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const y of this._colorStops)T.addColorStop(y[0],y[1]);return T}getPattern(A,T,y,S){let t;if(S===B.STROKE||S===B.FILL){const n=T.current.getClippedPathBoundingBox(S,A.mozCurrentTransform)||[0,0,0,0],u=Math.ceil(n[2]-n[0])||1,C=Math.ceil(n[3]-n[1])||1,h=T.cachedCanvases.getCanvas("pattern",u,C,!0),b=h.context;b.clearRect(0,0,b.canvas.width,b.canvas.height),b.beginPath(),b.rect(0,0,b.canvas.width,b.canvas.height),b.translate(-n[0],-n[1]),y=i.Util.transform(y,[1,0,0,1,n[0],n[1]]),b.transform.apply(b,T.baseTransform),this.matrix&&b.transform.apply(b,this.matrix),q(b,this._bbox),b.fillStyle=this._createGradient(b),b.fill(),t=A.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(y);try{t.setTransform(p)}catch(c){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${c?.message}".`)}}else q(A,this._bbox),t=this._createGradient(A);return t}}function v(k,A,T,y,S,t,n,u){const C=A.coords,h=A.colors,b=k.data,p=4*k.width;let c;C[T+1]>C[y+1]&&(c=T,T=y,y=c,c=t,t=n,n=c),C[y+1]>C[S+1]&&(c=y,y=S,S=c,c=n,n=u,u=c),C[T+1]>C[y+1]&&(c=T,T=y,y=c,c=t,t=n,n=c);const I=(C[T]+A.offsetX)*A.scaleX,F=(C[T+1]+A.offsetY)*A.scaleY,G=(C[y]+A.offsetX)*A.scaleX,K=(C[y+1]+A.offsetY)*A.scaleY,Z=(C[S]+A.offsetX)*A.scaleX,ee=(C[S+1]+A.offsetY)*A.scaleY;if(F>=ee)return;const te=h[t],ue=h[t+1],ce=h[t+2],R=h[n],s=h[n+1],e=h[n+2],r=h[u],o=h[u+1],d=h[u+2],f=Math.round(F),l=Math.round(ee);let O,Y,U,Q,$,ne,ie,de;for(let me=f;me<=l;me++){if(me<K){let Ce;Ce=me<F?0:(F-me)/(F-K),O=I-(I-G)*Ce,Y=te-(te-R)*Ce,U=ue-(ue-s)*Ce,Q=ce-(ce-e)*Ce}else{let Ce;Ce=me>ee?1:K===ee?0:(K-me)/(K-ee),O=G-(G-Z)*Ce,Y=R-(R-r)*Ce,U=s-(s-o)*Ce,Q=e-(e-d)*Ce}let Ae;Ae=me<F?0:me>ee?1:(F-me)/(F-ee),$=I-(I-Z)*Ae,ne=te-(te-r)*Ae,ie=ue-(ue-o)*Ae,de=ce-(ce-d)*Ae;const ge=Math.round(Math.min(O,$)),le=Math.round(Math.max(O,$));let we=p*me+4*ge;for(let Ce=ge;Ce<=le;Ce++)Ae=(O-Ce)/(O-$),Ae<0?Ae=0:Ae>1&&(Ae=1),b[we++]=Y-(Y-ne)*Ae|0,b[we++]=U-(U-ie)*Ae|0,b[we++]=Q-(Q-de)*Ae|0,b[we++]=255}}function V(k,A,T){const y=A.coords,S=A.colors;let t,n;switch(A.type){case"lattice":const u=A.verticesPerRow,C=Math.floor(y.length/u)-1,h=u-1;for(t=0;t<C;t++){let b=t*u;for(let p=0;p<h;p++,b++)v(k,T,y[b],y[b+1],y[b+u],S[b],S[b+1],S[b+u]),v(k,T,y[b+u+1],y[b+1],y[b+u],S[b+u+1],S[b+1],S[b+u])}break;case"triangles":for(t=0,n=y.length;t<n;t+=3)v(k,T,y[t],y[t+1],y[t+2],S[t],S[t+1],S[t+2]);break;default:throw new Error("illegal figure")}}class m extends L{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,T,y){const u=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-u,b=Math.ceil(this._bounds[3])-C,p=Math.min(Math.ceil(Math.abs(h*A[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(b*A[1]*1.1)),3e3),I=h/p,F=b/c,G={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-C,scaleX:1/I,scaleY:1/F},ee=y.getCanvas("mesh",p+4,c+4,!1),te=ee.context,ue=te.createImageData(p,c);if(T){const R=ue.data;for(let s=0,e=R.length;s<e;s+=4)R[s]=T[0],R[s+1]=T[1],R[s+2]=T[2],R[s+3]=255}for(const R of this._figures)V(ue,R,G);return te.putImageData(ue,2,2),{canvas:ee.canvas,offsetX:u-2*I,offsetY:C-2*F,scaleX:I,scaleY:F}}getPattern(A,T,y,S){let t;if(q(A,this._bbox),S===B.SHADING)t=i.Util.singularValueDecompose2dScale(A.mozCurrentTransform);else if(t=i.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const u=i.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*u[0],t[1]*u[1]]}const n=this._createMeshCanvas(t,S===B.SHADING?null:this._background,T.cachedCanvases);return S!==B.SHADING&&(A.setTransform.apply(A,T.baseTransform),this.matrix&&A.transform.apply(A,this.matrix)),A.translate(n.offsetX,n.offsetY),A.scale(n.scaleX,n.scaleY),A.createPattern(n.canvas,"no-repeat")}}class X extends L{getPattern(){return"hotpink"}}class g{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(A,T,y,S,t){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=T,this.ctx=y,this.canvasGraphicsFactory=S,this.baseTransform=t}createPatternCanvas(A){const T=this.operatorList,y=this.bbox,S=this.xstep,t=this.ystep,n=this.paintType,C=this.color,h=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const b=y[0],p=y[1],c=y[2],I=y[3],F=i.Util.singularValueDecompose2dScale(this.matrix),G=i.Util.singularValueDecompose2dScale(this.baseTransform),K=[F[0]*G[0],F[1]*G[1]],Z=this.getSizeAndScale(S,this.ctx.canvas.width,K[0]),ee=this.getSizeAndScale(t,this.ctx.canvas.height,K[1]),te=A.cachedCanvases.getCanvas("pattern",Z.size,ee.size,!0),ue=te.context,ce=h.createCanvasGraphics(ue);ce.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(ce,n,C);let R=b,s=p,e=c,r=I;return b<0&&(R=0,e+=Math.abs(b)),p<0&&(s=0,r+=Math.abs(p)),ue.translate(-Z.scale*R,-ee.scale*s),ce.transform(Z.scale,0,0,ee.scale,0,0),ue.save(),this.clipBbox(ce,R,s,e,r),ce.baseTransform=ce.ctx.mozCurrentTransform.slice(),ce.executeOperatorList(T),ce.endDrawing(),{canvas:te.canvas,scaleX:Z.scale,scaleY:ee.scale,offsetX:R,offsetY:s}}getSizeAndScale(A,T,y){A=Math.abs(A);const S=Math.max(g.MAX_PATTERN_SIZE,T);let t=Math.ceil(A*y);return t>=S?t=S:y=t/A,{scale:y,size:t}}clipBbox(A,T,y,S,t){A.ctx.rect(T,y,S-T,t-y),A.current.updateRectMinMax(A.ctx.mozCurrentTransform,[T,y,S,t]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,T,y){const S=A.ctx,t=A.current;switch(T){case 1:const n=this.ctx;S.fillStyle=n.fillStyle,S.strokeStyle=n.strokeStyle,t.fillColor=n.fillStyle,t.strokeColor=n.strokeStyle;break;case 2:const u=i.Util.makeHexColor(y[0],y[1],y[2]);S.fillStyle=u,S.strokeStyle=u,t.fillColor=u,t.strokeColor=u;break;default:throw new i.FormatError(`Unsupported paint type: ${T}`)}}getPattern(A,T,y,S){let t=y;S!==B.SHADING&&(t=i.Util.transform(t,T.baseTransform),this.matrix&&(t=i.Util.transform(t,this.matrix)));const n=this.createPatternCanvas(T);let u=new DOMMatrix(t);u=u.translate(n.offsetX,n.offsetY),u=u.scale(1/n.scaleX,1/n.scaleY);const C=A.createPattern(n.canvas,"repeat");try{C.setTransform(u)}catch(h){(0,i.warn)(`TilingPattern.getPattern: "${h?.message}".`)}return C}}a.TilingPattern=g},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function N({src:B,srcPos:q=0,dest:L,destPos:w=0,width:v,height:V,inverseDecode:m=!1}){const X=i.FeatureTest.isLittleEndian?4278190080:255,[j,H]=m?[0,X]:[X,0],g=v>>3,k=7&v,A=B.length;L=new Uint32Array(L.buffer);for(let T=0;T<V;T++){for(const S=q+g;q<S;q++){const t=q<A?B[q]:255;L[w++]=128&t?H:j,L[w++]=64&t?H:j,L[w++]=32&t?H:j,L[w++]=16&t?H:j,L[w++]=8&t?H:j,L[w++]=4&t?H:j,L[w++]=2&t?H:j,L[w++]=1&t?H:j}if(0===k)continue;const y=q<A?B[q++]:255;for(let S=0;S<k;S++)L[w++]=y&1<<7-S?H:j}return{srcPos:q,destPos:w}};var i=P(1)},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const P=Object.create(null);a.GlobalWorkerOptions=P,P.workerPort=void 0===P.workerPort?null:P.workerPort,P.workerSrc=void 0===P.workerSrc?"":P.workerSrc},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var i=P(1);function q(w){switch(w instanceof Error||"object"==typeof w&&null!==w||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),w.name){case"AbortException":return new i.AbortException(w.message);case"MissingPDFException":return new i.MissingPDFException(w.message);case"PasswordException":return new i.PasswordException(w.message,w.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(w.message,w.status);case"UnknownErrorException":return new i.UnknownErrorException(w.message,w.details);default:return new i.UnknownErrorException(w.message,w.toString())}}a.MessageHandler=class L{constructor(v,V,m){this.sourceName=v,this.targetName=V,this.comObj=m,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=X=>{const j=X.data;if(j.targetName!==this.sourceName)return;if(j.stream)return void this._processStreamMessage(j);if(j.callback){const g=j.callbackId,k=this.callbackCapabilities[g];if(!k)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===j.callback)k.resolve(j.data);else{if(2!==j.callback)throw new Error("Unexpected callback case");k.reject(q(j.reason))}return}const H=this.actionHandler[j.action];if(!H)throw new Error(`Unknown action from worker: ${j.action}`);if(j.callbackId){const g=this.sourceName,k=j.sourceName;new Promise(function(A){A(H(j.data))}).then(function(A){m.postMessage({sourceName:g,targetName:k,callback:1,callbackId:j.callbackId,data:A})},function(A){m.postMessage({sourceName:g,targetName:k,callback:2,callbackId:j.callbackId,reason:q(A)})})}else j.streamId?this._createStreamSink(j):H(j.data)},m.addEventListener("message",this._onComObjOnMessage)}on(v,V){const m=this.actionHandler;if(m[v])throw new Error(`There is already an actionName called "${v}"`);m[v]=V}send(v,V,m){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,data:V},m)}sendWithPromise(v,V,m){const X=this.callbackId++,j=(0,i.createPromiseCapability)();this.callbackCapabilities[X]=j;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,callbackId:X,data:V},m)}catch(H){j.reject(H)}return j.promise}sendWithStream(v,V,m,X){const j=this.streamId++,H=this.sourceName,g=this.targetName,k=this.comObj;return new ReadableStream({start:A=>{const T=(0,i.createPromiseCapability)();return this.streamControllers[j]={controller:A,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},k.postMessage({sourceName:H,targetName:g,action:v,streamId:j,data:V,desiredSize:A.desiredSize},X),T.promise},pull:A=>{const T=(0,i.createPromiseCapability)();return this.streamControllers[j].pullCall=T,k.postMessage({sourceName:H,targetName:g,stream:6,streamId:j,desiredSize:A.desiredSize}),T.promise},cancel:A=>{(0,i.assert)(A instanceof Error,"cancel must have a valid reason");const T=(0,i.createPromiseCapability)();return this.streamControllers[j].cancelCall=T,this.streamControllers[j].isClosed=!0,k.postMessage({sourceName:H,targetName:g,stream:1,streamId:j,reason:q(A)}),T.promise}},m)}_createStreamSink(v){const V=v.streamId,m=this.sourceName,X=v.sourceName,j=this.comObj,H=this,g=this.actionHandler[v.action],k={enqueue(A,T=1,y){if(this.isCancelled)return;const S=this.desiredSize;this.desiredSize-=T,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),j.postMessage({sourceName:m,targetName:X,stream:4,streamId:V,chunk:A},y)},close(){this.isCancelled||(this.isCancelled=!0,j.postMessage({sourceName:m,targetName:X,stream:3,streamId:V}),delete H.streamSinks[V])},error(A){(0,i.assert)(A instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:m,targetName:X,stream:5,streamId:V,reason:q(A)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:v.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[V]=k,new Promise(function(A){A(g(v.data,k))}).then(function(){j.postMessage({sourceName:m,targetName:X,stream:8,streamId:V,success:!0})},function(A){j.postMessage({sourceName:m,targetName:X,stream:8,streamId:V,reason:q(A)})})}_processStreamMessage(v){const V=v.streamId,m=this.sourceName,X=v.sourceName,j=this.comObj,H=this.streamControllers[V],g=this.streamSinks[V];switch(v.stream){case 8:v.success?H.startCall.resolve():H.startCall.reject(q(v.reason));break;case 7:v.success?H.pullCall.resolve():H.pullCall.reject(q(v.reason));break;case 6:if(!g){j.postMessage({sourceName:m,targetName:X,stream:7,streamId:V,success:!0});break}g.desiredSize<=0&&v.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=v.desiredSize,new Promise(function(k){k(g.onPull&&g.onPull())}).then(function(){j.postMessage({sourceName:m,targetName:X,stream:7,streamId:V,success:!0})},function(k){j.postMessage({sourceName:m,targetName:X,stream:7,streamId:V,reason:q(k)})});break;case 4:if((0,i.assert)(H,"enqueue should have stream controller"),H.isClosed)break;H.controller.enqueue(v.chunk);break;case 3:if((0,i.assert)(H,"close should have stream controller"),H.isClosed)break;H.isClosed=!0,H.controller.close(),this._deleteStreamController(H,V);break;case 5:(0,i.assert)(H,"error should have stream controller"),H.controller.error(q(v.reason)),this._deleteStreamController(H,V);break;case 2:v.success?H.cancelCall.resolve():H.cancelCall.reject(q(v.reason)),this._deleteStreamController(H,V);break;case 1:if(!g)break;new Promise(function(k){k(g.onCancel&&g.onCancel(q(v.reason)))}).then(function(){j.postMessage({sourceName:m,targetName:X,stream:2,streamId:V,success:!0})},function(k){j.postMessage({sourceName:m,targetName:X,stream:2,streamId:V,reason:q(k)})}),g.sinkCapability.reject(q(v.reason)),g.isCancelled=!0,delete this.streamSinks[V];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(v,V){var m=this;return _asyncToGenerator(function*(){yield Promise.allSettled([v.startCall&&v.startCall.promise,v.pullCall&&v.pullCall.promise,v.cancelCall&&v.cancelCall.promise]),delete m.streamControllers[V]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var i=P(1),N=new WeakMap,B=new WeakMap;a.Metadata=class q{constructor({parsedData:w,rawData:v}){_classPrivateFieldInitSpec(this,N,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:void 0}),_classPrivateFieldSet(this,N,w),_classPrivateFieldSet(this,B,v)}getRaw(){return _classPrivateFieldGet(this,B)}get(w){return _classPrivateFieldGet(this,N).get(w)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,N))}has(w){return _classPrivateFieldGet(this,N).has(w)}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var i=P(1);class N{constructor(L,w){this.visible=!0,this.name=L,this.intent=w}}a.OptionalContentConfig=class B{constructor(L){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==L){this.name=L.name,this.creator=L.creator,this._order=L.order;for(const w of L.groups)this._groups.set(w.id,new N(w.name,w.intent));if("OFF"===L.baseState)for(const w of this._groups)w.visible=!1;for(const w of L.on)this._groups.get(w).visible=!0;for(const w of L.off)this._groups.get(w).visible=!1}}_evaluateVisibilityExpression(L){const w=L.length;if(w<2)return!0;const v=L[0];for(let V=1;V<w;V++){const m=L[V];let X;if(Array.isArray(m))X=this._evaluateVisibilityExpression(m);else{if(!this._groups.has(m))return(0,i.warn)(`Optional content group not found: ${m}`),!0;X=this._groups.get(m).visible}switch(v){case"And":if(!X)return!1;break;case"Or":if(X)return!0;break;case"Not":return!X;default:return!0}}return"And"===v}isVisible(L){if(0===this._groups.size)return!0;if(!L)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===L.type)return this._groups.has(L.id)?this._groups.get(L.id).visible:((0,i.warn)(`Optional content group not found: ${L.id}`),!0);if("OCMD"===L.type){if(L.expression)return this._evaluateVisibilityExpression(L.expression);if(!L.policy||"AnyOn"===L.policy){for(const w of L.ids){if(!this._groups.has(w))return(0,i.warn)(`Optional content group not found: ${w}`),!0;if(this._groups.get(w).visible)return!0}return!1}if("AllOn"===L.policy){for(const w of L.ids){if(!this._groups.has(w))return(0,i.warn)(`Optional content group not found: ${w}`),!0;if(!this._groups.get(w).visible)return!1}return!0}if("AnyOff"===L.policy){for(const w of L.ids){if(!this._groups.has(w))return(0,i.warn)(`Optional content group not found: ${w}`),!0;if(!this._groups.get(w).visible)return!0}return!1}if("AllOff"===L.policy){for(const w of L.ids){if(!this._groups.has(w))return(0,i.warn)(`Optional content group not found: ${w}`),!0;if(this._groups.get(w).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${L.policy}.`),!0}return(0,i.warn)(`Unknown group type ${L.type}.`),!0}setVisibility(L,w=!0){this._groups.has(L)?this._groups.get(L).visible=!!w:(0,i.warn)(`Optional content group not found: ${L}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(L){return this._groups.get(L)||null}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var i=P(1),N=P(5);a.PDFDataTransportStream=class B{constructor(v,V){(0,i.assert)(V,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=v.progressiveDone||!1,this._contentDispositionFilename=v.contentDispositionFilename||null;const m=v.initialData;if(m?.length>0){const X=new Uint8Array(m).buffer;this._queuedChunks.push(X)}this._pdfDataRangeTransport=V,this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._contentLength=v.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((X,j)=>{this._onReceiveData({begin:X,chunk:j})}),this._pdfDataRangeTransport.addProgressListener((X,j)=>{this._onProgress({loaded:X,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(X=>{this._onReceiveData({chunk:X})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(v){const V=new Uint8Array(v.chunk).buffer;if(void 0===v.begin)this._fullRequestReader?this._fullRequestReader._enqueue(V):this._queuedChunks.push(V);else{const m=this._rangeReaders.some(function(X){return X._begin===v.begin&&(X._enqueue(V),!0)});(0,i.assert)(m,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(v){if(void 0===v.total){const V=this._rangeReaders[0];V?.onProgress&&V.onProgress({loaded:v.loaded})}else{const V=this._fullRequestReader;V?.onProgress&&V.onProgress({loaded:v.loaded,total:v.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(v){const V=this._rangeReaders.indexOf(v);V>=0&&this._rangeReaders.splice(V,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const v=this._queuedChunks;return this._queuedChunks=null,new q(this,v,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(v,V){if(V<=this._progressiveDataLength)return null;const m=new L(this,v,V);return this._pdfDataRangeTransport.requestDataRange(v,V),this._rangeReaders.push(m),m}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const V of this._rangeReaders.slice(0))V.cancel(v);this._pdfDataRangeTransport.abort()}};class q{constructor(v,V,m=!1,X=null){this._stream=v,this._done=m||!1,this._filename=(0,N.isPdfFile)(X)?X:null,this._queuedChunks=V||[],this._loaded=0;for(const j of this._queuedChunks)this._loaded+=j.byteLength;this._requests=[],this._headersReady=Promise.resolve(),v._fullRequestReader=this,this.onProgress=null}_enqueue(v){this._done||(this._requests.length>0?this._requests.shift().resolve({value:v,done:!1}):this._queuedChunks.push(v),this._loaded+=v.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var v=this;return _asyncToGenerator(function*(){if(v._queuedChunks.length>0)return{value:v._queuedChunks.shift(),done:!1};if(v._done)return{value:void 0,done:!0};const V=(0,i.createPromiseCapability)();return v._requests.push(V),V.promise})()}cancel(v){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class L{constructor(v,V,m){this._stream=v,this._begin=V,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(v){if(!this._done){if(0===this._requests.length)this._queuedChunk=v;else{this._requests.shift().resolve({value:v,done:!1});for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var v=this;return _asyncToGenerator(function*(){if(v._queuedChunk){const m=v._queuedChunk;return v._queuedChunk=null,{value:m,done:!1}}if(v._done)return{value:void 0,done:!0};const V=(0,i.createPromiseCapability)();return v._requests.push(V),V.promise})()}cancel(v){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(z,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class P{static textContent(N){const B=[],q={items:B,styles:Object.create(null)};return function L(w){if(!w)return;let v=null;const V=w.name;if("#text"===V)v=w.value;else{if(!P.shouldBuildText(V))return;w?.attributes?.textContent?v=w.attributes.textContent:w.value&&(v=w.value)}if(null!==v&&B.push({str:v}),w.children)for(const m of w.children)L(m)}(N),q}static shouldBuildText(N){return!("textarea"===N||"input"===N||"option"===N||"select"===N)}}a.XfaText=P},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var i=P(6);const N=function(w){return new Promise((v,V)=>{__webpack_require__(172).readFile(w,(X,j)=>{!X&&j?v(new Uint8Array(j)):V(new Error(X))})})};a.NodeCanvasFactory=class B extends i.BaseCanvasFactory{_createCanvas(v,V){return __webpack_require__(3414).createCanvas(v,V)}},a.NodeCMapReaderFactory=class q extends i.BaseCMapReaderFactory{_fetchData(v,V){return N(v).then(m=>({cMapData:m,compressionType:V}))}},a.NodeStandardFontDataFactory=class L extends i.BaseStandardFontDataFactory{_fetchData(v){return N(v)}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var i=P(1),N=P(5),B=P(8),q=P(21),L=P(22);const w=1e3,v=new WeakSet;function V(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class m{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new j(e);case i.AnnotationType.TEXT:return new H(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new k(e);case"Btn":return e.data.radioButton?new T(e):e.data.checkBox?new A(e):new y(e);case"Ch":return new S(e)}return new g(e);case i.AnnotationType.POPUP:return new t(e);case i.AnnotationType.FREETEXT:return new u(e);case i.AnnotationType.LINE:return new C(e);case i.AnnotationType.SQUARE:return new h(e);case i.AnnotationType.CIRCLE:return new b(e);case i.AnnotationType.POLYLINE:return new p(e);case i.AnnotationType.CARET:return new I(e);case i.AnnotationType.INK:return new F(e);case i.AnnotationType.POLYGON:return new c(e);case i.AnnotationType.HIGHLIGHT:return new G(e);case i.AnnotationType.UNDERLINE:return new K(e);case i.AnnotationType.SQUIGGLY:return new Z(e);case i.AnnotationType.STRIKEOUT:return new ee(e);case i.AnnotationType.STAMP:return new te(e);case i.AnnotationType.FILEATTACHMENT:return new ue(e);default:return new X(e)}}}class X{constructor(e,{isRenderable:r=!1,ignoreBorder:o=!1,createQuadrilaterals:d=!1}={}){this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,r&&(this.container=this._createContainer(o)),d&&(this.quadrilaterals=this._createQuadrilaterals(o))}_createContainer(e=!1){const r=this.data,o=this.page,d=this.viewport,f=document.createElement("section");let{width:l,height:O}=V(r.rect);f.setAttribute("data-annotation-id",r.id);const Y=i.Util.normalizeRect([r.rect[0],o.view[3]-r.rect[1]+o.view[1],r.rect[2],o.view[3]-r.rect[3]+o.view[1]]);if(r.hasOwnCanvas){const U=d.transform.slice(),[Q,$]=i.Util.singularValueDecompose2dScale(U);l=Math.ceil(l*Q),O=Math.ceil(O*$),Y[0]*=Q,Y[1]*=$;for(let ne=0;ne<4;ne++)U[ne]=Math.sign(U[ne]);f.style.transform=`matrix(${U.join(",")})`}else f.style.transform=`matrix(${d.transform.join(",")})`;if(f.style.transformOrigin=`${-Y[0]}px ${-Y[1]}px`,!e&&r.borderStyle.width>0){f.style.borderWidth=`${r.borderStyle.width}px`,r.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(l-=2*r.borderStyle.width,O-=2*r.borderStyle.width);const U=r.borderStyle.horizontalCornerRadius,Q=r.borderStyle.verticalCornerRadius;switch((U>0||Q>0)&&(f.style.borderRadius=`${U}px / ${Q}px`),r.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}r.borderColor||r.color?f.style.borderColor=i.Util.makeHexColor(0|r.color[0],0|r.color[1],0|r.color[2]):f.style.borderWidth=0}return f.style.left=`${Y[0]}px`,f.style.top=`${Y[1]}px`,r.hasOwnCanvas?f.style.width=f.style.height="auto":(f.style.width=`${l}px`,f.style.height=`${O}px`),f}get _commonActions(){const e=(r,o,d)=>{const f=d.detail[r];d.target.style[o]=q.ColorConverters[`${f[0]}_HTML`](f.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:r=>{const o=r.detail.display%2==1;r.target.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o,print:0===r.detail.display||3===r.detail.display})},print:r=>{this.annotationStorage.setValue(this.data.id,{print:r.detail.print})},hidden:r=>{r.target.style.visibility=r.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:r.detail.hidden})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.detail.readonly?r.target.setAttribute("readonly",""):r.target.removeAttribute("readonly")},required:r=>{r.detail.required?r.target.setAttribute("required",""):r.target.removeAttribute("required")},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)}})}_dispatchEventFromSandbox(e,r){const o=this._commonActions;for(const d of Object.keys(r.detail)){const f=e[d]||o[d];f&&f(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const o=this._commonActions;for(const[d,f]of Object.entries(r)){const l=o[d];l&&(l({detail:f,target:e}),delete r[d])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const r=[],o=this.data.rect;for(const d of this.data.quadPoints)this.data.rect=[d[2].x,d[2].y,d[1].x,d[1].y],r.push(this._createContainer(e));return this.data.rect=o,r}_createPopup(e,r){let o=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,o=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=o.style.height,e.style.width=o.style.width,o.appendChild(e));const f=new n({container:o,trigger:e,color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,hideWrapper:!0}).render();f.style.left=o.style.width,o.appendChild(f)}_renderQuadrilaterals(e){for(const r of this.quadrilaterals)r.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const o=[];if(this._fieldObjects){const d=this._fieldObjects[e];if(d)for(const{page:f,id:l,exportValues:O}of d){if(-1===f||l===r)continue;const Y="string"==typeof O?O:null,U=document.getElementById(l);!U||v.has(U)?o.push({id:l,exportValue:Y,domElement:U}):(0,i.warn)(`_getElementsByName - element not allowed: ${l}`)}return o}for(const d of document.getElementsByName(e)){const{id:f,exportValue:l}=d;f!==r&&v.has(d)&&o.push({id:f,exportValue:l,domElement:d})}return o}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class j extends X{constructor(e,r=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!r?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:r}=this,o=document.createElement("a");if(e.url)r.addLinkAttributes(o,e.url,e.newWindow);else if(e.action)this._bindNamedAction(o,e.action);else if(e.dest)this._bindLink(o,e.dest);else{let d=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(d=!0,this._bindJSAction(o,e)),e.resetForm?this._bindResetFormAction(o,e.resetForm):d||this._bindLink(o,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((d,f)=>{const l=0===f?o:o.cloneNode();return d.appendChild(l),d}):(this.container.className="linkAnnotation",this.container.appendChild(o),this.container)}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||""===r)&&(e.className="internalLink")}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),e.className="internalLink"}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const d of Object.keys(r.actions)){const f=o.get(d);f&&(e[f]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:d}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,r){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(o||(e.onclick=()=>!1));e.onclick=()=>{o&&o();const{fields:d,refs:f,include:l}=r,O=[];if(0!==d.length||0!==f.length){const Q=new Set(f);for(const $ of d){const ne=this._fieldObjects[$]||[];for(const{id:ie}of ne)Q.add(ie)}for(const $ of Object.values(this._fieldObjects))for(const ne of $)Q.has(ne.id)===l&&O.push(ne)}else for(const Q of Object.values(this._fieldObjects))O.push(...Q);const Y=this.annotationStorage,U=[];for(const Q of O){const{id:$}=Q;switch(U.push($),Q.type){case"text":case"combobox":case"listbox":Y.setValue($,{value:Q.defaultValue||""});break;case"checkbox":case"radiobutton":Y.setValue($,{value:Q.defaultValue===Q.exportValues});break;default:continue}const ne=document.getElementById($);!ne||!v.has(ne)||ne.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:U,name:"ResetForm"}}),!1}}}class H extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class g extends X{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:r,isMac:o}=X.platform;return r&&e.ctrlKey||o&&e.metaKey}_setEventListener(e,r,o,d){r.includes("mouse")?e.addEventListener(r,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:d(f),shift:f.shiftKey,modifier:this._getKeyModifier(f)}})}):e.addEventListener(r,f=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:d(f)}})})}_setEventListeners(e,r,o){for(const[d,f]of r)("Action"===f||this.data.actions?.[f])&&this._setEventListener(e,d,f,o)}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=null===r?"transparent":i.Util.makeHexColor(r[0],r[1],r[2])}}class k extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,r,o,d){const f=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[r]=o),f.setValue(l.id,{[d]:o})}render(){const e=this.annotationStorage,r=this.data.id;this.container.className="textWidgetAnnotation";let o=null;if(this.renderForms){const d=e.getValue(r,{value:this.data.fieldValue}),f=d.formattedValue||d.value||"",l={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=f):(o=document.createElement("input"),o.type="text",o.setAttribute("value",f)),v.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=w,l.userValue=f,o.setAttribute("id",r),o.addEventListener("input",Y=>{e.setValue(r,{value:Y.target.value}),this.setPropertyOnSiblings(o,"value",Y.target.value,"value")}),o.addEventListener("resetform",Y=>{o.value=l.userValue=this.data.defaultFieldValue??"",l.formattedValue=null});let O=Y=>{const{formattedValue:U}=l;null!=U&&(Y.target.value=U),Y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",U=>{l.userValue&&(U.target.value=l.userValue),l.valueOnFocus=U.target.value}),o.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value($){l.userValue=$.detail.value??"",e.setValue(r,{value:l.userValue.toString()}),$.target.value=l.userValue},formattedValue($){const{formattedValue:ne}=$.detail;l.formattedValue=ne,null!=ne&&$.target!==document.activeElement&&($.target.value=ne),e.setValue(r,{formattedValue:ne})},selRange($){$.target.setSelectionRange(...$.detail.selRange)}},U)}),o.addEventListener("keydown",U=>{let Q=-1;if("Escape"===U.key?Q=0:"Enter"===U.key?Q=2:"Tab"===U.key&&(Q=3),-1===Q)return;const{value:$}=U.target;l.valueOnFocus!==$&&(l.userValue=$,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:$,willCommit:!0,commitKey:Q,selStart:U.target.selectionStart,selEnd:U.target.selectionEnd}}))});const Y=O;O=null,o.addEventListener("blur",U=>{const{value:Q}=U.target;l.userValue=Q,this._mouseState.isDown&&l.valueOnFocus!==Q&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:Q,willCommit:!0,commitKey:1,selStart:U.target.selectionStart,selEnd:U.target.selectionEnd}}),Y(U)}),this.data.actions?.Keystroke&&o.addEventListener("beforeinput",U=>{const{data:Q,target:$}=U,{value:ne,selectionStart:ie,selectionEnd:de}=$;let me=ie,Ae=de;switch(U.inputType){case"deleteWordBackward":{const ge=ne.substring(0,ie).match(/\w*[^\w]*$/);ge&&(me-=ge[0].length);break}case"deleteWordForward":{const ge=ne.substring(ie).match(/^[^\w]*\w*/);ge&&(Ae+=ge[0].length);break}case"deleteContentBackward":ie===de&&(me-=1);break;case"deleteContentForward":ie===de&&(Ae+=1)}U.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:ne,change:Q||"",willCommit:!1,selStart:me,selEnd:Ae}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.value)}if(O&&o.addEventListener("blur",O),null!==this.data.maxLen&&(o.maxLength=this.data.maxLen),this.data.comb){const U=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;o.classList.add("comb"),o.style.letterSpacing=`calc(${U}px - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell";return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.appendChild(o),this.container}_setTextStyle(e){const{fontSize:o,fontColor:d}=this.data.defaultAppearanceData,f=e.style;o&&(f.fontSize=`${o}px`),f.color=i.Util.makeHexColor(d[0],d[1],d[2]),null!==this.data.textAlignment&&(f.textAlign=["left","center","right"][this.data.textAlignment])}}class A extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,o=r.id;let d=e.getValue(o,{value:r.exportValue===r.fieldValue}).value;"string"==typeof d&&(d="Off"!==d,e.setValue(o,{value:d})),this.container.className="buttonWidgetAnnotation checkBox";const f=document.createElement("input");return v.add(f),f.disabled=r.readOnly,f.type="checkbox",f.name=r.fieldName,d&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.setAttribute("exportValue",r.exportValue),f.tabIndex=w,f.addEventListener("change",l=>{const{name:O,checked:Y}=l.target;for(const U of this._getElementsByName(O,o)){const Q=Y&&U.exportValue===r.exportValue;U.domElement&&(U.domElement.checked=Q),e.setValue(U.id,{value:Q})}e.setValue(o,{value:Y})}),f.addEventListener("resetform",l=>{l.target.checked=(r.defaultFieldValue||"Off")===r.exportValue}),this.enableScripting&&this.hasJSActions&&(f.addEventListener("updatefromsandbox",l=>{this._dispatchEventFromSandbox({value(Y){Y.target.checked="Off"!==Y.detail.value,e.setValue(o,{value:Y.target.checked})}},l)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class T extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,r=this.data,o=r.id;let d=e.getValue(o,{value:r.fieldValue===r.buttonValue}).value;"string"==typeof d&&(d=d!==r.buttonValue,e.setValue(o,{value:d}));const f=document.createElement("input");if(v.add(f),f.disabled=r.readOnly,f.type="radio",f.name=r.fieldName,d&&f.setAttribute("checked",!0),f.setAttribute("id",o),f.tabIndex=w,f.addEventListener("change",l=>{const{name:O,checked:Y}=l.target;for(const U of this._getElementsByName(O,o))e.setValue(U.id,{value:!1});e.setValue(o,{value:Y})}),f.addEventListener("resetform",l=>{const O=r.defaultFieldValue;l.target.checked=null!=O&&O===r.buttonValue}),this.enableScripting&&this.hasJSActions){const l=r.buttonValue;f.addEventListener("updatefromsandbox",O=>{this._dispatchEventFromSandbox({value:U=>{const Q=l===U.detail.value;for(const $ of this._getElementsByName(U.target.name)){const ne=Q&&$.id===o;$.domElement&&($.domElement.checked=ne),e.setValue($.id,{value:ne})}}},O)}),this._setEventListeners(f,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],O=>O.target.checked)}return this._setBackgroundColor(f),this._setDefaultPropertiesFromJS(f),this.container.appendChild(f),this.container}}class y extends j{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class S extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,r=this.data.id,o=e.getValue(r,{value:this.data.fieldValue});let{fontSize:d}=this.data.defaultAppearanceData;d||(d=9);const f=`calc(${d}px * var(--zoom-factor))`,l=document.createElement("select");v.add(l),l.disabled=this.data.readOnly,l.name=this.data.fieldName,l.setAttribute("id",r),l.tabIndex=w,l.style.fontSize=`${d}px`,this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",U=>{const Q=this.data.defaultFieldValue;for(const $ of l.options)$.selected=$.value===Q});for(const U of this.data.options){const Q=document.createElement("option");Q.textContent=U.displayValue,Q.value=U.exportValue,this.data.combo&&(Q.style.fontSize=f),o.value.includes(U.exportValue)&&Q.setAttribute("selected",!0),l.appendChild(Q)}const O=(U,Q)=>{const $=Q?"value":"textContent",ne=U.target.options;return U.target.multiple?Array.prototype.filter.call(ne,ie=>ie.selected).map(ie=>ie[$]):-1===ne.selectedIndex?null:ne[ne.selectedIndex][$]},Y=U=>Array.prototype.map.call(U.target.options,$=>({displayValue:$.textContent,exportValue:$.value}));return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value($){const ne=$.detail.value,ie=new Set(Array.isArray(ne)?ne:[ne]);for(const de of l.options)de.selected=ie.has(de.value);e.setValue(r,{value:O($,!0)})},multipleSelection($){l.multiple=!0},remove($){const ne=l.options,ie=$.detail.remove;ne[ie].selected=!1,l.remove(ie),ne.length>0&&-1===Array.prototype.findIndex.call(ne,me=>me.selected)&&(ne[0].selected=!0),e.setValue(r,{value:O($,!0),items:Y($)})},clear($){for(;0!==l.length;)l.remove(0);e.setValue(r,{value:null,items:[]})},insert($){const{index:ne,displayValue:ie,exportValue:de}=$.detail.insert,me=document.createElement("option");me.textContent=ie,me.value=de,l.insertBefore(me,l.children[ne]),e.setValue(r,{value:O($,!0),items:Y($)})},items($){const{items:ne}=$.detail;for(;0!==l.length;)l.remove(0);for(const ie of ne){const{displayValue:de,exportValue:me}=ie,Ae=document.createElement("option");Ae.textContent=de,Ae.value=me,l.appendChild(Ae)}l.options.length>0&&(l.options[0].selected=!0),e.setValue(r,{value:O($,!0),items:Y($)})},indices($){const ne=new Set($.detail.indices);for(const ie of $.target.options)ie.selected=ne.has(ie.index);e.setValue(r,{value:O($,!0)})},editable($){$.target.disabled=!$.detail.editable}},U)}),l.addEventListener("input",U=>{const Q=O(U,!0),$=O(U,!1);e.setValue(r,{value:Q}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:$,changeEx:Q,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],U=>U.target.checked)):l.addEventListener("input",function(U){e.setValue(r,{value:O(U,!0)})}),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.appendChild(l),this.container}}class t extends X{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const o=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===o.length)return this.container;const d=new n({container:this.container,trigger:Array.from(o),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),f=this.page,l=i.Util.normalizeRect([this.data.parentRect[0],f.view[3]-this.data.parentRect[1]+f.view[1],this.data.parentRect[2],f.view[3]-this.data.parentRect[3]+f.view[1]]),O=l[0]+this.data.parentRect[2]-this.data.parentRect[0],Y=l[1];return this.container.style.transformOrigin=`${-O}px ${-Y}px`,this.container.style.left=`${O}px`,this.container.style.top=`${Y}px`,this.container.appendChild(d.render()),this.container}}class n{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const r=document.createElement("div");r.className="popupWrapper",this.hideElement=this.hideWrapper?r:this.container,this.hideElement.hidden=!0;const o=document.createElement("div");o.className="popup";const d=this.color;d&&(o.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-d[0])+d[0],0|.7*(255-d[1])+d[1],0|.7*(255-d[2])+d[2]));const f=document.createElement("h1");f.dir=this.titleObj.dir,f.textContent=this.titleObj.str,o.appendChild(f);const l=N.PDFDateString.toDateObject(this.modificationDate);if(l){const O=document.createElement("span");O.className="popupDate",O.textContent="{{date}}, {{time}}",O.dataset.l10nId="annotation_date_string",O.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),o.appendChild(O)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const O=this._formatContents(this.contentsObj);o.appendChild(O)}else L.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:o}),o.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const O of this.trigger)O.addEventListener("click",this._toggle.bind(this)),O.addEventListener("mouseover",this._show.bind(this,!1)),O.addEventListener("mouseout",this._hide.bind(this,!1));return o.addEventListener("click",this._hide.bind(this,!0)),r.appendChild(o),r}_formatContents({str:e,dir:r}){const o=document.createElement("p");o.className="popupContent",o.dir=r;const d=e.split(/(?:\r\n?|\n)/);for(let f=0,l=d.length;f<l;++f)o.appendChild(document.createTextNode(d[f])),f<l-1&&o.appendChild(document.createElement("br"));return o}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class u extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class C extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:r,height:o}=V(e.rect),d=this.svgFactory.create(r,o),f=this.svgFactory.createElement("svg:line");return f.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),f.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),f.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),f.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.appendChild(f),this.container.append(d),this._createPopup(f,e),this.container}}class h extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:r,height:o}=V(e.rect),d=this.svgFactory.create(r,o),f=e.borderStyle.width,l=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",f/2),l.setAttribute("y",f/2),l.setAttribute("width",r-f),l.setAttribute("height",o-f),l.setAttribute("stroke-width",f||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),d.appendChild(l),this.container.append(d),this._createPopup(l,e),this.container}}class b extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:r,height:o}=V(e.rect),d=this.svgFactory.create(r,o),f=e.borderStyle.width,l=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",r/2),l.setAttribute("cy",o/2),l.setAttribute("rx",r/2-f/2),l.setAttribute("ry",o/2-f/2),l.setAttribute("stroke-width",f||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),d.appendChild(l),this.container.append(d),this._createPopup(l,e),this.container}}class p extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=V(e.rect),d=this.svgFactory.create(r,o);let f=[];for(const O of e.vertices)f.push(O.x-e.rect[0]+","+(e.rect[3]-O.y));f=f.join(" ");const l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",f),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),d.appendChild(l),this.container.append(d),this._createPopup(l,e),this.container}}class c extends p{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:r,height:o}=V(e.rect),d=this.svgFactory.create(r,o);for(const f of e.inkLists){let l=[];for(const Y of f)l.push(`${Y.x-e.rect[0]},${e.rect[3]-Y.y}`);l=l.join(" ");const O=this.svgFactory.createElement(this.svgElementName);O.setAttribute("points",l),O.setAttribute("stroke-width",e.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),this._createPopup(O,e),d.appendChild(O)}return this.container.append(d),this.container}}class G extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class K extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Z extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ee extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class te extends X{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ue extends X{constructor(e){super(e,{isRenderable:!0});const{filename:r,content:o}=this.data.file;this.filename=(0,N.getFilenameFromUrl)(r),this.content=o,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:r,content:o})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ce{static render(e){const r=[],o=[];for(const f of e.annotations){if(!f)continue;const{width:l,height:O}=V(f.rect);if(!(l<=0||O<=0)){if(f.annotationType===i.AnnotationType.POPUP){o.push(f);continue}r.push(f)}}o.length&&r.push(...o);const d=e.div;for(const f of r){const l=m.create({data:f,layer:d,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new N.DOMSVGFactory,annotationStorage:e.annotationStorage||new B.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(l.isRenderable){const O=l.render();if(f.hidden&&(O.style.visibility="hidden"),Array.isArray(O))for(const Y of O)d.appendChild(Y);else l instanceof t?d.prepend(O):d.appendChild(O)}}_classStaticPrivateMethodGet(this,ce,R).call(this,d,e.annotationCanvasMap)}static update(e){const{page:r,viewport:o,annotations:d,annotationCanvasMap:f,div:l}=e,O=o.transform,Y=`matrix(${O.join(",")})`;let U,Q;for(const $ of d){const ne=l.querySelectorAll(`[data-annotation-id="${$.id}"]`);if(ne)for(const ie of ne)if($.hasOwnCanvas){const de=i.Util.normalizeRect([$.rect[0],r.view[3]-$.rect[1]+r.view[1],$.rect[2],r.view[3]-$.rect[3]+r.view[1]]);if(!Q){U=Math.abs(O[0]||O[1]);const ge=O.slice();for(let le=0;le<4;le++)ge[le]=Math.sign(ge[le]);Q=`matrix(${ge.join(",")})`}const me=de[0]*U,Ae=de[1]*U;ie.style.left=`${me}px`,ie.style.top=`${Ae}px`,ie.style.transformOrigin=`${-me}px ${-Ae}px`,ie.style.transform=Q}else ie.style.transform=Y}_classStaticPrivateMethodGet(this,ce,R).call(this,l,f),l.hidden=!1}}function R(s,e){if(e){for(const[r,o]of e){const d=s.querySelector(`[data-annotation-id="${r}"]`);if(!d)continue;const{firstChild:f}=d;"CANVAS"===f.nodeName?d.replaceChild(o,f):d.insertBefore(o,f)}e.clear()}}a.AnnotationLayer=ce},(z,a)=>{function P(N){return Math.floor(255*Math.max(0,Math.min(1,N))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class i{static CMYK_G([B,q,L,w]){return["G",1-Math.min(1,.3*B+.59*L+.11*q+w)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_HTML([B]){const q=P(B);return`#${q}${q}${q}`}static RGB_G([B,q,L]){return["G",.3*B+.59*q+.11*L]}static RGB_HTML([B,q,L]){return`#${P(B)}${P(q)}${P(L)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([B,q,L,w]){return["RGB",1-Math.min(1,B+w),1-Math.min(1,L+w),1-Math.min(1,q+w)]}static CMYK_HTML(B){return this.RGB_HTML(this.CMYK_RGB(B))}static RGB_CMYK([B,q,L]){const w=1-B,v=1-q,V=1-L;return["CMYK",w,v,V,Math.min(w,v,V)]}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var i=P(18);a.XfaLayer=class N{static setupStorage(q,L,w,v,V){const m=v.getValue(L,{value:null});switch(w.name){case"textarea":if(null!==m.value&&(q.textContent=m.value),"print"===V)break;q.addEventListener("input",X=>{v.setValue(L,{value:X.target.value})});break;case"input":if("radio"===w.attributes.type||"checkbox"===w.attributes.type){if(m.value===w.attributes.xfaOn?q.setAttribute("checked",!0):m.value===w.attributes.xfaOff&&q.removeAttribute("checked"),"print"===V)break;q.addEventListener("change",X=>{v.setValue(L,{value:X.target.getAttribute(X.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==m.value&&q.setAttribute("value",m.value),"print"===V)break;q.addEventListener("input",X=>{v.setValue(L,{value:X.target.value})})}break;case"select":if(null!==m.value)for(const X of w.children)X.attributes.value===m.value&&(X.attributes.selected=!0);q.addEventListener("input",X=>{const j=X.target.options;v.setValue(L,{value:-1===j.selectedIndex?"":j[j.selectedIndex].value})})}}static setAttributes({html:q,element:L,storage:w=null,intent:v,linkService:V}){const{attributes:m}=L,X=q instanceof HTMLAnchorElement;"radio"===m.type&&(m.name=`${m.name}-${v}`);for(const[j,H]of Object.entries(m))if(null!=H&&"dataId"!==j)if("style"!==j)if("textContent"===j)q.textContent=H;else if("class"===j)H.length&&q.setAttribute(j,H.join(" "));else{if(X&&("href"===j||"newWindow"===j))continue;q.setAttribute(j,H)}else Object.assign(q.style,H);X&&V.addLinkAttributes(q,m.href,m.newWindow),w&&m.dataId&&this.setupStorage(q,m.dataId,L,w)}static render(q){const L=q.annotationStorage,w=q.linkService,v=q.xfaHtml,V=q.intent||"display",m=document.createElement(v.name);v.attributes&&this.setAttributes({html:m,element:v,intent:V,linkService:w});const X=[[v,-1,m]],j=q.div;if(j.appendChild(m),q.viewport){const g=`matrix(${q.viewport.transform.join(",")})`;j.style.transform=g}"richText"!==V&&j.setAttribute("class","xfaLayer xfaFont");const H=[];for(;X.length>0;){const[g,k,A]=X[X.length-1];if(k+1===g.children.length){X.pop();continue}const T=g.children[++X[X.length-1][1]];if(null===T)continue;const{name:y}=T;if("#text"===y){const t=document.createTextNode(T.value);H.push(t),A.appendChild(t);continue}let S;if(S=T?.attributes?.xmlns?document.createElementNS(T.attributes.xmlns,y):document.createElement(y),A.appendChild(S),T.attributes&&this.setAttributes({html:S,element:T,storage:L,intent:V,linkService:w}),T.children&&T.children.length>0)X.push([T,-1,S]);else if(T.value){const t=document.createTextNode(T.value);i.XfaText.shouldBuildText(y)&&H.push(t),S.appendChild(t)}}for(const g of j.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:H}}static update(q){const L=`matrix(${q.viewport.transform.join(",")})`;q.div.style.transform=L,q.div.hidden=!1}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function A(T){const y=new k({textContent:T.textContent,textContentStream:T.textContentStream,container:T.container,viewport:T.viewport,textDivs:T.textDivs,textContentItemsStr:T.textContentItemsStr,enhanceTextSelection:T.enhanceTextSelection});return y._render(T.timeout),y};var i=P(1);const N=1e5,B=30,q=.8,L=new Map,w=/^\s+$/g;function V(T,y,S,t){const n=document.createElement("span"),u=T._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==y.str,hasEOL:y.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==y.str,hasEOL:y.hasEOL};T._textDivs.push(n);const C=i.Util.transform(T._viewport.transform,y.transform);let h=Math.atan2(C[1],C[0]);const b=S[y.fontName];b.vertical&&(h+=Math.PI/2);const p=Math.hypot(C[2],C[3]),c=p*function v(T,y){const S=L.get(T);if(S)return S;y.save(),y.font=`${B}px ${T}`;const t=y.measureText("");let n=t.fontBoundingBoxAscent,u=Math.abs(t.fontBoundingBoxDescent);if(n){y.restore();const h=n/(n+u);return L.set(T,h),h}y.strokeStyle="red",y.clearRect(0,0,B,B),y.strokeText("g",0,0);let C=y.getImageData(0,0,B,B).data;u=0;for(let h=C.length-1-3;h>=0;h-=4)if(C[h]>0){u=Math.ceil(h/4/B);break}y.clearRect(0,0,B,B),y.strokeText("A",0,B),C=y.getImageData(0,0,B,B).data,n=0;for(let h=0,b=C.length;h<b;h+=4)if(C[h]>0){n=B-Math.floor(h/4/B);break}if(y.restore(),n){const h=n/(n+u);return L.set(T,h),h}return L.set(T,q),q}(b.fontFamily,t);let I,F;0===h?(I=C[4],F=C[5]-c):(I=C[4]+c*Math.sin(h),F=C[5]-c*Math.cos(h)),n.style.left=`${I}px`,n.style.top=`${F}px`,n.style.fontSize=`${p}px`,n.style.fontFamily=b.fontFamily,n.setAttribute("role","presentation"),n.textContent=y.str,n.dir=y.dir,T._fontInspectorEnabled&&(n.dataset.fontName=y.fontName),0!==h&&(u.angle=h*(180/Math.PI));let G=!1;if(y.str.length>1||T._enhanceTextSelection&&w.test(y.str))G=!0;else if(" "!==y.str&&y.transform[0]!==y.transform[3]){const K=Math.abs(y.transform[0]),Z=Math.abs(y.transform[3]);K!==Z&&Math.max(K,Z)/Math.min(K,Z)>1.5&&(G=!0)}if(G&&(u.canvasWidth=b.vertical?y.height*T._viewport.scale:y.width*T._viewport.scale),T._textDivProperties.set(n,u),T._textContentStream&&T._layoutText(n),T._enhanceTextSelection&&u.hasText){let K=1,Z=0;0!==h&&(K=Math.cos(h),Z=Math.sin(h));const ee=(b.vertical?y.height:y.width)*T._viewport.scale,te=p;let ue,ce;0!==h?(ue=[K,Z,-Z,K,I,F],ce=i.Util.getAxialAlignedBoundingBox([0,0,ee,te],ue)):ce=[I,F,I+ee,F+te],T._bounds.push({left:ce[0],top:ce[1],right:ce[2],bottom:ce[3],div:n,size:[ee,te],m:ue})}}function m(T){if(T._canceled)return;const y=T._textDivs,S=T._capability,t=y.length;if(t>N)return T._renderingDone=!0,void S.resolve();if(!T._textContentStream)for(let n=0;n<t;n++)T._layoutText(y[n]);T._renderingDone=!0,S.resolve()}function X(T,y,S){let t=0;for(let n=0;n<S;n++){const u=T[y++];u>0&&(t=t?Math.min(u,t):u)}return t}function g(T,y){y.sort(function(n,u){return n.x1-u.x1||n.index-u.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const n of y){let u=0;for(;u<t.length&&t[u].end<=n.y1;)u++;let C=t.length-1;for(;C>=0&&t[C].start>=n.y2;)C--;let h,b,p,c,I=-1/0;for(p=u;p<=C;p++){let K;h=t[p],b=h.boundary,K=b.x2>n.x1?b.index>n.index?b.x1New:n.x1:void 0===b.x2New?(b.x2+n.x1)/2:b.x2New,K>I&&(I=K)}for(n.x1New=I,p=u;p<=C;p++)h=t[p],b=h.boundary,void 0===b.x2New?b.x2>n.x1?b.index>n.index&&(b.x2New=b.x2):b.x2New=I:b.x2New>I&&(b.x2New=Math.max(I,b.x2));const F=[];let G=null;for(p=u;p<=C;p++){h=t[p],b=h.boundary;const K=b.x2>n.x2?b:n;G===K?F[F.length-1].end=h.end:(F.push({start:h.start,end:h.end,boundary:K}),G=K)}for(t[u].start<n.y1&&(F[0].start=n.y1,F.unshift({start:t[u].start,end:n.y1,boundary:t[u].boundary})),n.y2<t[C].end&&(F[F.length-1].end=n.y2,F.push({start:n.y2,end:t[C].end,boundary:t[C].boundary})),p=u;p<=C;p++){if(h=t[p],b=h.boundary,void 0!==b.x2New)continue;let K=!1;for(c=u-1;!K&&c>=0&&t[c].start>=b.y1;c--)K=t[c].boundary===b;for(c=C+1;!K&&c<t.length&&t[c].end<=b.y2;c++)K=t[c].boundary===b;for(c=0;!K&&c<F.length;c++)K=F[c].boundary===b;K||(b.x2New=I)}Array.prototype.splice.apply(t,[u,C-u+1].concat(F))}for(const n of t){const u=n.boundary;void 0===u.x2New&&(u.x2New=Math.max(T,u.x2))}}class k{constructor({textContent:y,textContentStream:S,container:t,viewport:n,textDivs:u,textContentItemsStr:C,enhanceTextSelection:h}){this._textContent=y,this._textContentStream=S,this._container=t,this._document=t.ownerDocument,this._viewport=n,this._textDivs=u||[],this._textContentItemsStr=C||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(y,S){for(let t=0,n=y.length;t<n;t++)if(void 0!==y[t].str)this._textContentItemsStr.push(y[t].str),V(this,y[t],S,this._layoutTextCtx);else if("beginMarkedContentProps"===y[t].type||"beginMarkedContent"===y[t].type){const u=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==y[t].id&&this._container.setAttribute("id",`${y[t].id}`),u.appendChild(this._container)}else"endMarkedContent"===y[t].type&&(this._container=this._container.parentNode)}_layoutText(y){const S=this._textDivProperties.get(y);let t="";if(0!==S.canvasWidth&&S.hasText){const{fontSize:n,fontFamily:u}=y.style;(n!==this._layoutTextLastFontSize||u!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${n} ${u}`,this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=u);const{width:C}=this._layoutTextCtx.measureText(y.textContent);if(C>0){const h=S.canvasWidth/C;this._enhanceTextSelection&&(S.scale=h),t=`scaleX(${h})`}}if(0!==S.angle&&(t=`rotate(${S.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(S.originalTransform=t),y.style.transform=t),S.hasText&&this._container.appendChild(y),S.hasEOL){const n=document.createElement("br");n.setAttribute("role","presentation"),this._container.appendChild(n)}}_render(y=0){const S=(0,i.createPromiseCapability)();let t=Object.create(null);const n=this._document.createElement("canvas");if(n.height=n.width=B,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),S.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const u=()=>{this._reader.read().then(({value:C,done:h})=>{h?S.resolve():(Object.assign(t,C.styles),this._processItems(C.items,t),u())},S.reject)};this._reader=this._textContentStream.getReader(),u()}}S.promise.then(()=>{t=null,y?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},y):m(this)},this._capability.reject)}expandTextDivs(y=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function j(T){const y=T._bounds,S=T._viewport,t=function H(T,y,S){const t=S.map(function(u,C){return{x1:u.left,y1:u.top,x2:u.right,y2:u.bottom,index:C,x1New:void 0,x2New:void 0}});g(T,t);const n=new Array(S.length);for(const u of t)n[u.index]={left:u.x1New,top:0,right:u.x2New,bottom:0};S.map(function(u,C){const h=n[C],b=t[C];b.x1=u.top,b.y1=T-h.right,b.x2=u.bottom,b.y2=T-h.left,b.index=C,b.x1New=void 0,b.x2New=void 0}),g(y,t);for(const u of t){const C=u.index;n[C].top=u.x1New,n[C].bottom=u.x2New}return n}(S.width,S.height,y);for(let n=0;n<t.length;n++){const u=y[n].div,C=T._textDivProperties.get(u);if(0===C.angle){C.paddingLeft=y[n].left-t[n].left,C.paddingTop=y[n].top-t[n].top,C.paddingRight=t[n].right-y[n].right,C.paddingBottom=t[n].bottom-y[n].bottom,T._textDivProperties.set(u,C);continue}const h=t[n],b=y[n],p=b.m,c=p[0],I=p[1],F=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],G=new Float64Array(64);for(let Z=0,ee=F.length;Z<ee;Z++){const te=i.Util.applyTransform(F[Z],p);G[Z+0]=c&&(h.left-te[0])/c,G[Z+4]=I&&(h.top-te[1])/I,G[Z+8]=c&&(h.right-te[0])/c,G[Z+12]=I&&(h.bottom-te[1])/I,G[Z+16]=I&&(h.left-te[0])/-I,G[Z+20]=c&&(h.top-te[1])/c,G[Z+24]=I&&(h.right-te[0])/-I,G[Z+28]=c&&(h.bottom-te[1])/c,G[Z+32]=c&&(h.left-te[0])/-c,G[Z+36]=I&&(h.top-te[1])/-I,G[Z+40]=c&&(h.right-te[0])/-c,G[Z+44]=I&&(h.bottom-te[1])/-I,G[Z+48]=I&&(h.left-te[0])/I,G[Z+52]=c&&(h.top-te[1])/-c,G[Z+56]=I&&(h.right-te[0])/I,G[Z+60]=c&&(h.bottom-te[1])/-c}const K=1+Math.min(Math.abs(c),Math.abs(I));C.paddingLeft=X(G,32,16)/K,C.paddingTop=X(G,48,16)/K,C.paddingRight=X(G,0,16)/K,C.paddingBottom=X(G,16,16)/K,T._textDivProperties.set(u,C)}}(this),this._bounds=null);const S=[],t=[];for(let n=0,u=this._textDivs.length;n<u;n++){const C=this._textDivs[n],h=this._textDivProperties.get(C);h.hasText&&(y?(S.length=0,t.length=0,h.originalTransform&&S.push(h.originalTransform),h.paddingTop>0?(t.push(`${h.paddingTop}px`),S.push(`translateY(${-h.paddingTop}px)`)):t.push(0),t.push(h.paddingRight>0?h.paddingRight/h.scale+"px":0),t.push(h.paddingBottom>0?`${h.paddingBottom}px`:0),h.paddingLeft>0?(t.push(h.paddingLeft/h.scale+"px"),S.push(`translateX(${-h.paddingLeft/h.scale}px)`)):t.push(0),C.style.padding=t.join(" "),S.length&&(C.style.transform=S.join(" "))):(C.style.padding=null,C.style.transform=h.originalTransform))}}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var i=P(1),N=P(5),B=P(3);let q=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=q;{let g=function(t){let n=[];const u=[];for(const C of t)"save"!==C.fn?"restore"===C.fn?n=u.pop():n.push(C):(n.push({fnId:92,fn:"group",items:[]}),u.push(n),n=n[n.length-1].items);return n},k=function(t){if(Number.isInteger(t))return t.toString();const n=t.toFixed(10);let u=n.length-1;if("0"!==n[u])return n;do{u--}while("0"===n[u]);return n.substring(0,"."===n[u]?u:u+1)},A=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${k(t[0])} ${k(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const n=180*Math.acos(t[0])/Math.PI;return`rotate(${k(n)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${k(t[4])} ${k(t[5])})`;return`matrix(${k(t[0])} ${k(t[1])} ${k(t[2])} ${k(t[3])} ${k(t[4])} ${k(t[5])})`};const L={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},w="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/1999/xlink",V=["butt","round","square"],m=["miter","round","bevel"],X=function(t,n="",u=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!u)return URL.createObjectURL(new Blob([t],{type:n}));const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let h=`data:${n};base64,`;for(let b=0,p=t.length;b<p;b+=3){const c=255&t[b],I=255&t[b+1],F=255&t[b+2];h+=C[c>>2]+C[(3&c)<<4|I>>4]+C[b+1<p?(15&I)<<2|F>>6:64]+C[b+2<p?63&F:64]}return h},j=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),n=12,u=new Int32Array(256);for(let F=0;F<256;F++){let G=F;for(let K=0;K<8;K++)G=1&G?3988292384^G>>1&2147483647:G>>1&2147483647;u[F]=G}function h(F,G,K,Z){let ee=Z;const te=G.length;K[ee]=te>>24&255,K[ee+1]=te>>16&255,K[ee+2]=te>>8&255,K[ee+3]=255&te,ee+=4,K[ee]=255&F.charCodeAt(0),K[ee+1]=255&F.charCodeAt(1),K[ee+2]=255&F.charCodeAt(2),K[ee+3]=255&F.charCodeAt(3),ee+=4,K.set(G,ee),ee+=G.length;const ue=function C(F,G,K){let Z=-1;for(let ee=G;ee<K;ee++)Z=Z>>>8^u[255&(Z^F[ee])];return-1^Z}(K,Z+4,ee);K[ee]=ue>>24&255,K[ee+1]=ue>>16&255,K[ee+2]=ue>>8&255,K[ee+3]=255&ue}function c(F){let G=F.length;const K=65535,Z=Math.ceil(G/K),ee=new Uint8Array(2+G+5*Z+4);let te=0;ee[te++]=120,ee[te++]=156;let ue=0;for(;G>K;)ee[te++]=0,ee[te++]=255,ee[te++]=255,ee[te++]=0,ee[te++]=0,ee.set(F.subarray(ue,ue+K),te),te+=K,ue+=K,G-=K;ee[te++]=1,ee[te++]=255&G,ee[te++]=G>>8&255,ee[te++]=255&~G,ee[te++]=(65535&~G)>>8&255,ee.set(F.subarray(ue),te),te+=F.length-ue;const ce=function b(F,G,K){let Z=1,ee=0;for(let te=G;te<K;++te)Z=(Z+(255&F[te]))%65521,ee=(ee+Z)%65521;return ee<<16|Z}(F,0,F.length);return ee[te++]=ce>>24&255,ee[te++]=ce>>16&255,ee[te++]=ce>>8&255,ee[te++]=255&ce,ee}return function(G,K,Z){return function I(F,G,K,Z){const ee=F.width,te=F.height;let ue,ce,R;const s=F.data;switch(G){case i.ImageKind.GRAYSCALE_1BPP:ce=0,ue=1,R=ee+7>>3;break;case i.ImageKind.RGB_24BPP:ce=2,ue=8,R=3*ee;break;case i.ImageKind.RGBA_32BPP:ce=6,ue=8,R=4*ee;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+R)*te);let r=0,o=0;for(let U=0;U<te;++U)e[r++]=0,e.set(s.subarray(o,o+R),r),o+=R,r+=R;if(G===i.ImageKind.GRAYSCALE_1BPP&&Z){r=0;for(let U=0;U<te;U++){r++;for(let Q=0;Q<R;Q++)e[r++]^=255}}const d=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,255&ee,te>>24&255,te>>16&255,te>>8&255,255&te,ue,ce,0,0,0]),f=function p(F){if(!B.isNodeJS)return c(F);try{let G;G=parseInt(process.versions.node)>=8?F:Buffer.from(F);const K=__webpack_require__(2258).deflateSync(G,{level:9});return K instanceof Uint8Array?K:new Uint8Array(K)}catch(G){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+G)}return c(F)}(e),O=new Uint8Array(t.length+3*n+d.length+f.length);let Y=0;return O.set(t,Y),Y+=t.length,h("IHDR",d,O,Y),Y+=n+d.length,h("IDATA",f,O,Y),Y+=n+f.length,h("IEND",new Uint8Array(0),O,Y),X(O,"image/png",K)}(G,void 0===G.kind?i.ImageKind.GRAYSCALE_1BPP:G.kind,K,Z)}}();class H{constructor(){this.fontSizeScale=1,this.fontWeight=L.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=L.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,u){this.x=n,this.y=u}}let T=0,y=0,S=0;a.SVGGraphics=q=class{constructor(t,n,u=!1){this.svgFactory=new N.DOMSVGFactory,this.current=new H,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!u,this._operatorIdMapping=[];for(const C in i.OPS)this._operatorIdMapping[i.OPS[C]]=C}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const n=t.fnArray,u=t.argsArray;for(let C=0,h=n.length;C<h;C++)if(n[C]===i.OPS.dependency)for(const b of u[C]){const p=b.startsWith("g_")?this.commonObjs:this.objs,c=new Promise(I=>{p.get(b,I)});this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)}transform(t,n,u,C,h,b){this.transformMatrix=i.Util.transform(this.transformMatrix,[t,n,u,C,h,b]),this.tgrp=null}getSVG(t,n){this.viewport=n;const u=this._initialize(n);return this.loadDependencies(t).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),u))}convertOpList(t){const n=this._operatorIdMapping,u=t.argsArray,C=t.fnArray,h=[];for(let b=0,p=C.length;b<p;b++){const c=C[b];h.push({fnId:c,fn:n[c],args:u[b]})}return g(h)}executeOpTree(t){for(const n of t){const u=n.fn,h=n.args;switch(0|n.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(h);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(h[0],h[1]);break;case i.OPS.setFont:this.setFont(h);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(h[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(h[0],h[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(h[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(h[0]);break;case i.OPS.setHScale:this.setHScale(h[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]);break;case i.OPS.setTextRise:this.setTextRise(h[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(h[0]);break;case i.OPS.setLineWidth:this.setLineWidth(h[0]);break;case i.OPS.setLineJoin:this.setLineJoin(h[0]);break;case i.OPS.setLineCap:this.setLineCap(h[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(h[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(h[0],h[1],h[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(h[0],h[1],h[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(h);break;case i.OPS.setFillColorN:this.setFillColorN(h);break;case i.OPS.shadingFill:this.shadingFill(h[0]);break;case i.OPS.setDash:this.setDash(h[0],h[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(h[0]);break;case i.OPS.setFlatness:this.setFlatness(h[0]);break;case i.OPS.setGState:this.setGState(h[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(h[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(h[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(h[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(h[0],h[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(h[0],h[1],h[2],h[3],h[4],h[5]);break;case i.OPS.constructPath:this.constructPath(h[0],h[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,i.warn)(`Unimplemented operator ${u}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,n,u,C,h,b){const p=this.current;p.textMatrix=p.lineMatrix=[t,n,u,C,h,b],p.textMatrixScale=Math.hypot(t,n),p.x=p.lineX=0,p.y=p.lineY=0,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${k(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",k(-p.y)),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtElement.appendChild(p.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,n){const u=this.current;u.x=u.lineX+=t,u.y=u.lineY+=n,u.xcoords=[],u.ycoords=[],u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${k(u.fontSize)}px`),u.tspan.setAttributeNS(null,"y",k(-u.y))}showText(t){const n=this.current,u=n.font,C=n.fontSize;if(0===C)return;const h=n.fontSizeScale,b=n.charSpacing,p=n.wordSpacing,c=n.fontDirection,I=n.textHScale*c,F=u.vertical,G=F?1:-1,K=u.defaultVMetrics,Z=C*n.fontMatrix[0];let ee=0;for(const ce of t){if(null===ce){ee+=c*p;continue}if("number"==typeof ce){ee+=G*ce*C/1e3;continue}const R=(ce.isSpace?p:0)+b,s=ce.fontChar;let e,r,d,o=ce.width;if(F){let f;const l=ce.vmetric||K;f=ce.vmetric?l[1]:.5*o,f=-f*Z,o=l?-l[0]:o,e=f/h,r=(ee+l[2]*Z)/h}else e=ee/h,r=0;(ce.isInFont||u.missingFile)&&(n.xcoords.push(n.x+e),F&&n.ycoords.push(-n.y+r),n.tspan.textContent+=s),d=F?o*Z-R*c:o*Z+R*c,ee+=d}n.tspan.setAttributeNS(null,"x",n.xcoords.map(k).join(" ")),n.tspan.setAttributeNS(null,"y",F?n.ycoords.map(k).join(" "):k(-n.y)),F?n.y-=ee:n.x+=ee*I,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${k(n.fontSize)}px`),n.fontStyle!==L.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==L.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const te=n.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;te===i.TextRenderingMode.FILL||te===i.TextRenderingMode.FILL_STROKE?(n.fillColor!==L.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(te===i.TextRenderingMode.STROKE||te===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let ue=n.textMatrix;0!==n.textRise&&(ue=ue.slice(),ue[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${A(ue)} scale(${k(I)}, -1)`),n.txtElement.setAttributeNS(w,"xml:space","preserve"),n.txtElement.appendChild(n.tspan),n.txtgrp.appendChild(n.txtElement),this._ensureTransformGroup().appendChild(n.txtElement)}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const n=X(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${n}); }\n`}setFont(t){const n=this.current,u=this.commonObjs.get(t[0]);let C=t[1];n.font=u,this.embedFonts&&!u.missingFile&&!this.embeddedFonts[u.loadedName]&&(this.addFontStyle(u),this.embeddedFonts[u.loadedName]=u),n.fontMatrix=u.fontMatrix||i.FONT_IDENTITY_MATRIX;let h="normal";u.black?h="900":u.bold&&(h="bold");const b=u.italic?"italic":"normal";C<0?(C=-C,n.fontDirection=-1):n.fontDirection=1,n.fontSize=C,n.fontFamily=u.loadedName,n.fontWeight=h,n.fontStyle=b,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",k(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=V[t]}setLineJoin(t){this.current.lineJoin=m[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,n,u){this.current.strokeColor=i.Util.makeHexColor(t,n,u)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,n,u){this.current.fillColor=i.Util.makeHexColor(t,n,u),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const n=this.viewport.width,u=this.viewport.height,C=i.Util.inverseTransform(this.transformMatrix),h=i.Util.applyTransform([0,0],C),b=i.Util.applyTransform([0,u],C),p=i.Util.applyTransform([n,0],C),c=i.Util.applyTransform([n,u],C),I=Math.min(h[0],b[0],p[0],c[0]),F=Math.min(h[1],b[1],p[1],c[1]),G=Math.max(h[0],b[0],p[0],c[0]),K=Math.max(h[1],b[1],p[1],c[1]),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x",I),Z.setAttributeNS(null,"y",F),Z.setAttributeNS(null,"width",G-I),Z.setAttributeNS(null,"height",K-F),Z.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&Z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Z)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const n=t[1],u=t[2],C=t[3]||i.IDENTITY_MATRIX,[h,b,p,c]=t[4],I=t[5],F=t[6],G=t[7],K="shading"+S++,[Z,ee,te,ue]=i.Util.normalizeRect([...i.Util.applyTransform([h,b],C),...i.Util.applyTransform([p,c],C)]),[ce,R]=i.Util.singularValueDecompose2dScale(C),s=I*ce,e=F*R,r=this.svgFactory.createElement("svg:pattern");r.setAttributeNS(null,"id",K),r.setAttributeNS(null,"patternUnits","userSpaceOnUse"),r.setAttributeNS(null,"width",s),r.setAttributeNS(null,"height",e),r.setAttributeNS(null,"x",`${Z}`),r.setAttributeNS(null,"y",`${ee}`);const o=this.svg,d=this.transformMatrix,f=this.current.fillColor,l=this.current.strokeColor,O=this.svgFactory.create(te-Z,ue-ee);if(this.svg=O,this.transformMatrix=C,2===G){const Y=i.Util.makeHexColor(...n);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(u)),this.svg=o,this.transformMatrix=d,this.current.fillColor=f,this.current.strokeColor=l,r.appendChild(O.childNodes[0]),this.defs.appendChild(r),`url(#${K})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const n="shading"+S++,u=t[3];let C;switch(t[1]){case"axial":const h=t[4],b=t[5];C=this.svgFactory.createElement("svg:linearGradient"),C.setAttributeNS(null,"id",n),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"x1",h[0]),C.setAttributeNS(null,"y1",h[1]),C.setAttributeNS(null,"x2",b[0]),C.setAttributeNS(null,"y2",b[1]);break;case"radial":const p=t[4],c=t[5],I=t[6],F=t[7];C=this.svgFactory.createElement("svg:radialGradient"),C.setAttributeNS(null,"id",n),C.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),C.setAttributeNS(null,"cx",c[0]),C.setAttributeNS(null,"cy",c[1]),C.setAttributeNS(null,"r",F),C.setAttributeNS(null,"fx",p[0]),C.setAttributeNS(null,"fy",p[1]),C.setAttributeNS(null,"fr",I);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const h of u){const b=this.svgFactory.createElement("svg:stop");b.setAttributeNS(null,"offset",h[0]),b.setAttributeNS(null,"stop-color",h[1]),C.appendChild(b)}return this.defs.appendChild(C),`url(#${n})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,n){this.current.dashArray=t,this.current.dashPhase=n}constructPath(t,n){const u=this.current;let C=u.x,h=u.y,b=[],p=0;for(const c of t)switch(0|c){case i.OPS.rectangle:C=n[p++],h=n[p++];const G=C+n[p++],K=h+n[p++];b.push("M",k(C),k(h),"L",k(G),k(h),"L",k(G),k(K),"L",k(C),k(K),"Z");break;case i.OPS.moveTo:C=n[p++],h=n[p++],b.push("M",k(C),k(h));break;case i.OPS.lineTo:C=n[p++],h=n[p++],b.push("L",k(C),k(h));break;case i.OPS.curveTo:C=n[p+4],h=n[p+5],b.push("C",k(n[p]),k(n[p+1]),k(n[p+2]),k(n[p+3]),k(C),k(h)),p+=6;break;case i.OPS.curveTo2:b.push("C",k(C),k(h),k(n[p]),k(n[p+1]),k(n[p+2]),k(n[p+3])),C=n[p+2],h=n[p+3],p+=4;break;case i.OPS.curveTo3:C=n[p+2],h=n[p+3],b.push("C",k(n[p]),k(n[p+1]),k(C),k(h),k(C),k(h)),p+=4;break;case i.OPS.closePath:b.push("Z")}b=b.join(" "),u.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?b=u.path.getAttributeNS(null,"d")+b:(u.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(u.path)),u.path.setAttributeNS(null,"d",b),u.path.setAttributeNS(null,"fill","none"),u.element=u.path,u.setCurrentPoint(C,h)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const n="clippath"+T++,u=this.svgFactory.createElement("svg:clipPath");u.setAttributeNS(null,"id",n),u.setAttributeNS(null,"transform",A(this.transformMatrix));const C=t.element.cloneNode(!0);if(C.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,u.appendChild(C),this.defs.appendChild(u),t.activeClipUrl){t.clipGroup=null;for(const h of this.extraStack)h.clipGroup=null;u.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const n=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",n)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,u]of t)switch(n){case"LW":this.setLineWidth(u);break;case"LC":this.setLineCap(u);break;case"LJ":this.setLineJoin(u);break;case"ML":this.setMiterLimit(u);break;case"D":this.setDash(u[0],u[1]);break;case"RI":this.setRenderingIntent(u);break;case"FL":this.setFlatness(u);break;case"Font":this.setFont(u);break;case"CA":this.setStrokeAlpha(u);break;case"ca":this.setFillAlpha(u);break;default:(0,i.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,n=1){const u=this.current;let C=u.dashArray;1!==n&&C.length>0&&(C=C.map(function(h){return n*h})),t.setAttributeNS(null,"stroke",u.strokeColor),t.setAttributeNS(null,"stroke-opacity",u.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",k(u.miterLimit)),t.setAttributeNS(null,"stroke-linecap",u.lineCap),t.setAttributeNS(null,"stroke-linejoin",u.lineJoin),t.setAttributeNS(null,"stroke-width",k(n*u.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",C.map(k).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",k(n*u.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const n=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);n?this.paintInlineImageXObject(n):(0,i.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,n){const u=t.width,C=t.height,h=j(t,this.forceDataSchema,!!n),b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width",k(u)),b.setAttributeNS(null,"height",k(C)),this.current.element=b,this.clip("nonzero");const p=this.svgFactory.createElement("svg:image");p.setAttributeNS(v,"xlink:href",h),p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y",k(-C)),p.setAttributeNS(null,"width",k(u)+"px"),p.setAttributeNS(null,"height",k(C)+"px"),p.setAttributeNS(null,"transform",`scale(${k(1/u)} ${k(-1/C)})`),n?n.appendChild(p):this._ensureTransformGroup().appendChild(p)}paintImageMaskXObject(t){const n=this.current,u=t.width,C=t.height,h=n.fillColor;n.maskId="mask"+y++;const b=this.svgFactory.createElement("svg:mask");b.setAttributeNS(null,"id",n.maskId);const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width",k(u)),p.setAttributeNS(null,"height",k(C)),p.setAttributeNS(null,"fill",h),p.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.appendChild(b),this._ensureTransformGroup().appendChild(p),this.paintInlineImageXObject(t,b)}paintFormXObjectBegin(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),n){const u=n[2]-n[0],C=n[3]-n[1],h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",n[0]),h.setAttributeNS(null,"y",n[1]),h.setAttributeNS(null,"width",k(u)),h.setAttributeNS(null,"height",k(C)),this.current.element=h,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const n=this.svgFactory.create(t.width,t.height),u=this.svgFactory.createElement("svg:defs");n.appendChild(u),this.defs=u;const C=this.svgFactory.createElement("svg:g");return C.setAttributeNS(null,"transform",A(t.transform)),n.appendChild(C),this.svg=C,n}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var i=P(1),N=P(26);const B=__webpack_require__(172),q=__webpack_require__(2001),L=__webpack_require__(3779),w=__webpack_require__(6558),v=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class m{constructor(S){this.source=S,this.url=function V(y){const S=w.parse(y);return"file:"===S.protocol||S.host?S:/^[a-z]:[/\\]/i.test(y)?w.parse(`file:///${y}`):(S.host||(S.protocol="file:"),S)}(S.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&S.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A(this):new g(this),this._fullRequestReader}getRangeReader(S,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new T(this,S,t):new k(this,S,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(S){this._fullRequestReader&&this._fullRequestReader.cancel(S);for(const t of this._rangeRequestReaders.slice(0))t.cancel(S)}};class X{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=S.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const t=S._readableStream.read();return null===t?(S._readCapability=(0,i.createPromiseCapability)(),S.read()):(S._loaded+=t.length,S.onProgress&&S.onProgress({loaded:S._loaded,total:S._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(S){this._url=S.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!S.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var S=this;return _asyncToGenerator(function*(){if(yield S._readCapability.promise,S._done)return{value:void 0,done:!0};if(S._storedError)throw S._storedError;const t=S._readableStream.read();return null===t?(S._readCapability=(0,i.createPromiseCapability)(),S.read()):(S._loaded+=t.length,S.onProgress&&S.onProgress({loaded:S._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(S){this._readableStream?this._readableStream.destroy(S):this._error(S)}_error(S){this._storedError=S,this._readCapability.resolve()}_setReadableStream(S){this._readableStream=S,S.on("readable",()=>{this._readCapability.resolve()}),S.on("end",()=>{S.destroy(),this._done=!0,this._readCapability.resolve()}),S.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function H(y,S){return{protocol:y.protocol,auth:y.auth,host:y.hostname,port:y.port,path:y.path,method:"GET",headers:S}}class g extends X{constructor(S){super(S);const t=n=>{if(404===n.statusCode){const b=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=b,void this._headersCapability.reject(b)}this._headersCapability.resolve(),this._setReadableStream(n);const u=b=>this._readableStream.headers[b.toLowerCase()],{allowRangeRequests:C,suggestedLength:h}=(0,N.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:S.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=h||this._contentLength,this._filename=(0,N.extractFilenameFromHeader)(u)};this._request=null,this._request="http:"===this._url.protocol?q.request(H(this._url,S.httpHeaders),t):L.request(H(this._url,S.httpHeaders),t),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class k extends j{constructor(S,t,n){super(S),this._httpHeaders={};for(const C in S.httpHeaders){const h=S.httpHeaders[C];typeof h>"u"||(this._httpHeaders[C]=h)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const u=C=>{if(404!==C.statusCode)this._setReadableStream(C);else{const h=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=h}};this._request=null,this._request="http:"===this._url.protocol?q.request(H(this._url,this._httpHeaders),u):L.request(H(this._url,this._httpHeaders),u),this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class A extends X{constructor(S){super(S);let t=decodeURIComponent(this._url.path);v.test(this._url.href)&&(t=t.replace(/^\//,"")),B.lstat(t,(n,u)=>{if(n)return"ENOENT"===n.code&&(n=new i.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=u.size,this._setReadableStream(B.createReadStream(t)),this._headersCapability.resolve()})}}class T extends j{constructor(S,t,n){super(S);let u=decodeURIComponent(this._url.path);v.test(this._url.href)&&(u=u.replace(/^\//,"")),this._setReadableStream(B.createReadStream(u,{start:t,end:n-1}))}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function w(V,m){return 404===V||0===V&&m.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+m+'".'):new i.UnexpectedResponseException(`Unexpected server response (${V}) while retrieving PDF "${m}".`,V)},a.extractFilenameFromHeader=function L(V){const m=V("Content-Disposition");if(m){let X=(0,N.getFilenameFromContentDispositionHeader)(m);if(X.includes("%"))try{X=decodeURIComponent(X)}catch{}if((0,B.isPdfFile)(X))return X}return null},a.validateRangeRequestCapabilities=function q({getResponseHeader:V,isHttp:m,rangeChunkSize:X,disableRange:j}){const H={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(V("Content-Length"),10);return!Number.isInteger(g)||(H.suggestedLength=g,g<=2*X)||j||!m||"bytes"!==V("Accept-Ranges")||"identity"!==(V("Content-Encoding")||"identity")||(H.allowRangeRequests=!0),H},a.validateResponseStatus=function v(V){return 200===V||206===V};var i=P(1),N=P(27),B=P(5)},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function N(B){let q=!0,L=w("filename\\*","i").exec(B);if(L){L=L[1];let g=X(L);return g=unescape(g),g=j(g),g=H(g),V(g)}if(L=function m(g){const k=[];let A;const T=w("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(A=T.exec(g));){let[,S,t,n]=A;if(S=parseInt(S,10),S in k){if(0===S)break}else k[S]=[t,n]}const y=[];for(let S=0;S<k.length&&S in k;++S){let[t,n]=k[S];n=X(n),t&&(n=unescape(n),0===S&&(n=j(n))),y.push(n)}return y.join("")}(B),L)return V(H(L));if(L=w("filename","i").exec(B),L){L=L[1];let g=X(L);return g=H(g),V(g)}function w(g,k){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',k)}function v(g,k){if(g){if(!/^[\x00-\xFF]+$/.test(k))return k;try{const A=new TextDecoder(g,{fatal:!0}),T=(0,i.stringToBytes)(k);k=A.decode(T),q=!1}catch{}}return k}function V(g){return q&&/[\x80-\xff]/.test(g)&&(g=v("utf-8",g),q&&(g=v("iso-8859-1",g))),g}function X(g){if(g.startsWith('"')){const k=g.slice(1).split('\\"');for(let A=0;A<k.length;++A){const T=k[A].indexOf('"');-1!==T&&(k[A]=k[A].slice(0,T),k.length=A+1),k[A]=k[A].replace(/\\(.)/g,"$1")}g=k.join('"')}return g}function j(g){const k=g.indexOf("'");return-1===k?g:v(g.slice(0,k),g.slice(k+1).replace(/^[^']*'/,""))}function H(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(k,A,T,y){if("q"===T||"Q"===T)return v(A,y=(y=y.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(S,t){return String.fromCharCode(parseInt(t,16))}));try{y=atob(y)}catch{}return v(A,y)})}return""};var i=P(1)},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var i=P(1),N=P(26);class w{constructor(j,H={}){this.url=j,this.isHttp=/^https?:/i.test(j),this.httpHeaders=this.isHttp&&H.httpHeaders||Object.create(null),this.withCredentials=H.withCredentials||!1,this.getXhr=H.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(j,H,g){const k={begin:j,end:H};for(const A in g)k[A]=g[A];return this.request(k)}requestFull(j){return this.request(j)}request(j){const H=this.getXhr(),g=this.currXhrId++,k=this.pendingRequests[g]={xhr:H};H.open("GET",this.url),H.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const T=this.httpHeaders[A];typeof T>"u"||H.setRequestHeader(A,T)}return this.isHttp&&"begin"in j&&"end"in j?(H.setRequestHeader("Range",`bytes=${j.begin}-${j.end-1}`),k.expectedStatus=206):k.expectedStatus=200,H.responseType="arraybuffer",j.onError&&(H.onerror=function(A){j.onError(H.status)}),H.onreadystatechange=this.onStateChange.bind(this,g),H.onprogress=this.onProgress.bind(this,g),k.onHeadersReceived=j.onHeadersReceived,k.onDone=j.onDone,k.onError=j.onError,k.onProgress=j.onProgress,H.send(null),g}onProgress(j,H){const g=this.pendingRequests[j];g&&g.onProgress?.(H)}onStateChange(j,H){const g=this.pendingRequests[j];if(!g)return;const k=g.xhr;if(k.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==k.readyState||!(j in this.pendingRequests))return;if(delete this.pendingRequests[j],0===k.status&&this.isHttp)return void g.onError?.(k.status);const A=k.status||200;if((200!==A||206!==g.expectedStatus)&&A!==g.expectedStatus)return void g.onError?.(k.status);const y=function L(X){const j=X.response;return"string"!=typeof j?j:(0,i.stringToBytes)(j).buffer}(k);if(206===A){const S=k.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);g.onDone({begin:parseInt(t[1],10),chunk:y})}else y?g.onDone({begin:0,chunk:y}):g.onError?.(k.status)}getRequestXhr(j){return this.pendingRequests[j].xhr}isPendingRequest(j){return j in this.pendingRequests}abortRequest(j){const H=this.pendingRequests[j].xhr;delete this.pendingRequests[j],H.abort()}}a.PDFNetworkStream=class v{constructor(j){this._source=j,this._manager=new w(j.url,{httpHeaders:j.httpHeaders,withCredentials:j.withCredentials}),this._rangeChunkSize=j.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(j){const H=this._rangeRequestReaders.indexOf(j);H>=0&&this._rangeRequestReaders.splice(H,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new V(this._manager,this._source),this._fullRequestReader}getRangeReader(j,H){const g=new m(this._manager,j,H);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(j){this._fullRequestReader?.cancel(j);for(const H of this._rangeRequestReaders.slice(0))H.cancel(j)}};class V{constructor(j,H){this._manager=j;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=H.url,this._fullRequestId=j.requestFull(g),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=H.disableRange||!1,this._contentLength=H.length,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const j=this._fullRequestId,H=this._manager.getRequestXhr(j),g=T=>H.getResponseHeader(T),{allowRangeRequests:k,suggestedLength:A}=(0,N.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});k&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,N.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(j),this._headersReceivedCapability.resolve()}_onDone(j){if(j&&(this._requests.length>0?this._requests.shift().resolve({value:j.chunk,done:!1}):this._cachedChunks.push(j.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(j){this._storedError=(0,N.createResponseStatusError)(j,this._url),this._headersReceivedCapability.reject(this._storedError);for(const H of this._requests)H.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(j){this.onProgress?.({loaded:j.loaded,total:j.lengthComputable?j.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var j=this;return _asyncToGenerator(function*(){if(j._storedError)throw j._storedError;if(j._cachedChunks.length>0)return{value:j._cachedChunks.shift(),done:!1};if(j._done)return{value:void 0,done:!0};const H=(0,i.createPromiseCapability)();return j._requests.push(H),H.promise})()}cancel(j){this._done=!0,this._headersReceivedCapability.reject(j);for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(j,H,g){this._manager=j;const k={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._requestId=j.requestRange(H,g,k),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(j){const H=j.chunk;this._requests.length>0?this._requests.shift().resolve({value:H,done:!1}):this._queuedChunk=H,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(j){this._storedError=(0,N.createResponseStatusError)(j,this._url);for(const H of this._requests)H.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(j){this.isStreamingSupported||this.onProgress?.({loaded:j.loaded})}get isStreamingSupported(){return!1}read(){var j=this;return _asyncToGenerator(function*(){if(j._storedError)throw j._storedError;if(null!==j._queuedChunk){const g=j._queuedChunk;return j._queuedChunk=null,{value:g,done:!1}}if(j._done)return{value:void 0,done:!0};const H=(0,i.createPromiseCapability)();return j._requests.push(H),H.promise})()}cancel(j){this._done=!0;for(const H of this._requests)H.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(z,a,P)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var i=P(1),N=P(26);function B(V,m,X){return{method:"GET",headers:V,signal:X?.signal,mode:"cors",credentials:m?"include":"same-origin",redirect:"follow"}}function q(V){const m=new Headers;for(const X in V){const j=V[X];typeof j>"u"||m.append(X,j)}return m}a.PDFFetchStream=class L{constructor(m){this.source=m,this.isHttp=/^https?:/i.test(m.url),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new w(this),this._fullRequestReader}getRangeReader(m,X){if(X<=this._progressiveDataLength)return null;const j=new v(this,m,X);return this._rangeRequestReaders.push(j),j}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const X of this._rangeRequestReaders.slice(0))X.cancel(m)}};class w{constructor(m){this._stream=m,this._reader=null,this._loaded=0,this._filename=null;const X=m.source;this._withCredentials=X.withCredentials||!1,this._contentLength=X.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=X.disableRange||!1,this._rangeChunkSize=X.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!X.disableStream,this._isRangeSupported=!X.disableRange,this._headers=q(this._stream.httpHeaders);const j=X.url;fetch(j,B(this._headers,this._withCredentials,this._abortController)).then(H=>{if(!(0,N.validateResponseStatus)(H.status))throw(0,N.createResponseStatusError)(H.status,j);this._reader=H.body.getReader(),this._headersCapability.resolve();const g=T=>H.headers.get(T),{allowRangeRequests:k,suggestedLength:A}=(0,N.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=A||this._contentLength,this._filename=(0,N.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._headersCapability.promise;const{value:X,done:j}=yield m._reader.read();return j?{value:X,done:j}:(m._loaded+=X.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(X).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}class v{constructor(m,X,j){this._stream=m,this._reader=null,this._loaded=0;const H=m.source;this._withCredentials=H.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!H.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${X}-${j-1}`);const g=H.url;fetch(g,B(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,N.validateResponseStatus)(k.status))throw(0,N.createResponseStatusError)(k.status,g);this._readCapability.resolve(),this._reader=k.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){yield m._readCapability.promise;const{value:X,done:j}=yield m._reader.read();return j?{value:X,done:j}:(m._loaded+=X.byteLength,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(X).buffer,done:!1})})()}cancel(m){this._reader&&this._reader.cancel(m),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(z){var a=__webpack_module_cache__[z];if(void 0!==a)return a.exports;var P=__webpack_module_cache__[z]={exports:{}};return __webpack_modules__[z](P,P.exports,__w_pdfjs_require__),P.exports}var __webpack_exports__={};return(()=>{var z=__webpack_exports__;Object.defineProperty(z,"__esModule",{value:!0}),Object.defineProperty(z,"AnnotationLayer",{enumerable:!0,get:function(){return N.AnnotationLayer}}),Object.defineProperty(z,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(z,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(z,"GlobalWorkerOptions",{enumerable:!0,get:function(){return B.GlobalWorkerOptions}}),Object.defineProperty(z,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(z,"LoopbackPort",{enumerable:!0,get:function(){return P.LoopbackPort}}),Object.defineProperty(z,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(z,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(z,"PDFDataRangeTransport",{enumerable:!0,get:function(){return P.PDFDataRangeTransport}}),Object.defineProperty(z,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(z,"PDFWorker",{enumerable:!0,get:function(){return P.PDFWorker}}),Object.defineProperty(z,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(z,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(z,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(z,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(z,"SVGGraphics",{enumerable:!0,get:function(){return w.SVGGraphics}}),Object.defineProperty(z,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(z,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(z,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(z,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(z,"XfaLayer",{enumerable:!0,get:function(){return v.XfaLayer}}),Object.defineProperty(z,"build",{enumerable:!0,get:function(){return P.build}}),Object.defineProperty(z,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(z,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(z,"getDocument",{enumerable:!0,get:function(){return P.getDocument}}),Object.defineProperty(z,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(z,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(z,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(z,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(z,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(z,"renderTextLayer",{enumerable:!0,get:function(){return L.renderTextLayer}}),Object.defineProperty(z,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(z,"version",{enumerable:!0,get:function(){return P.version}});var a=__w_pdfjs_require__(1),P=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),N=__w_pdfjs_require__(20),B=__w_pdfjs_require__(13),q=__w_pdfjs_require__(3),L=__w_pdfjs_require__(23),w=__w_pdfjs_require__(24),v=__w_pdfjs_require__(22);if(q.isNodeJS){const{PDFNodeStream:X}=__w_pdfjs_require__(25);(0,P.setPDFNetworkStreamFactory)(j=>new X(j))}else{const{PDFNetworkStream:X}=__w_pdfjs_require__(28),{PDFFetchStream:j}=__w_pdfjs_require__(29);(0,P.setPDFNetworkStreamFactory)(H=>(0,i.isValidFetchUrl)(H.url)?new j(H):new X(H))}})(),__webpack_exports__})(),module.exports=P()},2813:function(z,a,P){var X,i=P(5661).default,N=P(1860).default,B=P(9159).default,q=P(5764).default,L=P(4467).default,w=P(468).default,v=P(7156).default;X=()=>(()=>{"use strict";var V=[,(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultXfaLayerFactory=g.DefaultTextLayerFactory=g.DefaultStructTreeLayerFactory=g.DefaultAnnotationLayerFactory=void 0;var A=k(2),T=k(4),y=k(5),S=k(7),t=k(8),n=k(9);g.DefaultAnnotationLayerFactory=class u{createAnnotationLayerBuilder(c,I,F=null,G="",K=!0,Z=T.NullL10n,ee=!1,te=null,ue=null,ce=null,R=null){return new A.AnnotationLayerBuilder({pageDiv:c,pdfPage:I,imageResourcesPath:G,renderForms:K,linkService:new y.SimpleLinkService,l10n:Z,annotationStorage:F,enableScripting:ee,hasJSActionsPromise:te,fieldObjectsPromise:ce,mouseState:ue,annotationCanvasMap:R})}},g.DefaultStructTreeLayerFactory=class C{createStructTreeLayerBuilder(c){return new S.StructTreeLayerBuilder({pdfPage:c})}},g.DefaultTextLayerFactory=class h{createTextLayerBuilder(c,I,F,G=!1,K,Z){return new t.TextLayerBuilder({textLayerDiv:c,pageIndex:I,viewport:F,enhanceTextSelection:G,eventBus:K,highlighter:Z})}},g.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(c,I,F=null,G=null){return new n.XfaLayerBuilder({pageDiv:c,pdfPage:I,annotationStorage:F,linkService:new y.SimpleLinkService,xfaHtml:G})}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayerBuilder=void 0;var A=k(3),T=k(4);g.AnnotationLayerBuilder=class y{constructor({pageDiv:t,pdfPage:n,linkService:u,downloadManager:C,annotationStorage:h=null,imageResourcesPath:b="",renderForms:p=!0,l10n:c=T.NullL10n,enableScripting:I=!1,hasJSActionsPromise:F=null,fieldObjectsPromise:G=null,mouseState:K=null,annotationCanvasMap:Z=null}){this.pageDiv=t,this.pdfPage=n,this.linkService=u,this.downloadManager=C,this.imageResourcesPath=b,this.renderForms=p,this.l10n=c,this.annotationStorage=h,this.enableScripting=I,this._hasJSActionsPromise=F,this._fieldObjectsPromise=G,this._mouseState=K,this._annotationCanvasMap=Z,this.div=null,this._cancelled=!1}render(t,n="display"){var u=this;return v(function*(){const[C,h=!1,b=null]=yield Promise.all([u.pdfPage.getAnnotations({intent:n}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled||0===C.length)return;const p={viewport:t.clone({dontFlip:!0}),div:u.div,annotations:C,page:u.pdfPage,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:h,fieldObjects:b,mouseState:u._mouseState,annotationCanvasMap:u._annotationCanvasMap};u.div?A.AnnotationLayer.update(p):(u.div=document.createElement("div"),u.div.className="annotationLayer",u.pageDiv.appendChild(u.div),p.div=u.div,A.AnnotationLayer.render(p),u.l10n.translate(u.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},H=>{let g;g=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:P(6036),H.exports=g},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NullL10n=void 0,g.fixupLangCode=function y(n){return T[n?.toLowerCase()]||n},g.getL10nFallback=A;const k={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function A(n,u){switch(n){case"find_match_count":n=`find_match_count[${1===u.total?"one":"other"}]`;break;case"find_match_count_limit":n=`find_match_count_limit[${1===u.limit?"one":"other"}]`}return k[n]||""}const T={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};g.NullL10n={getLanguage:()=>v(function*(){return"en-us"})(),getDirection:()=>v(function*(){return"ltr"})(),get:(n,u=null,C=A(n,u))=>v(function*(){return function S(n,u){return u?n.replace(/\{\{\s*(\w+)\s*\}\}/g,(C,h)=>h in u?u[h]:"{{"+h+"}}"):n}(C,u)})(),translate:n=>v(function*(){})()}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleLinkService=g.PDFLinkService=g.LinkTarget=void 0;var A=k(6);const T="noopener noreferrer nofollow",y={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function S(p,{url:c,target:I,rel:F,enabled:G=!0}={}){if(!c||"string"!=typeof c)throw new Error('A valid "url" parameter must provided.');const K=(0,A.removeNullCharacters)(c);G?p.href=p.title=K:(p.href="",p.title=`Disabled: ${K}`,p.onclick=()=>!1);let Z="";switch(I){case y.NONE:break;case y.SELF:Z="_self";break;case y.BLANK:Z="_blank";break;case y.PARENT:Z="_parent";break;case y.TOP:Z="_top"}p.target=Z,p.rel="string"==typeof F?F:T}g.LinkTarget=y;var t=new WeakMap,n=new WeakSet;class u{constructor({eventBus:c,externalLinkTarget:I=null,externalLinkRel:F=null,ignoreDestinationZoom:G=!1}={}){N(this,n),B(this,t,{writable:!0,value:new Map}),this.eventBus=c,this.externalLinkTarget=I,this.externalLinkRel=F,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=G,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(c,I=null){this.baseUrl=I,this.pdfDocument=c,w(this,t).clear()}setViewer(c){this.pdfViewer=c}setHistory(c){this.pdfHistory=c}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(c){this.pdfViewer.currentPageNumber=c}get rotation(){return this.pdfViewer.pagesRotation}set rotation(c){this.pdfViewer.pagesRotation=c}goToDestination(c){var I=this;return v(function*(){if(!I.pdfDocument)return;let F,G;"string"==typeof c?(F=c,G=yield I.pdfDocument.getDestination(c)):(F=null,G=yield c),Array.isArray(G)?L(I,n,C).call(I,c,F,G):console.error(`PDFLinkService.goToDestination: "${G}" is not a valid destination array, for dest="${c}".`)})()}goToPage(c){if(!this.pdfDocument)return;const I="string"==typeof c&&this.pdfViewer.pageLabelToPageNumber(c)||0|c;Number.isInteger(I)&&I>0&&I<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(I)),this.pdfViewer.scrollPageIntoView({pageNumber:I})):console.error(`PDFLinkService.goToPage: "${c}" is not a valid page.`)}addLinkAttributes(c,I,F=!1){S(c,{url:I,target:F?y.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(c){if("string"==typeof c){if(c.length>0)return this.getAnchorUrl("#"+escape(c))}else if(Array.isArray(c)){const I=JSON.stringify(c);if(I.length>0)return this.getAnchorUrl("#"+escape(I))}return this.getAnchorUrl("")}getAnchorUrl(c){return(this.baseUrl||"")+c}setHash(c){if(!this.pdfDocument)return;let I,F;if(c.includes("=")){const G=(0,A.parseQueryString)(c);if(G.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:G.get("search").replace(/"/g,""),phraseSearch:"true"===G.get("phrase")}),G.has("page")&&(I=0|G.get("page")||1),G.has("zoom")){const K=G.get("zoom").split(","),Z=K[0],ee=parseFloat(Z);Z.includes("Fit")?"Fit"===Z||"FitB"===Z?F=[null,{name:Z}]:"FitH"===Z||"FitBH"===Z||"FitV"===Z||"FitBV"===Z?F=[null,{name:Z},K.length>1?0|K[1]:null]:"FitR"===Z?5!==K.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):F=[null,{name:Z},0|K[1],0|K[2],0|K[3],0|K[4]]:console.error(`PDFLinkService.setHash: "${Z}" is not a valid zoom value.`):F=[null,{name:"XYZ"},K.length>1?0|K[1]:null,K.length>2?0|K[2]:null,ee?ee/100:Z]}F?this.pdfViewer.scrollPageIntoView({pageNumber:I||this.page,destArray:F,allowNegativeOffset:!0}):I&&(this.page=I),G.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:G.get("pagemode")}),G.has("nameddest")&&this.goToDestination(G.get("nameddest"))}else{F=unescape(c);try{F=JSON.parse(F),Array.isArray(F)||(F=F.toString())}catch{}if("string"==typeof F||q(u,u,h).call(u,F))return void this.goToDestination(F);console.error(`PDFLinkService.setHash: "${unescape(c)}" is not a valid destination.`)}}executeNamedAction(c){switch(c){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:c})}cachePageRef(c,I){if(!I)return;const F=0===I.gen?`${I.num}R`:`${I.num}R${I.gen}`;w(this,t).set(F,c)}_cachedPageNumber(c){if(!c)return null;const I=0===c.gen?`${c.num}R`:`${c.num}R${c.gen}`;return w(this,t).get(I)||null}isPageVisible(c){return this.pdfViewer.isPageVisible(c)}isPageCached(c){return this.pdfViewer.isPageCached(c)}}function C(p,c=null,I){const F=I[0];let G;if("object"==typeof F&&null!==F){if(G=this._cachedPageNumber(F),!G)return void this.pdfDocument.getPageIndex(F).then(K=>{this.cachePageRef(K+1,F),L(this,n,C).call(this,p,c,I)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page reference, for dest="${p}".`)})}else{if(!Number.isInteger(F))return void console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid destination reference, for dest="${p}".`);G=F+1}!G||G<1||G>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${G}" is not a valid page number, for dest="${p}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:c,explicitDest:I,pageNumber:G})),this.pdfViewer.scrollPageIntoView({pageNumber:G,destArray:I,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function h(p){if(!Array.isArray(p))return!1;const c=p.length;if(c<2)return!1;const I=p[0];if(!("object"==typeof I&&Number.isInteger(I.num)&&Number.isInteger(I.gen)||Number.isInteger(I)&&I>=0))return!1;const F=p[1];if("object"!=typeof F||"string"!=typeof F.name)return!1;let G=!0;switch(F.name){case"XYZ":if(5!==c)return!1;break;case"Fit":case"FitB":return 2===c;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==c)return!1;break;case"FitR":if(6!==c)return!1;G=!1;break;default:return!1}for(let K=2;K<c;K++){const Z=p[K];if(!("number"==typeof Z||G&&null===Z))return!1}return!0}g.PDFLinkService=u,g.SimpleLinkService=class b{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(c){}get rotation(){return 0}set rotation(c){}goToDestination(c){return v(function*(){})()}goToPage(c){}addLinkAttributes(c,I,F=!1){S(c,{url:I,enabled:this.externalLinkEnabled})}getDestinationHash(c){return"#"}getAnchorUrl(c){return"#"}setHash(c){}executeNamedAction(c){}cachePageRef(c,I){}isPageVisible(c){return!0}isPageCached(c){return!0}}},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.animationStarted=g.VERTICAL_PADDING=g.UNKNOWN_SCALE=g.TextLayerMode=g.SpreadMode=g.SidebarView=g.ScrollMode=g.SCROLLBAR_PADDING=g.RenderingStates=g.RendererType=g.ProgressBar=g.PresentationModeState=g.OutputScale=g.MIN_SCALE=g.MAX_SCALE=g.MAX_AUTO_SCALE=g.DEFAULT_SCALE_VALUE=g.DEFAULT_SCALE_DELTA=g.DEFAULT_SCALE=g.AutoPrintRegExp=void 0,g.apiPageLayoutToViewerModes=function Ce(oe){let fe=F.VERTICAL,ye=G.NONE;switch(oe){case"SinglePage":fe=F.PAGE;break;case"OneColumn":break;case"TwoPageLeft":fe=F.PAGE;case"TwoColumnLeft":ye=G.ODD;break;case"TwoPageRight":fe=F.PAGE;case"TwoColumnRight":ye=G.EVEN}return{scrollMode:fe,spreadMode:ye}},g.apiPageModeToSidebarView=function _e(oe){switch(oe){case"UseNone":return p.NONE;case"UseThumbs":return p.THUMBS;case"UseOutlines":return p.OUTLINE;case"UseAttachments":return p.ATTACHMENTS;case"UseOC":return p.LAYERS}return p.NONE},g.approximateFraction=function r(oe){if(Math.floor(oe)===oe)return[oe,1];const fe=1/oe;if(fe>8)return[1,8];if(Math.floor(fe)===fe)return[1,fe];const se=oe>1?fe:oe;let M,_=0,D=1,x=1,J=1;for(;;){const E=_+x,W=D+J;if(W>8)break;se<=E/W?(x=E,J=W):(_=E,D=W)}return M=se-_/D<x/J-se?se===oe?[_,D]:[D,_]:se===oe?[x,J]:[J,x],M},g.backtrackBeforeAllVisibleElements=f,g.binarySearchFirstItem=e,g.getActiveOrFocusedElement=function we(){let oe=document,fe=oe.activeElement||oe.querySelector(":focus");for(;fe?.shadowRoot;)oe=fe.shadowRoot,fe=oe.activeElement||oe.querySelector(":focus");return fe},g.getPageSizeInches=function d({view:oe,userUnit:fe,rotate:ye}){const[se,_,D,x]=oe,J=ye%180!=0,M=(D-se)/72*fe,E=(x-_)/72*fe;return{width:J?E:M,height:J?M:E}},g.getVisibleElements=function l({scrollEl:oe,views:fe,sortByVisibility:ye=!1,horizontal:se=!1,rtl:_=!1}){const D=oe.scrollTop,x=D+oe.clientHeight,J=oe.scrollLeft,M=J+oe.clientWidth,re=[],be=new Set,xe=fe.length;let ae=e(fe,se?function W(pe){const Ee=pe.div,ve=Ee.offsetLeft+Ee.clientLeft;return _?ve<M:ve+Ee.clientWidth>J}:function E(pe){const Ee=pe.div;return Ee.offsetTop+Ee.clientTop+Ee.clientHeight>D});ae>0&&ae<xe&&!se&&(ae=f(ae,fe,D));let he=se?M:-1;for(let pe=ae;pe<xe;pe++){const Ee=fe[pe],ve=Ee.div,Te=ve.offsetLeft+ve.clientLeft,Me=ve.offsetTop+ve.clientTop,ke=ve.clientWidth,Le=ve.clientHeight,Ne=Te+ke,Fe=Me+Le;if(-1===he)Fe>=x&&(he=Fe);else if((se?Te:Me)>he)break;if(Fe<=D||Me>=x||Ne<=J||Te>=M)continue;const Ie=Math.max(0,D-Me)+Math.max(0,Fe-x),De=(ke-(Math.max(0,J-Te)+Math.max(0,Ne-M)))/ke;re.push({id:Ee.id,x:Te,y:Me,view:Ee,percent:(Le-Ie)/Le*De*100|0,widthPercent:100*De|0}),be.add(Ee.id)}const Se=re[0],Pe=re[re.length-1];return ye&&re.sort(function(pe,Ee){const ve=pe.percent-Ee.percent;return Math.abs(ve)>.001?-ve:pe.id-Ee.id}),{first:Se,last:Pe,views:re,ids:be}},g.isPortraitOrientation=function ie(oe){return oe.width<=oe.height},g.isValidRotation=function Q(oe){return Number.isInteger(oe)&&oe%90==0},g.isValidScrollMode=function $(oe){return Number.isInteger(oe)&&Object.values(F).includes(oe)&&oe!==F.UNKNOWN},g.isValidSpreadMode=function ne(oe){return Number.isInteger(oe)&&Object.values(G).includes(oe)&&oe!==G.UNKNOWN},g.noContextMenuHandler=function O(oe){oe.preventDefault()},g.normalizeWheelEventDelta=function U(oe){let fe=Y(oe);return 0===oe.deltaMode?fe/=900:1===oe.deltaMode&&(fe/=30),fe},g.normalizeWheelEventDirection=Y,g.parseQueryString=function ue(oe){const fe=new Map;for(const[ye,se]of new URLSearchParams(oe))fe.set(ye.toLowerCase(),se);return fe},g.removeNullCharacters=function s(oe,fe=!1){return"string"!=typeof oe?(console.error("The argument must be a string."),oe):(fe&&(oe=oe.replace(R," ")),oe.replace(ce,""))},g.roundToDivide=function o(oe,fe){const ye=oe%fe;return 0===ye?oe:Math.round(oe-ye+fe)},g.scrollIntoView=function ee(oe,fe,ye=!1){let se=oe.offsetParent;if(!se)return void console.error("offsetParent is not set -- cannot scroll");let _=oe.offsetTop+oe.clientTop,D=oe.offsetLeft+oe.clientLeft;for(;se.clientHeight===se.scrollHeight&&se.clientWidth===se.scrollWidth||ye&&(se.classList.contains("markedContent")||"hidden"===getComputedStyle(se).overflow);)if(_+=se.offsetTop,D+=se.offsetLeft,se=se.offsetParent,!se)return;fe&&(void 0!==fe.top&&(_+=fe.top),void 0!==fe.left&&(D+=fe.left,se.scrollLeft=D)),se.scrollTop=_},g.watchScroll=function te(oe,fe){const ye=function(D){_||(_=window.requestAnimationFrame(function(){_=null;const J=oe.scrollLeft,M=se.lastX;J!==M&&(se.right=J>M),se.lastX=J;const E=oe.scrollTop,W=se.lastY;E!==W&&(se.down=E>W),se.lastY=E,fe(se)}))},se={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:ye};let _=null;return oe.addEventListener("scroll",ye,!0),se},g.DEFAULT_SCALE_VALUE="auto",g.DEFAULT_SCALE=1,g.DEFAULT_SCALE_DELTA=1.1,g.MIN_SCALE=.1,g.MAX_SCALE=10,g.UNKNOWN_SCALE=0,g.MAX_AUTO_SCALE=1.25,g.SCROLLBAR_PADDING=40,g.VERTICAL_PADDING=5,g.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},g.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const p={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};g.SidebarView=p,g.RendererType={CANVAS:"canvas",SVG:"svg"},g.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const F={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};g.ScrollMode=F;const G={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};g.SpreadMode=G,g.AutoPrintRegExp=/\bprint\s*\(/,g.OutputScale=class Z{constructor(){const fe=window.devicePixelRatio||1;this.sx=fe,this.sy=fe}get scaled(){return 1!==this.sx||1!==this.sy}};const ce=/\x00/g,R=/[\x01-\x1F]/g;function e(oe,fe,ye=0){let se=ye,_=oe.length-1;if(_<0||!fe(oe[_]))return oe.length;if(fe(oe[se]))return se;for(;se<_;){const D=se+_>>1;fe(oe[D])?_=D:se=D+1}return se}function f(oe,fe,ye){if(oe<2)return oe;let se=fe[oe].div,_=se.offsetTop+se.clientTop;_>=ye&&(se=fe[oe-1].div,_=se.offsetTop+se.clientTop);for(let D=oe-2;D>=0&&(se=fe[D].div,!(se.offsetTop+se.clientTop+se.clientHeight<=_));--D)oe=D;return oe}function Y(oe){let fe=Math.hypot(oe.deltaX,oe.deltaY);const ye=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<ye&&ye<.75*Math.PI&&(fe=-fe),fe}const de=new Promise(function(oe){window.requestAnimationFrame(oe)});g.animationStarted=de;var Ae=new WeakSet;function le(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}g.ProgressBar=class ge{constructor(fe){if(N(this,Ae),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(fe+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(fe){this._indeterminate=isNaN(fe),this._percent=function me(oe,fe,ye){return Math.min(Math.max(oe,fe),ye)}(fe,0,100),L(this,Ae,le).call(this)}setWidth(fe){if(!fe)return;const se=fe.parentNode.offsetWidth-fe.offsetWidth;se>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${se}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.StructTreeLayerBuilder=void 0;const k={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},A=/^H(\d+)$/;g.StructTreeLayerBuilder=class T{constructor({pdfPage:S}){this.pdfPage=S}render(S){return this._walk(S)}_setAttributes(S,t){void 0!==S.alt&&t.setAttribute("aria-label",S.alt),void 0!==S.id&&t.setAttribute("aria-owns",S.id),void 0!==S.lang&&t.setAttribute("lang",S.lang)}_walk(S){if(!S)return null;const t=document.createElement("span");if("role"in S){const{role:n}=S,u=n.match(A);u?(t.setAttribute("role","heading"),t.setAttribute("aria-level",u[1])):k[n]&&t.setAttribute("role",k[n])}if(this._setAttributes(S,t),S.children)if(1===S.children.length&&"id"in S.children[0])this._setAttributes(S.children[0],t);else for(const n of S.children)t.appendChild(this._walk(n));return t}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerBuilder=void 0;var A=k(3);g.TextLayerBuilder=class y{constructor({textLayerDiv:t,eventBus:n,pageIndex:u,viewport:C,highlighter:h=null,enhanceTextSelection:b=!1}){this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=C,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=h,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(t=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,A.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(n),this._finishRendering(),this.highlighter?.enable()},function(u){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(t){this.cancel(),this.textContentStream=t}setTextContent(t){this.cancel(),this.textContent=t}_bindMouse(){const t=this.textLayerDiv;let n=null;t.addEventListener("mousedown",u=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));const C=t.querySelector(".endOfContent");if(!C)return;let h=u.target!==t;if(h=h&&"none"!==window.getComputedStyle(C).getPropertyValue("-moz-user-select"),h){const b=t.getBoundingClientRect(),p=Math.max(0,(u.pageY-b.top)/b.height);C.style.top=(100*p).toFixed(2)+"%"}C.classList.add("active")}),t.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(n=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),n=null},300));const u=t.querySelector(".endOfContent");u&&(u.style.top="",u.classList.remove("active"))})}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayerBuilder=void 0;var A=k(3);g.XfaLayerBuilder=class T{constructor({pageDiv:S,pdfPage:t,annotationStorage:n=null,linkService:u,xfaHtml:C=null}){this.pageDiv=S,this.pdfPage=t,this.annotationStorage=n,this.linkService=u,this.xfaHtml=C,this.div=null,this._cancelled=!1}render(S,t="display"){if("print"===t){const n={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},u=document.createElement("div");this.pageDiv.appendChild(u),n.div=u;const C=A.XfaLayer.render(n);return Promise.resolve(C)}return this.pdfPage.getXfa().then(n=>{if(this._cancelled||!n)return{textDivs:[]};const u={viewport:S.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?A.XfaLayer.update(u):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),u.div=this.div,A.XfaLayer.render(u))}).catch(n=>{console.error(n)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFViewer=g.PDFSinglePageViewer=void 0;var A=k(6),T=k(11);g.PDFViewer=class y extends T.BaseViewer{},g.PDFSinglePageViewer=class S extends T.BaseViewer{_resetView(){super._resetView(),this._scrollMode=A.ScrollMode.PAGE,this._spreadMode=A.SpreadMode.NONE}set scrollMode(n){}_updateScrollMode(){}set spreadMode(n){}_updateSpreadMode(){}}},(H,g,k)=>{let A;Object.defineProperty(g,"__esModule",{value:!0}),g.PagesCountLimit=g.PDFPageViewBuffer=g.BaseViewer=void 0;var T=k(3),y=k(6),S=k(2),t=k(4),n=k(12),u=k(14),C=k(5),h=k(7),b=k(15),p=k(8),c=k(9);const F="enablePermissions",G={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};g.PagesCountLimit=G;var K=new WeakMap,Z=new WeakMap,ee=new WeakSet;A=Symbol.iterator;class te{constructor(_){N(this,ee),B(this,K,{writable:!0,value:new Set}),B(this,Z,{writable:!0,value:0}),i(this,Z,_)}push(_){const D=w(this,K);D.has(_)&&D.delete(_),D.add(_),D.size>w(this,Z)&&L(this,ee,ue).call(this)}resize(_,D=null){i(this,Z,_);const x=w(this,K);if(D){const J=x.size;let M=1;for(const E of x)if(D.has(E.id)&&(x.delete(E),x.add(E)),++M>J)break}for(;x.size>w(this,Z);)L(this,ee,ue).call(this)}has(_){return w(this,K).has(_)}[A](){return w(this,K).keys()}}function ue(){const se=w(this,K).keys().next().value;se?.destroy(),w(this,K).delete(se)}g.PDFPageViewBuffer=te;var ce=new WeakMap,R=new WeakMap,s=new WeakMap,e=new WeakMap,r=new WeakMap,o=new WeakMap,d=new WeakMap,f=new WeakSet,l=new WeakSet,O=new WeakSet,Y=new WeakSet,U=new WeakSet,Q=new WeakSet,$=new WeakSet,ne=new WeakSet,ie=new WeakSet;class de{constructor(_){if(N(this,ie),N(this,ne),N(this,$),N(this,Q),N(this,U),N(this,Y),N(this,O),N(this,l),N(this,f),B(this,ce,{writable:!0,value:null}),B(this,R,{writable:!0,value:T.AnnotationMode.ENABLE_FORMS}),B(this,s,{writable:!0,value:null}),B(this,e,{writable:!0,value:!1}),B(this,r,{writable:!0,value:0}),B(this,o,{writable:!0,value:null}),B(this,d,{writable:!0,value:null}),this.constructor===de)throw new Error("Cannot initialize BaseViewer.");const D="2.14.305";if(T.version!==D)throw new Error(`The API version "${T.version}" does not match the Viewer version "${D}".`);if(this.container=_.container,this.viewer=_.viewer||_.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=_.eventBus,this.linkService=_.linkService||new C.SimpleLinkService,this.downloadManager=_.downloadManager||null,this.findController=_.findController||null,this._scriptingManager=_.scriptingManager||null,this.removePageBorders=_.removePageBorders||!1,this.textLayerMode=_.textLayerMode??y.TextLayerMode.ENABLE,i(this,R,_.annotationMode??T.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=_.imageResourcesPath||"",this.enablePrintAutoRotate=_.enablePrintAutoRotate||!1,this.renderer=_.renderer||y.RendererType.CANVAS,this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels,this.l10n=_.l10n||t.NullL10n,i(this,e,_.enablePermissions||!1),this.pageColors=_.pageColors||null,_.pageColors&&(!CSS.supports("color",_.pageColors.background)||!CSS.supports("color",_.pageColors.foreground))&&((_.pageColors.background||_.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!_.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new u.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=_.renderingQueue,this._doc=document.documentElement,this.scroll=(0,y.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=y.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(_){return this._pages[_]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(_){return _?.pdfPage})}get renderForms(){return w(this,R)===T.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(_){if(!Number.isInteger(_))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(_,!0)||console.error(`currentPageNumber: "${_}" is not a valid page.`))}_setCurrentPageNumber(_,D=!1){if(this._currentPageNumber===_)return D&&L(this,Q,Ce).call(this),!0;if(!(0<_&&_<=this.pagesCount))return!1;const x=this._currentPageNumber;return this._currentPageNumber=_,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:_,pageLabel:this._pageLabels?.[_-1]??null,previous:x}),D&&L(this,Q,Ce).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(_){if(!this.pdfDocument)return;let D=0|_;if(this._pageLabels){const x=this._pageLabels.indexOf(_);x>=0&&(D=x+1)}this._setCurrentPageNumber(D,!0)||console.error(`currentPageLabel: "${_}" is not a valid page.`)}get currentScale(){return this._currentScale!==y.UNKNOWN_SCALE?this._currentScale:y.DEFAULT_SCALE}set currentScale(_){if(isNaN(_))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(_,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(_){this.pdfDocument&&this._setScale(_,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(_){if(!(0,y.isValidRotation)(_))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((_%=360)<0&&(_+=360),this._pagesRotation===_))return;this._pagesRotation=_;const D=this._currentPageNumber,x={rotation:_};for(const J of this._pages)J.update(x);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:_,pageNumber:D}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(_){var D=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=_,!_)return;const x=_.isPureXfa,J=_.numPages,M=_.getPage(1),E=_.getOptionalContentConfig(),W=w(this,e)?_.getPermissions():Promise.resolve();if(J>G.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const re=this._scrollMode=y.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:re})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:J})},()=>{}),this._onBeforeDraw=re=>{const be=this._pages[re.pageNumber-1];be&&w(this,ce).push(be)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=re=>{re.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:re.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,w(this,d)&&(document.removeEventListener("visibilitychange",w(this,d)),i(this,d,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([M,W]).then(([re,be])=>{if(_!==this.pdfDocument)return;this._firstPageCapability.resolve(re),this._optionalContentConfigPromise=E,L(this,f,me).call(this,be);const xe=this._scrollMode===y.ScrollMode.PAGE?null:this.viewer,ae=this.currentScale,he=re.getViewport({scale:ae*T.PixelsPerInch.PDF_TO_CSS_UNITS}),Se=this.textLayerMode===y.TextLayerMode.DISABLE||x?null:this,Pe=w(this,R)!==T.AnnotationMode.DISABLE?this:null,pe=x?this:null;for(let ve=1;ve<=J;++ve){const Te=new n.PDFPageView({container:xe,eventBus:this.eventBus,id:ve,scale:ae,defaultViewport:he.clone(),optionalContentConfigPromise:E,renderingQueue:this.renderingQueue,textLayerFactory:Se,textLayerMode:this.textLayerMode,annotationLayerFactory:Pe,annotationMode:w(this,R),xfaLayerFactory:pe,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(Te)}const Ee=this._pages[0];Ee&&(Ee.setPdfPage(re),this.linkService.cachePageRef(1,re.ref)),this._scrollMode===y.ScrollMode.PAGE?L(this,O,ge).call(this):this._spreadMode!==y.SpreadMode.NONE&&this._updateSpreadMode(),L(this,l,Ae).call(this).then(v(function*(){if(D.findController&&D.findController.setDocument(_),D._scriptingManager&&D._scriptingManager.setDocument(_),_.loadingParams.disableAutoFetch||J>G.FORCE_LAZY_PAGE_INIT)return void D._pagesCapability.resolve();let ve=J-1;if(ve<=0)D._pagesCapability.resolve();else for(let Te=2;Te<=J;++Te){const Me=_.getPage(Te).then(ke=>{const Le=D._pages[Te-1];Le.pdfPage||Le.setPdfPage(ke),D.linkService.cachePageRef(Te,ke.ref),0==--ve&&D._pagesCapability.resolve()},ke=>{console.error(`Unable to get page ${Te} to initialize viewer`,ke),0==--ve&&D._pagesCapability.resolve()});Te%G.PAUSE_EAGER_PAGE_INIT==0&&(yield Me)}})),this.eventBus.dispatch("pagesinit",{source:this}),_.getMetadata().then(({info:ve})=>{_===this.pdfDocument&&ve.Language&&(this.viewer.lang=ve.Language)}),this.defaultRenderingQueue&&this.update()}).catch(re=>{console.error("Unable to initialize viewer",re),this._pagesCapability.reject(re)})}setPageLabels(_){if(this.pdfDocument){_?Array.isArray(_)&&this.pdfDocument.numPages===_.length?this._pageLabels=_:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let D=0,x=this._pages.length;D<x;D++)this._pages[D].setPageLabel(this._pageLabels?.[D]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=y.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,ce,new te(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,T.createPromiseCapability)(),this._onePageRenderedCapability=(0,T.createPromiseCapability)(),this._pagesCapability=(0,T.createPromiseCapability)(),this._scrollMode=y.ScrollMode.VERTICAL,this._previousScrollMode=y.ScrollMode.UNKNOWN,this._spreadMode=y.SpreadMode.NONE,i(this,o,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),w(this,d)&&(document.removeEventListener("visibilitychange",w(this,d)),i(this,d,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(F),null!==w(this,s)&&(i(this,R,w(this,s)),i(this,s,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(_,D,x=!1,J=!1){if(this._currentScaleValue=D.toString(),L(this,U,we).call(this,_))return void(J&&this.eventBus.dispatch("scalechanging",{source:this,scale:_,presetValue:D}));this._doc.style.setProperty("--zoom-factor",_);const M={scale:_};for(const E of this._pages)E.update(M);if(this._currentScale=_,!x){let W,E=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(E=this._location.pageNumber,W=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:E,destArray:W,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:_,presetValue:J?D:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==y.SpreadMode.NONE&&this._scrollMode!==y.ScrollMode.HORIZONTAL?2:1}_setScale(_,D=!1){let x=parseFloat(_);if(x>0)this._setScaleUpdatePages(x,_,D,!1);else{const J=this._pages[this._currentPageNumber-1];if(!J)return;let M=y.SCROLLBAR_PADDING,E=y.VERTICAL_PADDING;this.isInPresentationMode?M=E=4:this.removePageBorders?M=E=0:this._scrollMode===y.ScrollMode.HORIZONTAL&&([M,E]=[E,M]);const W=(this.container.clientWidth-M)/J.width*J.scale/this._pageWidthScaleFactor,re=(this.container.clientHeight-E)/J.height*J.scale;switch(_){case"page-actual":x=1;break;case"page-width":x=W;break;case"page-height":x=re;break;case"page-fit":x=Math.min(W,re);break;case"auto":const be=(0,y.isPortraitOrientation)(J)?W:Math.min(re,W);x=Math.min(y.MAX_AUTO_SCALE,be);break;default:return void console.error(`_setScale: "${_}" is an unknown zoom value.`)}this._setScaleUpdatePages(x,_,D,!0)}}pageLabelToPageNumber(_){if(!this._pageLabels)return null;const D=this._pageLabels.indexOf(_);return D<0?null:D+1}scrollPageIntoView({pageNumber:_,destArray:D=null,allowNegativeOffset:x=!1,ignoreDestinationZoom:J=!1}){if(!this.pdfDocument)return;const M=Number.isInteger(_)&&this._pages[_-1];if(!M)return void console.error(`scrollPageIntoView: "${_}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!D)return void this._setCurrentPageNumber(_,!0);let xe,ae,E=0,W=0,re=0,be=0;const he=M.rotation%180!=0,Se=(he?M.height:M.width)/M.scale/T.PixelsPerInch.PDF_TO_CSS_UNITS,Pe=(he?M.width:M.height)/M.scale/T.PixelsPerInch.PDF_TO_CSS_UNITS;let pe=0;switch(D[1].name){case"XYZ":E=D[2],W=D[3],pe=D[4],E=null!==E?E:0,W=null!==W?W:Pe;break;case"Fit":case"FitB":pe="page-fit";break;case"FitH":case"FitBH":W=D[2],pe="page-width",null===W&&this._location?(E=this._location.left,W=this._location.top):("number"!=typeof W||W<0)&&(W=Pe);break;case"FitV":case"FitBV":E=D[2],re=Se,be=Pe,pe="page-height";break;case"FitR":E=D[2],W=D[3],re=D[4]-E,be=D[5]-W,xe=(this.container.clientWidth-(this.removePageBorders?0:y.SCROLLBAR_PADDING))/re/T.PixelsPerInch.PDF_TO_CSS_UNITS,ae=(this.container.clientHeight-(this.removePageBorders?0:y.VERTICAL_PADDING))/be/T.PixelsPerInch.PDF_TO_CSS_UNITS,pe=Math.min(Math.abs(xe),Math.abs(ae));break;default:return void console.error(`scrollPageIntoView: "${D[1].name}" is not a valid destination type.`)}if(J||(pe&&pe!==this._currentScale?this.currentScaleValue=pe:this._currentScale===y.UNKNOWN_SCALE&&(this.currentScaleValue=y.DEFAULT_SCALE_VALUE)),"page-fit"===pe&&!D[4])return void L(this,Y,le).call(this,M);const Ee=[M.viewport.convertToViewportPoint(E,W),M.viewport.convertToViewportPoint(E+re,W+be)];let ve=Math.min(Ee[0][0],Ee[1][0]),Te=Math.min(Ee[0][1],Ee[1][1]);x||(ve=Math.max(ve,0),Te=Math.max(Te,0)),L(this,Y,le).call(this,M,{left:ve,top:Te})}_updateLocation(_){const D=this._currentScale,x=this._currentScaleValue,J=parseFloat(x)===D?Math.round(1e4*D)/100:x,M=_.id,W=this.container,re=this._pages[M-1].getPagePoint(W.scrollLeft-_.x,W.scrollTop-_.y),be=Math.round(re[0]),xe=Math.round(re[1]);let ae=`#page=${M}`;this.isInPresentationMode||(ae+=`&zoom=${J},${be},${xe}`),this._location={pageNumber:M,scale:J,top:xe,left:be,rotation:this._pagesRotation,pdfOpenParams:ae}}update(){const _=this._getVisiblePages(),D=_.views,x=D.length;if(0===x)return;const J=Math.max(10,2*x+1);w(this,ce).resize(J,_.ids),this.renderingQueue.renderHighestPriority(_);const M=this._spreadMode===y.SpreadMode.NONE&&(this._scrollMode===y.ScrollMode.PAGE||this._scrollMode===y.ScrollMode.VERTICAL),E=this._currentPageNumber;let W=!1;for(const re of D){if(re.percent<100)break;if(re.id===E&&M){W=!0;break}}this._setCurrentPageNumber(W?E:D[0].id),this._updateLocation(_.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(_){return this.container.contains(_)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===y.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===y.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const _=this._scrollMode===y.ScrollMode.PAGE?w(this,o).pages:this._pages,D=this._scrollMode===y.ScrollMode.HORIZONTAL;return(0,y.getVisibleElements)({scrollEl:this.container,views:_,sortByVisibility:!0,horizontal:D,rtl:D&&this._isContainerRtl})}isPageVisible(_){return!!this.pdfDocument&&(Number.isInteger(_)&&_>0&&_<=this.pagesCount?this._getVisiblePages().ids.has(_):(console.error(`isPageVisible: "${_}" is not a valid page.`),!1))}isPageCached(_){if(!this.pdfDocument)return!1;if(!(Number.isInteger(_)&&_>0&&_<=this.pagesCount))return console.error(`isPageCached: "${_}" is not a valid page.`),!1;const D=this._pages[_-1];return w(this,ce).has(D)}cleanup(){for(const _ of this._pages)_.renderingState!==y.RenderingStates.FINISHED&&_.reset()}_cancelRendering(){for(const _ of this._pages)_.cancelRendering()}forceRendering(_){const D=_||this._getVisiblePages(),x=L(this,ne,fe).call(this,D),M=this.renderingQueue.getHighestPriority(D,this._pages,x,this._spreadMode!==y.SpreadMode.NONE&&this._scrollMode!==y.ScrollMode.HORIZONTAL);return L(this,ie,ye).call(this,D.ids),!!M&&(L(this,$,_e).call(this,M).then(()=>{this.renderingQueue.renderView(M)}),!0)}createTextLayerBuilder(_,D,x,J=!1,M,E){return new p.TextLayerBuilder({textLayerDiv:_,eventBus:M,pageIndex:D,viewport:x,enhanceTextSelection:!this.isInPresentationMode&&J,highlighter:E})}createTextHighlighter(_,D){return new b.TextHighlighter({eventBus:D,pageIndex:_,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(_,D,x=null,J="",M=!0,E=t.NullL10n,W=null,re=null,be=null,xe=null,ae=null){return new S.AnnotationLayerBuilder({pageDiv:_,pdfPage:D,annotationStorage:x||this.pdfDocument?.annotationStorage,imageResourcesPath:J,renderForms:M,linkService:this.linkService,downloadManager:this.downloadManager,l10n:E,enableScripting:W??this.enableScripting,hasJSActionsPromise:re||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:xe||this.pdfDocument?.getFieldObjects(),mouseState:be||this._scriptingManager?.mouseState,annotationCanvasMap:ae})}createXfaLayerBuilder(_,D,x=null){return new c.XfaLayerBuilder({pageDiv:_,pdfPage:D,annotationStorage:x||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(_){return new h.StructTreeLayerBuilder({pdfPage:_})}get hasEqualPageSizes(){const _=this._pages[0];for(let D=1,x=this._pages.length;D<x;++D){const J=this._pages[D];if(J.width!==_.width||J.height!==_.height)return!1}return!0}getPagesOverview(){return this._pages.map(_=>{const D=_.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,y.isPortraitOrientation)(D)?{width:D.width,height:D.height,rotation:D.rotation}:{width:D.height,height:D.width,rotation:(D.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(_){if(!(_ instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${_}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=_;const D={optionalContentConfigPromise:_};for(const x of this._pages)x.update(D);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:_})}get scrollMode(){return this._scrollMode}set scrollMode(_){if(this._scrollMode!==_){if(!(0,y.isValidScrollMode)(_))throw new Error(`Invalid scroll mode: ${_}`);this.pagesCount>G.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=_,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(_=null){const D=this._scrollMode,x=this.viewer;x.classList.toggle("scrollHorizontal",D===y.ScrollMode.HORIZONTAL),x.classList.toggle("scrollWrapped",D===y.ScrollMode.WRAPPED),this.pdfDocument&&_&&(D===y.ScrollMode.PAGE?L(this,O,ge).call(this):this._previousScrollMode===y.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(_,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(_){if(this._spreadMode!==_){if(!(0,y.isValidSpreadMode)(_))throw new Error(`Invalid spread mode: ${_}`);this._spreadMode=_,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:_}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(_=null){if(!this.pdfDocument)return;const D=this.viewer,x=this._pages;if(this._scrollMode===y.ScrollMode.PAGE)L(this,O,ge).call(this);else if(D.textContent="",this._spreadMode===y.SpreadMode.NONE)for(const J of this._pages)D.appendChild(J.div);else{const J=this._spreadMode-1;let M=null;for(let E=0,W=x.length;E<W;++E)null===M?(M=document.createElement("div"),M.className="spread",D.appendChild(M)):E%2===J&&(M=M.cloneNode(!1),D.appendChild(M)),M.appendChild(x[E].div)}_&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(_,!0),this.update())}_getPageAdvance(_,D=!1){switch(this._scrollMode){case y.ScrollMode.WRAPPED:{const{views:x}=this._getVisiblePages(),J=new Map;for(const{id:M,y:E,percent:W,widthPercent:re}of x){if(0===W||re<100)continue;let be=J.get(E);be||J.set(E,be||=[]),be.push(M)}for(const M of J.values()){const E=M.indexOf(_);if(-1===E)continue;const W=M.length;if(1===W)break;if(D)for(let re=E-1,be=0;re>=be;re--){const ae=M[re+1]-1;if(M[re]<ae)return _-ae}else for(let re=E+1,be=W;re<be;re++){const ae=M[re-1]+1;if(M[re]>ae)return ae-_}if(D){const re=M[0];if(re<_)return _-re+1}else{const re=M[W-1];if(re>_)return re-_+1}break}break}case y.ScrollMode.HORIZONTAL:break;case y.ScrollMode.PAGE:case y.ScrollMode.VERTICAL:{if(this._spreadMode===y.SpreadMode.NONE)break;const x=this._spreadMode-1;if(D&&_%2!==x)break;if(!D&&_%2===x)break;const{views:J}=this._getVisiblePages(),M=D?_-1:_+1;for(const{id:E,percent:W,widthPercent:re}of J)if(E===M){if(W>0&&100===re)return 2;break}break}}return 1}nextPage(){const _=this._currentPageNumber,D=this.pagesCount;if(_>=D)return!1;const x=this._getPageAdvance(_,!1)||1;return this.currentPageNumber=Math.min(_+x,D),!0}previousPage(){const _=this._currentPageNumber;if(_<=1)return!1;const D=this._getPageAdvance(_,!0)||1;return this.currentPageNumber=Math.max(_-D,1),!0}increaseScale(_=1){let D=this._currentScale;do{D=(D*y.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.ceil(10*D)/10,D=Math.min(y.MAX_SCALE,D)}while(--_>0&&D<y.MAX_SCALE);this.currentScaleValue=D}decreaseScale(_=1){let D=this._currentScale;do{D=(D/y.DEFAULT_SCALE_DELTA).toFixed(2),D=Math.floor(10*D)/10,D=Math.max(y.MIN_SCALE,D)}while(--_>0&&D>y.MIN_SCALE);this.currentScaleValue=D}updateContainerHeightCss(){const _=this.container.clientHeight;_!==w(this,r)&&(i(this,r,_),this._doc.style.setProperty("--viewer-container-height",`${_}px`))}}function me(se){se&&(se.includes(T.PermissionFlag.COPY)||this.viewer.classList.add(F),!se.includes(T.PermissionFlag.MODIFY_ANNOTATIONS)&&!se.includes(T.PermissionFlag.FILL_INTERACTIVE_FORMS)&&w(this,R)===T.AnnotationMode.ENABLE_FORMS&&(i(this,s,w(this,R)),i(this,R,T.AnnotationMode.ENABLE)))}function Ae(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const se=new Promise(_=>{i(this,d,()=>{"hidden"===document.visibilityState&&(_(),document.removeEventListener("visibilitychange",w(this,d)),i(this,d,null))}),document.addEventListener("visibilitychange",w(this,d))});return Promise.race([this._onePageRenderedCapability.promise,se])}function ge(){if(this._scrollMode!==y.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const se=this._currentPageNumber,_=w(this,o),D=this.viewer;if(D.textContent="",_.pages.length=0,this._spreadMode!==y.SpreadMode.NONE||this.isInPresentationMode){const x=new Set,J=this._spreadMode-1;-1===J?x.add(se-1):se%2!==J?(x.add(se-1),x.add(se)):(x.add(se-2),x.add(se-1));const M=document.createElement("div");if(M.className="spread",this.isInPresentationMode){const E=document.createElement("div");E.className="dummyPage",M.appendChild(E)}for(const E of x){const W=this._pages[E];W&&(M.appendChild(W.div),_.pages.push(W))}D.appendChild(M)}else{const x=this._pages[se-1];D.appendChild(x.div),_.pages.push(x)}_.scrollDown=se>=_.previousPageNumber,_.previousPageNumber=se}function le(se,_=null){const{div:D,id:x}=se;if(this._scrollMode===y.ScrollMode.PAGE&&(this._setCurrentPageNumber(x),L(this,O,ge).call(this),this.update()),!_&&!this.isInPresentationMode){const J=D.offsetLeft+D.clientLeft,M=J+D.clientWidth,{scrollLeft:E,clientWidth:W}=this.container;(this._scrollMode===y.ScrollMode.HORIZONTAL||J<E||M>E+W)&&(_={left:0,top:0})}(0,y.scrollIntoView)(D,_)}function we(se){return se===this._currentScale||Math.abs(se-this._currentScale)<1e-15}function Ce(){const se=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),L(this,Y,le).call(this,se)}function _e(se){return oe.apply(this,arguments)}function oe(){return(oe=v(function*(se){if(se.pdfPage)return se.pdfPage;try{const _=yield this.pdfDocument.getPage(se.id);return se.pdfPage||se.setPdfPage(_),this.linkService._cachedPageNumber?.(_.ref)||this.linkService.cachePageRef(se.id,_.ref),_}catch(_){return console.error("Unable to get page for page view",_),null}})).apply(this,arguments)}function fe(se){if(1===se.first?.id)return!0;if(se.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case y.ScrollMode.PAGE:return w(this,o).scrollDown;case y.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function ye(se){for(const _ of se)this._pages[_-1]?.toggleLoadingIconSpinner(!0);for(const _ of w(this,ce))se.has(_.id)||_.toggleLoadingIconSpinner(!1)}g.BaseViewer=de},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFPageView=void 0;var A=k(3),T=k(6),y=k(13),S=k(4);const t=y.compatibilityParams.maxCanvasPixels||16777216;var n=new WeakMap;g.PDFPageView=class u{constructor(h){B(this,n,{writable:!0,value:A.AnnotationMode.ENABLE_FORMS});const b=h.container,p=h.defaultViewport;this.id=h.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=h.scale||T.DEFAULT_SCALE,this.viewport=p,this.pdfPageRotate=p.rotation,this._optionalContentConfigPromise=h.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=h.textLayerMode??T.TextLayerMode.ENABLE,i(this,n,h.annotationMode??A.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=h.imageResourcesPath||"",this.useOnlyCssZoom=h.useOnlyCssZoom||!1,this.maxCanvasPixels=h.maxCanvasPixels||t,this.pageColors=h.pageColors||null,this.eventBus=h.eventBus,this.renderingQueue=h.renderingQueue,this.textLayerFactory=h.textLayerFactory,this.annotationLayerFactory=h.annotationLayerFactory,this.xfaLayerFactory=h.xfaLayerFactory,this.textHighlighter=h.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=h.structTreeLayerFactory,this.renderer=h.renderer||T.RendererType.CANVAS,this.l10n=h.l10n||S.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=T.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const c=document.createElement("div");c.className="page",c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",c.setAttribute("data-page-number",this.id),c.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(I=>{c.setAttribute("aria-label",I)}),this.div=c,b?.appendChild(c)}setPdfPage(h){this.pdfPage=h,this.pdfPageRotate=h.rotate,this.viewport=h.getViewport({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var h=this;return v(function*(){let b=null;try{yield h.annotationLayer.render(h.viewport,"display")}catch(p){b=p}finally{h.eventBus.dispatch("annotationlayerrendered",{source:h,pageNumber:h.id,error:b})}})()}_renderXfaLayer(){var h=this;return v(function*(){let b=null;try{const p=yield h.xfaLayer.render(h.viewport,"display");h.textHighlighter&&h._buildXfaTextContentItems(p.textDivs)}catch(p){b=p}finally{h.eventBus.dispatch("xfalayerrendered",{source:h,pageNumber:h.id,error:b})}})()}_buildXfaTextContentItems(h){var b=this;return v(function*(){const p=yield b.pdfPage.getTextContent(),c=[];for(const I of p.items)c.push(I.str);b.textHighlighter.setTextMapping(h,c),b.textHighlighter.enable()})()}_resetZoomLayer(h=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,h&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:h=!1,keepAnnotationLayer:b=!1,keepXfaLayer:p=!1}={}){this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:p}),this.renderingState=T.RenderingStates.INITIAL;const c=this.div;c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px";const I=c.childNodes,F=h&&this.zoomLayer||null,G=b&&this.annotationLayer?.div||null,K=p&&this.xfaLayer?.div||null;for(let Z=I.length-1;Z>=0;Z--){const ee=I[Z];switch(ee){case F:case G:case K:continue}ee.remove()}c.removeAttribute("data-loaded"),G&&this.annotationLayer.hide(),K&&this.xfaLayer.hide(),F||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Z=>{this.loadingIconDiv?.setAttribute("aria-label",Z)}),c.appendChild(this.loadingIconDiv)}update({scale:h=0,rotation:b=null,optionalContentConfigPromise:p=null}){if(this.scale=h||this.scale,"number"==typeof b&&(this.rotation=b),p instanceof Promise&&(this._optionalContentConfigPromise=p),this.viewport=this.viewport.clone({scale:this.scale*A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:F}=document.documentElement;F.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let I=!1;if(this.canvas&&this.maxCanvasPixels>0){const F=this.outputScale;(Math.floor(this.viewport.width)*F.sx|0)*(Math.floor(this.viewport.height)*F.sy|0)>this.maxCanvasPixels&&(I=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&I)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:h=!1,keepXfaLayer:b=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!h||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:h,redrawAnnotationLayer:b=!1,redrawXfaLayer:p=!1}){const c=this.viewport.width,I=this.viewport.height,F=this.div;h.style.width=h.parentNode.style.width=F.style.width=Math.floor(c)+"px",h.style.height=h.parentNode.style.height=F.style.height=Math.floor(I)+"px";const G=this.viewport.rotation-this.paintedViewportMap.get(h).rotation,K=Math.abs(G);let Z=1,ee=1;if((90===K||270===K)&&(Z=I/c,ee=c/I),h.style.transform=`rotate(${G}deg) scale(${Z}, ${ee})`,this.textLayer){const te=this.textLayer.viewport,ce=Math.abs(this.viewport.rotation-te.rotation);let R=c/te.width;(90===ce||270===ce)&&(R=c/te.height);const s=this.textLayer.textLayerDiv;let e,r;switch(ce){case 0:e=r=0;break;case 90:e=0,r="-"+s.style.height;break;case 180:e="-"+s.style.width,r="-"+s.style.height;break;case 270:e="-"+s.style.width,r=0;break;default:console.error("Bad rotation value.")}s.style.transform=`rotate(${ce}deg) scale(${R}) translate(${e}, ${r})`,s.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),p&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(h,b){return this.viewport.convertToPdfPoint(h,b)}toggleLoadingIconSpinner(h=!1){this.loadingIconDiv?.classList.toggle("notVisible",!h)}draw(){var h=this;this.renderingState!==T.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:p}=this;if(!p)return this.renderingState=T.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=T.RenderingStates.RUNNING;const c=document.createElement("div");c.style.width=b.style.width,c.style.height=b.style.height,c.classList.add("canvasWrapper"),this.annotationLayer?.div?b.insertBefore(c,this.annotationLayer.div):b.appendChild(c);let I=null;if(this.textLayerMode!==T.TextLayerMode.DISABLE&&this.textLayerFactory){const ee=document.createElement("div");ee.className="textLayer",ee.style.width=c.style.width,ee.style.height=c.style.height,this.annotationLayer?.div?b.insertBefore(ee,this.annotationLayer.div):b.appendChild(ee),I=this.textLayerFactory.createTextLayerBuilder(ee,this.id-1,this.viewport,this.textLayerMode===T.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=I,w(this,n)!==A.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(b,p,null,this.imageResourcesPath,w(this,n)===A.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&b.appendChild(this.xfaLayer.div);let F=null;this.renderingQueue&&(F=ee=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=T.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=T.RenderingStates.RUNNING,ee()});ee()});const G=function(){var ee=v(function*(te=null){if(K===h.paintTask&&(h.paintTask=null),te instanceof A.RenderingCancelledException)h._renderError=null;else if(h._renderError=te,h.renderingState=T.RenderingStates.FINISHED,h.loadingIconDiv&&(h.loadingIconDiv.remove(),delete h.loadingIconDiv),h._resetZoomLayer(!0),h.eventBus.dispatch("pagerendered",{source:h,pageNumber:h.id,cssTransform:!1,timestamp:performance.now(),error:h._renderError}),te)throw te});return function(){return ee.apply(this,arguments)}}(),K=this.renderer===T.RendererType.SVG?this.paintOnSvg(c):this.paintOnCanvas(c);K.onRenderContinue=F,this.paintTask=K;const Z=K.promise.then(()=>G(null).then(()=>{if(I){const ee=p.streamTextContent({includeMarkedContent:!0});I.setTextContentStream(ee),I.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ee){return G(ee)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,p,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ee=>{ee.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(te=>{if(!te||!this.canvas)return;const ue=this.structTreeLayer.render(te);ue.classList.add("structTree"),this.canvas.appendChild(ue)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(p)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Z}paintOnCanvas(h){const b=(0,A.createPromiseCapability)(),p={promise:b.promise,onRenderContinue(s){s()},cancel(){R.cancel()}},c=this.viewport,I=document.createElement("canvas");I.hidden=!0;let F=!0;const G=function(){F&&(I.hidden=!1,F=!1)};h.appendChild(I),this.canvas=I;const K=I.getContext("2d",{alpha:!1}),Z=this.outputScale=new T.OutputScale;if(this.useOnlyCssZoom){const s=c.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});Z.sx*=s.width/c.width,Z.sy*=s.height/c.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(c.width*c.height));Z.sx>e||Z.sy>e?(Z.sx=e,Z.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ee=(0,T.approximateFraction)(Z.sx),te=(0,T.approximateFraction)(Z.sy);I.width=(0,T.roundToDivide)(c.width*Z.sx,ee[0]),I.height=(0,T.roundToDivide)(c.height*Z.sy,te[0]),I.style.width=(0,T.roundToDivide)(c.width,ee[1])+"px",I.style.height=(0,T.roundToDivide)(c.height,te[1])+"px",this.paintedViewportMap.set(I,c);const ce={canvasContext:K,transform:Z.scaled?[Z.sx,0,0,Z.sy,0,0]:null,viewport:this.viewport,annotationMode:w(this,n),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},R=this.pdfPage.render(ce);return R.onContinue=function(s){G(),p.onRenderContinue?p.onRenderContinue(s):s()},R.promise.then(function(){G(),b.resolve()},function(s){G(),b.reject(s)}),p}paintOnSvg(h){let b=!1;const p=()=>{if(b)throw new A.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},c=this.pdfPage,I=this.viewport.clone({scale:A.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:c.getOperatorList({annotationMode:w(this,n)}).then(G=>(p(),new A.SVGGraphics(c.commonObjs,c.objs).getSVG(G,I).then(Z=>{p(),this.svg=Z,this.paintedViewportMap.set(Z,I),Z.style.width=h.style.width,Z.style.height=h.style.height,this.renderingState=T.RenderingStates.FINISHED,h.appendChild(Z)}))),onRenderContinue(G){G()},cancel(){b=!0}}}setPageLabel(h){this.pageLabel="string"==typeof h?h:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.compatibilityParams=g.OptionKind=g.AppOptions=void 0;const k=Object.create(null);g.compatibilityParams=k;{const t=navigator.userAgent||"",n=navigator.platform||"",u=navigator.maxTouchPoints||1,C=/Android/.test(t);(/\b(iPad|iPhone|iPod)(?=;)/.test(t)||"MacIntel"===n&&u>1||C)&&(k.maxCanvasPixels=5242880)}const A={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};g.OptionKind=A;const T={annotationMode:{value:2,kind:A.VIEWER+A.PREFERENCE},cursorToolOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:A.VIEWER},defaultZoomValue:{value:"",kind:A.VIEWER+A.PREFERENCE},disableHistory:{value:!1,kind:A.VIEWER},disablePageLabels:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePermissions:{value:!1,kind:A.VIEWER+A.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:A.VIEWER+A.PREFERENCE},enableScripting:{value:!0,kind:A.VIEWER+A.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:A.VIEWER},externalLinkTarget:{value:0,kind:A.VIEWER+A.PREFERENCE},historyUpdateUrl:{value:!1,kind:A.VIEWER+A.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},imageResourcesPath:{value:"./images/",kind:A.VIEWER},maxCanvasPixels:{value:16777216,compatibility:k.maxCanvasPixels,kind:A.VIEWER},pageColorsBackground:{value:"Canvas",kind:A.VIEWER+A.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:A.VIEWER+A.PREFERENCE},pdfBugEnabled:{value:!1,kind:A.VIEWER+A.PREFERENCE},printResolution:{value:150,kind:A.VIEWER},renderer:{value:"canvas",kind:A.VIEWER},sidebarViewOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},scrollModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},spreadModeOnLoad:{value:-1,kind:A.VIEWER+A.PREFERENCE},textLayerMode:{value:1,kind:A.VIEWER+A.PREFERENCE},useOnlyCssZoom:{value:!1,kind:A.VIEWER+A.PREFERENCE},viewerCssTheme:{value:0,kind:A.VIEWER+A.PREFERENCE},viewOnLoad:{value:0,kind:A.VIEWER+A.PREFERENCE},cMapPacked:{value:!0,kind:A.API},cMapUrl:{value:"../web/cmaps/",kind:A.API},disableAutoFetch:{value:!1,kind:A.API+A.PREFERENCE},disableFontFace:{value:!1,kind:A.API+A.PREFERENCE},disableRange:{value:!1,kind:A.API+A.PREFERENCE},disableStream:{value:!1,kind:A.API+A.PREFERENCE},docBaseUrl:{value:"",kind:A.API},enableXfa:{value:!0,kind:A.API+A.PREFERENCE},fontExtraProperties:{value:!1,kind:A.API},isEvalSupported:{value:!0,kind:A.API},maxImageSize:{value:-1,kind:A.API},pdfBug:{value:!1,kind:A.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:A.API},verbosity:{value:1,kind:A.API},workerPort:{value:null,kind:A.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:A.WORKER}};T.disablePreferences={value:!1,kind:A.VIEWER},T.locale={value:navigator.language||"en-US",kind:A.VIEWER},T.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:A.VIEWER},T.renderer.kind+=A.PREFERENCE;const y=Object.create(null);g.AppOptions=class S{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(n){const u=y[n];if(void 0!==u)return u;const C=T[n];return void 0!==C?C.compatibility??C.value:void 0}static getAll(n=null){const u=Object.create(null);for(const C in T){const h=T[C];if(n){if(!(n&h.kind))continue;if(n===A.PREFERENCE){const p=h.value,c=typeof p;if("boolean"===c||"string"===c||"number"===c&&Number.isInteger(p)){u[C]=p;continue}throw new Error(`Invalid type for preference: ${C}`)}}const b=y[C];u[C]=void 0!==b?b:h.compatibility??h.value}return u}static set(n,u){y[n]=u}static setAll(n){for(const u in n)y[u]=n[u]}static remove(n){delete y[n]}static _hasUserOptions(){return Object.keys(y).length>0}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFRenderingQueue=void 0;var A=k(3),T=k(6);g.PDFRenderingQueue=class S{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(n){this.pdfViewer=n}setThumbnailViewer(n){this.pdfThumbnailViewer=n}isHighestPriority(n){return this.highestPriorityPage===n.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(n){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(n)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(n,u,C,h=!1){const b=n.views,p=b.length;if(0===p)return null;for(let K=0;K<p;K++){const Z=b[K].view;if(!this.isViewFinished(Z))return Z}const c=n.first.id,I=n.last.id;if(I-c+1>p){const K=n.ids;for(let Z=1,ee=I-c;Z<ee;Z++){const te=C?c+Z:I-Z;if(K.has(te))continue;const ue=u[te-1];if(!this.isViewFinished(ue))return ue}}let F=C?I:c-2,G=u[F];return G&&!this.isViewFinished(G)||h&&(F+=C?1:-1,G=u[F],G&&!this.isViewFinished(G))?G:null}isViewFinished(n){return n.renderingState===T.RenderingStates.FINISHED}renderView(n){switch(n.renderingState){case T.RenderingStates.FINISHED:return!1;case T.RenderingStates.PAUSED:this.highestPriorityPage=n.renderingId,n.resume();break;case T.RenderingStates.RUNNING:this.highestPriorityPage=n.renderingId;break;case T.RenderingStates.INITIAL:this.highestPriorityPage=n.renderingId,n.draw().finally(()=>{this.renderHighestPriority()}).catch(u=>{u instanceof A.RenderingCancelledException||console.error(`renderView: "${u}"`)})}return!0}}},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextHighlighter=void 0,g.TextHighlighter=class k{constructor({findController:T,eventBus:y,pageIndex:S}){this.findController=T,this.matches=[],this.eventBus=y,this.pageIdx=S,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(T,y){this.textDivs=T,this.textContentItemsStr=y}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=T=>{(T.pageIndex===this.pageIdx||-1===T.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(T,y){if(!T)return[];const{textContentItemsStr:S}=this;let t=0,n=0;const u=S.length-1,C=[];for(let h=0,b=T.length;h<b;h++){let p=T[h];for(;t!==u&&p>=n+S[t].length;)n+=S[t].length,t++;t===S.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:t,offset:p-n}};for(p+=y[h];t!==u&&p>n+S[t].length;)n+=S[t].length,t++;c.end={divIdx:t,offset:p-n},C.push(c)}return C}_renderMatches(T){if(0===T.length)return;const{findController:y,pageIdx:S}=this,{textContentItemsStr:t,textDivs:n}=this,u=S===y.selected.pageIdx,C=y.selected.matchIdx;let b=null;function c(K,Z){const ee=K.divIdx;return n[ee].textContent="",I(ee,0,K.offset,Z)}function I(K,Z,ee,te){let ue=n[K];if(ue.nodeType===Node.TEXT_NODE){const s=document.createElement("span");ue.parentNode.insertBefore(s,ue),s.appendChild(ue),n[K]=s,ue=s}const ce=t[K].substring(Z,ee),R=document.createTextNode(ce);if(te){const s=document.createElement("span");return s.className=`${te} appended`,s.appendChild(R),ue.appendChild(s),te.includes("selected")?s.offsetLeft:0}return ue.appendChild(R),0}let F=C,G=F+1;if(y.state.highlightAll)F=0,G=T.length;else if(!u)return;for(let K=F;K<G;K++){const Z=T[K],ee=Z.begin,te=Z.end,ue=u&&K===C,ce=ue?" selected":"";let R=0;if(b&&ee.divIdx===b.divIdx?I(b.divIdx,b.offset,ee.offset):(null!==b&&I(b.divIdx,b.offset,undefined),c(ee)),ee.divIdx===te.divIdx)R=I(ee.divIdx,ee.offset,te.offset,"highlight"+ce);else{R=I(ee.divIdx,ee.offset,undefined,"highlight begin"+ce);for(let s=ee.divIdx+1,e=te.divIdx;s<e;s++)n[s].className="highlight middle"+ce;c(te,"highlight end"+ce)}b=te,ue&&y.scrollMatchIntoView({element:n[ee.divIdx],selectedLeft:R,pageIndex:S,matchIndex:C})}b&&I(b.divIdx,b.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:T,matches:y,pageIdx:S}=this,{textContentItemsStr:t,textDivs:n}=this;let u=-1;for(let b=0,p=y.length;b<p;b++){const c=y[b];for(let F=Math.max(u,c.begin.divIdx),G=c.end.divIdx;F<=G;F++){const K=n[F];K.textContent=t[F],K.className=""}u=c.end.divIdx+1}T?.highlightMatches&&(this.matches=this._convertMatches(T.pageMatches[S]||null,T.pageMatchesLength[S]||null),this._renderMatches(this.matches))}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.DownloadManager=void 0;var A=k(3);function T(S,t){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=S,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}g.DownloadManager=class y{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(t,n){(0,A.createValidAbsoluteUrl)(t,"http://example.com")?T(t+"#pdfjs.action=download",n):console.error(`downloadUrl - not a valid URL: ${t}`)}downloadData(t,n,u){T(URL.createObjectURL(new Blob([t],{type:u})),n)}openOrDownloadData(t,n,u){const C=(0,A.isPdfFile)(u),h=C?"application/pdf":"";if(C){let p,b=this._openBlobUrls.get(t);b||(b=URL.createObjectURL(new Blob([n],{type:h})),this._openBlobUrls.set(t,b)),p="?file="+encodeURIComponent(b+"#"+u);try{return window.open(p),!0}catch(c){console.error(`openOrDownloadData: ${c}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(t)}}return this.downloadData(n,u,h),!1}download(t,n,u,C="download"){T(URL.createObjectURL(t),u)}}},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.WaitOnType=g.EventBus=g.AutomationEventBus=void 0,g.waitOnEventOrTimeout=function A({target:S,name:t,delay:n=0}){return new Promise(function(u,C){if("object"!=typeof S||!t||"string"!=typeof t||!(Number.isInteger(n)&&n>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function h(I){S instanceof T?S._off(t,b):S.removeEventListener(t,b),c&&clearTimeout(c),u(I)}const b=h.bind(null,k.EVENT);S instanceof T?S._on(t,b):S.addEventListener(t,b);const p=h.bind(null,k.TIMEOUT),c=setTimeout(p,n)})};const k={EVENT:"event",TIMEOUT:"timeout"};g.WaitOnType=k;class T{constructor(){this._listeners=Object.create(null)}on(t,n,u=null){this._on(t,n,{external:!0,once:u?.once})}off(t,n,u=null){this._off(t,n,{external:!0,once:u?.once})}dispatch(t,n){const u=this._listeners[t];if(!u||0===u.length)return;let C;for(const{listener:h,external:b,once:p}of u.slice(0))p&&this._off(t,h),b?(C||=[]).push(h):h(n);if(C){for(const h of C)h(n);C=null}}_on(t,n,u=null){(this._listeners[t]||=[]).push({listener:n,external:!0===u?.external,once:!0===u?.once})}_off(t,n,u=null){const C=this._listeners[t];if(C)for(let h=0,b=C.length;h<b;h++)if(C[h].listener===n)return void C.splice(h,1)}}g.EventBus=T,g.AutomationEventBus=class y extends T{dispatch(t,n){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericL10n=void 0,k(19);var A=k(4);const T=document.webL10n;g.GenericL10n=class y{constructor(t){this._lang=t,this._ready=new Promise((n,u)=>{T.setLanguage((0,A.fixupLangCode)(t),()=>{n(T)})})}getLanguage(){var t=this;return v(function*(){return(yield t._ready).getLanguage()})()}getDirection(){var t=this;return v(function*(){return(yield t._ready).getDirection()})()}get(t,n=null,u=(0,A.getL10nFallback)(t,n)){var C=this;return v(function*(){return(yield C._ready).get(t,n,u)})()}translate(t){var n=this;return v(function*(){return(yield n._ready).translate(t)})()}}},()=>{document.webL10n=function(H,g,k){var A={},T="",y="textContent",S="",t={},n="loading",u=!0;function c(s,e,r){e=e||function(f){},r=r||function(){};var o=new XMLHttpRequest;o.open("GET",s,u),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=utf-8"),o.onreadystatechange=function(){4==o.readyState&&(200==o.status||0===o.status?e(o.responseText):r())},o.onerror=r,o.ontimeout=r;try{o.send(null)}catch{r()}}function F(s,e){s&&(s=s.toLowerCase()),e=e||function(){},function G(){A={},T="",S=""}(),S=s;var r=function C(){return g.querySelectorAll('link[type="application/l10n"]')}(),o=r.length;if(0!==o){var O,Y=0;O=function(){++Y>=o&&(e(),n="complete")};for(var Q=0;Q<o;Q++)new U(r[Q]).load(s,O)}else{var d=function h(){var s=g.querySelector('script[type="application/l10n"]');return s?JSON.parse(s.innerHTML):null}();if(d&&d.locales&&d.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(A=d.locales[s])){var f=d.default_locale.toLowerCase();for(var l in d.locales){if((l=l.toLowerCase())===s){A=d.locales[s];break}l===f&&(A=d.locales[f])}}e()}else console.log("no resource to load, early way out");n="complete"}function U(ne){var ie=ne.href;this.load=function(de,me){!function I(s,e,r,o){var d=s.replace(/[^\/]*$/,"")||"./";function f(O){return O.lastIndexOf("\\")<0?O:O.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(s,function(O){T+=O,function l(O,Y){var U={},Q=/^\s*|\s*$/,$=/^\s*#|^\s*$/,ne=/^\s*\[(.*)\]\s*$/,ie=/^\s*@import\s+url\((.*)\)\s*$/i,de=/^([^=\s]*)\s*=\s*(.+)$/;function me(ge,le,we){var Ce=ge.replace(Q,"").split(/[\r\n]+/),_e="*",oe=e.split("-",1)[0],fe=!1,ye="";!function se(){for(;;){if(!Ce.length)return void we();var _=Ce.shift();if(!$.test(_)){if(le){if(ye=ne.exec(_)){_e=ye[1].toLowerCase(),fe="*"!==_e&&_e!==e&&_e!==oe;continue}if(fe)continue;if(ye=ie.exec(_))return void Ae(d+ye[1],se)}var D=_.match(de);D&&3==D.length&&(U[D[1]]=f(D[2]))}}}()}function Ae(ge,le){c(ge,function(we){me(we,!1,le)},function(){console.warn(ge+" not found."),le()})}me(O,!0,function(){Y(U)})}(O,function(Y){for(var U in Y){var Q,$,ne=U.lastIndexOf(".");ne>0?(Q=U.substring(0,ne),$=U.substring(ne+1)):(Q=U,$=y),A[Q]||(A[Q]={}),A[Q][$]=Y[U]}r&&r()})},o)}(ie,de,me,function(){console.warn(ie+" not found."),console.warn('"'+de+'" resource not found'),S="",me()})}}}function Z(s,e,r){var o=A[s];if(!o){if(console.warn("#"+s+" is undefined."),!r)return null;o=r}var d={};for(var f in o){var l=o[f];l=te(l=ee(l,e,s,f),e,s),d[f]=l}return d}function ee(s,e,r,o){var f=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(s);if(!f||!f.length)return s;var Y,l=f[1],O=f[2];return e&&O in e?Y=e[O]:O in A&&(Y=A[O]),l in t&&(s=(0,t[l])(s,Y,r,o)),s}function te(s,e,r){return s.replace(/\{\{\s*(.+?)\s*\}\}/g,function(d,f){return e&&f in e?e[f]:f in A?A[f]:(console.log("argument {{"+f+"}} for #"+r+" is undefined."),d)})}function ue(s){var e=function p(s){if(!s)return{};var e=s.getAttribute("data-l10n-id"),r=s.getAttribute("data-l10n-args"),o={};if(r)try{o=JSON.parse(r)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:o}}(s);if(e.id){var r=Z(e.id,e.args);if(!r)return void console.warn("#"+e.id+" is undefined.");if(r[y]){if(0===function ce(s){if(s.children)return s.children.length;if(typeof s.childElementCount<"u")return s.childElementCount;for(var e=0,r=0;r<s.childNodes.length;r++)e+=1===s.nodeType?1:0;return e}(s))s[y]=r[y];else{for(var o=s.childNodes,d=!1,f=0,l=o.length;f<l;f++)3===o[f].nodeType&&/\S/.test(o[f].nodeValue)&&(d?o[f].nodeValue="":(o[f].nodeValue=r[y],d=!0));if(!d){var O=g.createTextNode(r[y]);s.insertBefore(O,s.firstChild)}}delete r[y]}for(var Y in r)s[Y]=r[Y]}}return t.plural=function(s,e,r,o){var d=parseFloat(e);if(isNaN(d)||o!=y)return s;t._pluralRules||(t._pluralRules=function K(s){function r(l,O){return-1!==O.indexOf(l)}function o(l,O,Y){return O<=l&&l<=Y}var d={0:function(l){return"other"},1:function(l){return o(l%100,3,10)?"few":0===l?"zero":o(l%100,11,99)?"many":2==l?"two":1==l?"one":"other"},2:function(l){return 0!==l&&l%10==0?"many":2==l?"two":1==l?"one":"other"},3:function(l){return 1==l?"one":"other"},4:function(l){return o(l,0,1)?"one":"other"},5:function(l){return o(l,0,2)&&2!=l?"one":"other"},6:function(l){return 0===l?"zero":l%10==1&&l%100!=11?"one":"other"},7:function(l){return 2==l?"two":1==l?"one":"other"},8:function(l){return o(l,3,6)?"few":o(l,7,10)?"many":2==l?"two":1==l?"one":"other"},9:function(l){return 0===l||1!=l&&o(l%100,1,19)?"few":1==l?"one":"other"},10:function(l){return o(l%10,2,9)&&!o(l%100,11,19)?"few":l%10!=1||o(l%100,11,19)?"other":"one"},11:function(l){return o(l%10,2,4)&&!o(l%100,12,14)?"few":l%10==0||o(l%10,5,9)||o(l%100,11,14)?"many":l%10==1&&l%100!=11?"one":"other"},12:function(l){return o(l,2,4)?"few":1==l?"one":"other"},13:function(l){return o(l%10,2,4)&&!o(l%100,12,14)?"few":1!=l&&o(l%10,0,1)||o(l%10,5,9)||o(l%100,12,14)?"many":1==l?"one":"other"},14:function(l){return o(l%100,3,4)?"few":l%100==2?"two":l%100==1?"one":"other"},15:function(l){return 0===l||o(l%100,2,10)?"few":o(l%100,11,19)?"many":1==l?"one":"other"},16:function(l){return l%10==1&&11!=l?"one":"other"},17:function(l){return 3==l?"few":0===l?"zero":6==l?"many":2==l?"two":1==l?"one":"other"},18:function(l){return 0===l?"zero":o(l,0,2)&&0!==l&&2!=l?"one":"other"},19:function(l){return o(l,2,10)?"few":o(l,0,1)?"one":"other"},20:function(l){return!o(l%10,3,4)&&l%10!=9||o(l%100,10,19)||o(l%100,70,79)||o(l%100,90,99)?l%1e6==0&&0!==l?"many":l%10!=2||r(l%100,[12,72,92])?l%10!=1||r(l%100,[11,71,91])?"other":"one":"two":"few"},21:function(l){return 0===l?"zero":1==l?"one":"other"},22:function(l){return o(l,0,1)||o(l,11,99)?"one":"other"},23:function(l){return o(l%10,1,2)||l%20==0?"one":"other"},24:function(l){return o(l,3,10)||o(l,13,19)?"few":r(l,[2,12])?"two":r(l,[1,11])?"one":"other"}},f={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[s.replace(/-.*$/,"")];return f in d?d[f]:(console.warn("plural form unknown for ["+s+"]"),function(){return"other"})}(S));var f="["+t._pluralRules(d)+"]";return 0===d&&r+"[zero]"in A?s=A[r+"[zero]"][o]:1==d&&r+"[one]"in A?s=A[r+"[one]"][o]:2==d&&r+"[two]"in A?s=A[r+"[two]"][o]:r+f in A?s=A[r+f][o]:r+"[other]"in A&&(s=A[r+"[other]"][o]),s},{get:function(s,e,r){var f,o=s.lastIndexOf("."),d=y;o>0&&(d=s.substring(o+1),s=s.substring(0,o)),r&&((f={})[d]=r);var l=Z(s,e,f);return l&&d in l?l[d]:"{{"+s+"}}"},getData:function(){return A},getText:function(){return T},getLanguage:function(){return S},setLanguage:function(s,e){F(s,function(){e&&e()})},getDirection:function(){var e=S.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function R(s){for(var e=function b(s){return s?s.querySelectorAll("*[data-l10n-id]"):[]}(s=s||g.documentElement),r=e.length,o=0;o<r;o++)ue(e[o]);ue(s)},getReadyState:function(){return n},ready:function(s){s&&("complete"==n||"interactive"==n?H.setTimeout(function(){s()}):g.addEventListener&&g.addEventListener("localized",function e(){g.removeEventListener("localized",e),s()}))}}}(window,document)},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFindController=g.FindState=void 0;var A=k(6),T=k(3),y=k(21);const S={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};g.FindState=S;const t=250,C={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},h=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...h.values()].map(ae=>String.fromCharCode(ae)).join(""),p=/\p{M}+/gu,c=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,I=/([^\p{M}])\p{M}*$/u,F=/^\p{M}*([^\p{M}])/u;let G=null;function K(ae){if(!G){const Le=Object.keys(C).join("");G=new RegExp(`([${Le}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const he=[];let Se;for(;null!==(Se=p.exec(ae));)he.push([Se[0].length,Se.index]);let Pe=ae.normalize("NFD");const pe=[[0,0]];let Ee=0,ve=0,Te=0,Me=0,ke=!1;return Pe=Pe.replace(G,(Le,Ne,Fe,Ie,Re,Oe)=>{if(Oe-=Te,Ne){const De=C[Le],Ve=De.length;for(let Be=1;Be<Ve;Be++)pe.push([Oe-ve+Be,ve-Be]);return ve-=Ve-1,De}if(Fe){const De=Fe.endsWith("\n"),Ve=De?Fe.length-2:Fe.length;ke=!0;let Be=Ve;Oe+Me===he[Ee]?.[1]&&(Be-=he[Ee][0],++Ee);for(let Ue=1;Ue<Be+1;Ue++)pe.push([Oe-1-ve+Ue,ve-Ue]);return ve-=Be,Te+=Be,De?(pe.push([(Oe+=Ve-1)-ve+1,1+ve]),ve+=1,Te+=1,Me+=1,Fe.slice(0,Ve)):Fe}return Ie?(pe.push([Oe-ve+1,1+ve]),ve+=1,Te+=1,Me+=1,Ie.charAt(0)):(pe.push([Oe-ve+1,ve-1]),ve-=1,Te+=1,Me+=1," ")}),pe.push([Pe.length,ve]),[Pe,pe,ke]}function Z(ae,he,Se){if(!ae)return[he,Se];const Pe=he,pe=he+Se;let Ee=(0,A.binarySearchFirstItem)(ae,Te=>Te[0]>=Pe);ae[Ee][0]>Pe&&--Ee;let ve=(0,A.binarySearchFirstItem)(ae,Te=>Te[0]>=pe,Ee);return ae[ve][0]>pe&&--ve,[Pe+ae[Ee][1],Se+ae[ve][1]-ae[Ee][1]]}var ee=new WeakSet,te=new WeakSet,ue=new WeakMap,ce=new WeakSet,R=new WeakSet,s=new WeakSet,e=new WeakSet,r=new WeakSet,o=new WeakSet,d=new WeakSet,f=new WeakSet,l=new WeakSet,O=new WeakSet,Y=new WeakSet,U=new WeakSet,Q=new WeakSet,$=new WeakSet,ne=new WeakSet,ie=new WeakSet,de=new WeakSet;function Ae(ae){if(!ae)return;const he=this._pdfDocument,{type:Se}=ae;(null===this._state||L(this,ce,we).call(this,ae))&&(this._dirtyMatch=!0),this._state=ae,"highlightallchange"!==Se&&L(this,de,xe).call(this,S.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||he&&this._pdfDocument!==he)return;L(this,o,ye).call(this);const Pe=!this._highlightMatches,pe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Se?this._dirtyMatch?L(this,l,D).call(this):"again"===Se?(L(this,l,D).call(this),Pe&&this._state.highlightAll&&L(this,f,_).call(this)):"highlightallchange"===Se?(pe?L(this,l,D).call(this):this._highlightMatches=!0,L(this,f,_).call(this)):L(this,l,D).call(this):this._findTimeout=setTimeout(()=>{L(this,l,D).call(this),this._findTimeout=null},t)})}function ge(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,T.createPromiseCapability)()}function le(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=K(this._state.query)),this._normalizedQuery}function we(ae){if(ae.query!==this._state.query)return!0;switch(ae.type){case"again":const he=this._selected.pageIdx+1,Se=this._linkService;return he>=1&&he<=Se.pagesCount&&he!==Se.page&&!Se.isPageVisible(he);case"highlightallchange":return!1}return!0}function Ce(ae,he,Se){let Pe=ae.slice(0,he).match(I);if(Pe){const pe=ae.charCodeAt(he),Ee=Pe[1].charCodeAt(0);if((0,y.getCharacterType)(pe)===(0,y.getCharacterType)(Ee))return!1}if(Pe=ae.slice(he+Se).match(F),Pe){const pe=ae.charCodeAt(he+Se-1),Ee=Pe[1].charCodeAt(0);if((0,y.getCharacterType)(pe)===(0,y.getCharacterType)(Ee))return!1}return!0}function _e(ae,he,Se,Pe){const pe=[],Ee=[],ve=this._pageDiffs[Se];let Te;for(;null!==(Te=ae.exec(Pe));){if(he&&!L(this,R,Ce).call(this,Pe,Te.index,Te[0].length))continue;const[Me,ke]=Z(ve,Te.index,Te[0].length);ke&&(pe.push(Me),Ee.push(ke))}this._pageMatches[Se]=pe,this._pageMatchesLength[Se]=Ee}function oe(ae,he){const{matchDiacritics:Se}=this._state;let Pe=!1;return(ae=ae.replace(c,(Ee,ve,Te,Me,ke,Le)=>ve?`[ ]*\\${ve}[ ]*`:Te?`[ ]*${Te}[ ]*`:Me?"[ ]+":Se?ke||Le:ke?h.has(ke.charCodeAt(0))?ke:"":he?(Pe=!0,`${Le}\\p{M}*`):Le)).endsWith("[ ]*")&&(ae=ae.slice(0,ae.length-"[ ]*".length)),Se&&he&&(Pe=!0,ae=`${ae}(?=[${b}]|[^\\p{M}]|$)`),[Pe,ae]}function fe(ae){let he=w(this,ue);if(0===he.length)return;const{caseSensitive:Se,entireWord:Pe,phraseSearch:pe}=this._state,Ee=this._pageContents[ae],ve=this._hasDiacritics[ae];let Te=!1;if(pe)[Te,he]=L(this,e,oe).call(this,he,ve);else{const Le=he.match(/\S+/g);Le&&(he=Le.sort().reverse().map(Ne=>{const[Fe,Ie]=L(this,e,oe).call(this,Ne,ve);return Te||=Fe,`(${Ie})`}).join("|"))}he=new RegExp(he,`g${Te?"u":""}${Se?"":"i"}`),L(this,s,_e).call(this,he,Pe,ae,Ee),this._state.highlightAll&&L(this,d,se).call(this,ae),this._resumePageIdx===ae&&(this._resumePageIdx=null,L(this,Y,J).call(this));const ke=this._pageMatches[ae].length;ke>0&&(this._matchesCountTotal+=ke,L(this,ie,be).call(this))}function ye(){if(this._extractTextPromises.length>0)return;let ae=Promise.resolve();for(let he=0,Se=this._linkService.pagesCount;he<Se;he++){const Pe=(0,T.createPromiseCapability)();this._extractTextPromises[he]=Pe.promise,ae=ae.then(()=>this._pdfDocument.getPage(he+1).then(pe=>pe.getTextContent()).then(pe=>{const Ee=[];for(const ve of pe.items)Ee.push(ve.str),ve.hasEOL&&Ee.push("\n");[this._pageContents[he],this._pageDiffs[he],this._hasDiacritics[he]]=K(Ee.join("")),Pe.resolve()},pe=>{console.error(`Unable to get text content for page ${he+1}`,pe),this._pageContents[he]="",this._pageDiffs[he]=null,this._hasDiacritics[he]=!1,Pe.resolve()}))}}function se(ae){this._scrollMatches&&this._selected.pageIdx===ae&&(this._linkService.page=ae+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:ae})}function _(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function D(){const ae=this._state.findPrevious,he=this._linkService.page-1,Se=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=he,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,L(this,f,_).call(this);for(let pe=0;pe<Se;pe++)this._pendingFindMatches.has(pe)||(this._pendingFindMatches.add(pe),this._extractTextPromises[pe].then(()=>{this._pendingFindMatches.delete(pe),L(this,r,fe).call(this,pe)}))}if(""===w(this,ue))return void L(this,de,xe).call(this,S.FOUND);if(this._resumePageIdx)return;const Pe=this._offset;if(this._pagesToSearch=Se,null!==Pe.matchIdx){if(!ae&&Pe.matchIdx+1<this._pageMatches[Pe.pageIdx].length||ae&&Pe.matchIdx>0)return Pe.matchIdx=ae?Pe.matchIdx-1:Pe.matchIdx+1,void L(this,Q,E).call(this,!0);L(this,U,M).call(this,ae)}L(this,Y,J).call(this)}function x(ae){const he=this._offset,Se=ae.length,Pe=this._state.findPrevious;return Se?(he.matchIdx=Pe?Se-1:0,L(this,Q,E).call(this,!0),!0):(L(this,U,M).call(this,Pe),!!(he.wrapped&&(he.matchIdx=null,this._pagesToSearch<0))&&(L(this,Q,E).call(this,!1),!0))}function J(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let ae=null;do{const he=this._offset.pageIdx;if(ae=this._pageMatches[he],!ae){this._resumePageIdx=he;break}}while(!L(this,O,x).call(this,ae))}function M(ae){const he=this._offset,Se=this._linkService.pagesCount;he.pageIdx=ae?he.pageIdx-1:he.pageIdx+1,he.matchIdx=null,this._pagesToSearch--,(he.pageIdx>=Se||he.pageIdx<0)&&(he.pageIdx=ae?Se-1:0,he.wrapped=!0)}function E(ae=!1){let he=S.NOT_FOUND;const Se=this._offset.wrapped;if(this._offset.wrapped=!1,ae){const Pe=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,he=Se?S.WRAPPED:S.FOUND,-1!==Pe&&Pe!==this._selected.pageIdx&&L(this,d,se).call(this,Pe)}L(this,de,xe).call(this,he,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,L(this,d,se).call(this,this._selected.pageIdx))}function W(ae){const he=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||he&&this._pdfDocument!==he||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),L(this,de,xe).call(this,S.FOUND),this._highlightMatches=!1,L(this,f,_).call(this))})}function re(){const{pageIdx:ae,matchIdx:he}=this._selected;let Se=0,Pe=this._matchesCountTotal;if(-1!==he){for(let pe=0;pe<ae;pe++)Se+=this._pageMatches[pe]?.length||0;Se+=he+1}return(Se<1||Se>Pe)&&(Se=Pe=0),{current:Se,total:Pe}}function be(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:L(this,ne,re).call(this)})}function xe(ae,he=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:ae,previous:he,matchesCount:L(this,ne,re).call(this),rawQuery:this._state?.query??null})}g.PDFFindController=class me{constructor({linkService:he,eventBus:Se}){N(this,de),N(this,ie),N(this,ne),N(this,$),N(this,Q),N(this,U),N(this,Y),N(this,O),N(this,l),N(this,f),N(this,d),N(this,o),N(this,r),N(this,e),N(this,s),N(this,R),N(this,ce),B(this,ue,{get:le,set:void 0}),N(this,te),N(this,ee),this._linkService=he,this._eventBus=Se,L(this,te,ge).call(this),Se._on("find",L(this,ee,Ae).bind(this)),Se._on("findbarclose",L(this,$,W).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(he){this._pdfDocument&&L(this,te,ge).call(this),he&&(this._pdfDocument=he,this._firstPageCapability.resolve())}scrollMatchIntoView({element:he=null,selectedLeft:Se=0,pageIndex:Pe=-1,matchIndex:pe=-1}){this._scrollMatches&&he&&-1!==pe&&pe===this._selected.matchIdx&&-1!==Pe&&Pe===this._selected.pageIdx&&(this._scrollMatches=!1,(0,A.scrollIntoView)(he,{top:-50,left:Se+-400},!0))}}},(H,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CharacterType=void 0,g.getCharacterType=function p(c){return function A(c){return c<11904}(c)?function T(c){return 0==(65408&c)}(c)?function t(c){return 32===c||9===c||13===c||10===c}(c)?k.SPACE:function y(c){return c>=97&&c<=122||c>=65&&c<=90}(c)||function S(c){return c>=48&&c<=57}(c)||95===c?k.ALPHA_LETTER:k.PUNCT:function b(c){return 3584==(65408&c)}(c)?k.THAI_LETTER:160===c?k.SPACE:k.ALPHA_LETTER:function n(c){return c>=13312&&c<=40959||c>=63744&&c<=64255}(c)?k.HAN_LETTER:function u(c){return c>=12448&&c<=12543}(c)?k.KATAKANA_LETTER:function C(c){return c>=12352&&c<=12447}(c)?k.HIRAGANA_LETTER:function h(c){return c>=65376&&c<=65439}(c)?k.HALFWIDTH_KATAKANA_LETTER:k.ALPHA_LETTER};const k={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};g.CharacterType=k},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFHistory=void 0,g.isDestArraysEqual=h,g.isDestHashesEqual=C;var A=k(6),T=k(17);function n(){return document.location.hash}function C(b,p){return"string"==typeof b&&"string"==typeof p&&(b===p||(0,A.parseQueryString)(b).get("nameddest")===p)}function h(b,p){function c(I,F){if(typeof I!=typeof F||Array.isArray(I)||Array.isArray(F))return!1;if(null!==I&&"object"==typeof I&&null!==F){if(Object.keys(I).length!==Object.keys(F).length)return!1;for(const G in I)if(!c(I[G],F[G]))return!1;return!0}return I===F||Number.isNaN(I)&&Number.isNaN(F)}if(!Array.isArray(b)||!Array.isArray(p)||b.length!==p.length)return!1;for(let I=0,F=b.length;I<F;I++)if(!c(b[I],p[I]))return!1;return!0}g.PDFHistory=class u{constructor({linkService:p,eventBus:c}){this.linkService=p,this.eventBus=c,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",I=>{this._isPagesLoaded=!!I.pagesCount},{once:!0})})}initialize({fingerprint:p,resetHistory:c=!1,updateUrl:I=!1}){if(!p||"string"!=typeof p)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const F=""!==this._fingerprint&&this._fingerprint!==p;this._fingerprint=p,this._updateUrl=!0===I,this._initialized=!0,this._bindEvents();const G=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=n(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(G,!0)||c){const{hash:Z,page:ee,rotation:te}=this._parseCurrentHash(!0);return!Z||F||c?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Z,page:ee,rotation:te},!0)}const K=G.destination;this._updateInternalState(K,G.uid,!0),void 0!==K.rotation&&(this._initialRotation=K.rotation),K.dest?(this._initialBookmark=JSON.stringify(K.dest),this._destination.page=null):K.hash?this._initialBookmark=K.hash:K.page&&(this._initialBookmark=`page=${K.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:p=null,explicitDest:c,pageNumber:I}){if(!this._initialized)return;if(p&&"string"!=typeof p)return void console.error(`PDFHistory.push: "${p}" is not a valid namedDest parameter.`);if(!Array.isArray(c))return void console.error(`PDFHistory.push: "${c}" is not a valid explicitDest parameter.`);if(!this._isValidPage(I)&&(null!==I||this._destination))return void console.error(`PDFHistory.push: "${I}" is not a valid pageNumber parameter.`);const F=p||JSON.stringify(c);if(!F)return;let G=!1;if(this._destination&&(C(this._destination.hash,F)||h(this._destination.dest,c))){if(this._destination.page)return;G=!0}this._popStateInProgress&&!G||(this._pushOrReplaceState({dest:c,hash:F,page:I,rotation:this.linkService.rotation},G),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(p){if(this._initialized){if(!this._isValidPage(p))return void console.error(`PDFHistory.pushPage: "${p}" is not a valid page number.`);this._destination?.page!==p&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${p}`,page:p,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const p=window.history.state;this._isValidState(p)&&p.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(p,c=!1){const I=c||!this._destination,F={fingerprint:this._fingerprint,uid:I?this._uid:this._uid+1,destination:p};let G;if(this._updateInternalState(p,F.uid),this._updateUrl&&p?.hash){const K=document.location.href.split("#")[0];K.startsWith("file://")||(G=`${K}#${p.hash}`)}I?window.history.replaceState(F,"",G):window.history.pushState(F,"",G)}_tryPushCurrentPosition(p=!1){if(!this._position)return;let c=this._position;if(p&&(c=Object.assign(Object.create(null),this._position),c.temporary=!0),!this._destination)return void this._pushOrReplaceState(c);if(this._destination.temporary)return void this._pushOrReplaceState(c,!0);if(this._destination.hash===c.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let I=!1;if(this._destination.page>=c.first&&this._destination.page<=c.page){if(void 0!==this._destination.dest||!this._destination.first)return;I=!0}this._pushOrReplaceState(c,I)}_isValidPage(p){return Number.isInteger(p)&&p>0&&p<=this.linkService.pagesCount}_isValidState(p,c=!1){if(!p)return!1;if(p.fingerprint!==this._fingerprint){if(!c)return!1;{if("string"!=typeof p.fingerprint||p.fingerprint.length!==this._fingerprint.length)return!1;const[I]=performance.getEntriesByType("navigation");if("reload"!==I?.type)return!1}}return!(!Number.isInteger(p.uid)||p.uid<0||null===p.destination||"object"!=typeof p.destination)}_updateInternalState(p,c,I=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),I&&p?.temporary&&delete p.temporary,this._destination=p,this._uid=c,this._maxUid=Math.max(this._maxUid,c),this._numPositionUpdates=0}_parseCurrentHash(p=!1){const c=unescape(n()).substring(1),I=(0,A.parseQueryString)(c),F=I.get("nameddest")||"";let G=0|I.get("page");return(!this._isValidPage(G)||p&&F.length>0)&&(G=null),{hash:c,page:G,rotation:this.linkService.rotation}}_updateViewarea({location:p}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:p.pdfOpenParams.substring(1),page:this.linkService.page,first:p.pageNumber,rotation:p.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:p}){const c=n(),I=this._currentHash!==c;if(this._currentHash=c,!p){this._uid++;const{hash:G,page:K,rotation:Z}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:G,page:K,rotation:Z},!0)}if(!this._isValidState(p))return;this._popStateInProgress=!0,I&&(this._blockHashChange++,(0,T.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const F=p.destination;this._updateInternalState(F,p.uid,!0),(0,A.isValidRotation)(F.rotation)&&(this.linkService.rotation=F.rotation),F.dest?this.linkService.goToDestination(F.dest):F.hash?this.linkService.setHash(F.hash):F.page&&(this.linkService.page=F.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFScriptingManager=void 0;var A=k(6),T=k(3);g.PDFScriptingManager=class y{constructor({eventBus:t,sandboxBundleSrc:n=null,scriptingFactory:u=null,docPropertiesLookup:C=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=n,this._scriptingFactory=u,this._docPropertiesLookup=C,this._scriptingFactory||window.addEventListener("updatefromsandbox",h=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:h.detail})})}setViewer(t){this._pdfViewer=t}setDocument(t){var n=this;return v(function*(){if(n._pdfDocument&&(yield n._destroyScripting()),n._pdfDocument=t,!t)return;const[u,C,h]=yield Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);if(u||h){if(t===n._pdfDocument){try{n._scripting=n._createScripting()}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield n._destroyScripting())}n._internalEvents.set("updatefromsandbox",b=>{b?.source===window&&n._updateFromSandbox(b.detail)}),n._internalEvents.set("dispatcheventinsandbox",b=>{n._scripting?.dispatchEventInSandbox(b.detail)}),n._internalEvents.set("pagechanging",({pageNumber:b,previous:p})=>{b!==p&&(n._dispatchPageClose(p),n._dispatchPageOpen(b))}),n._internalEvents.set("pagerendered",({pageNumber:b})=>{n._pageOpenPending.has(b)&&b===n._pdfViewer.currentPageNumber&&n._dispatchPageOpen(b)}),n._internalEvents.set("pagesdestroy",function(){var b=v(function*(p){yield n._dispatchPageClose(n._pdfViewer.currentPageNumber),yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),n._closeCapability?.resolve()});return function(p){return b.apply(this,arguments)}}()),n._domEvents.set("mousedown",b=>{n._mouseState.isDown=!0}),n._domEvents.set("mouseup",b=>{n._mouseState.isDown=!1});for(const[b,p]of n._internalEvents)n._eventBus._on(b,p);for(const[b,p]of n._domEvents)window.addEventListener(b,p,!0);try{const b=yield n._getDocProperties();if(t!==n._pdfDocument)return;yield n._scripting.createSandbox({objects:u,calculationOrder:C,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...b,actions:h}}),n._eventBus.dispatch("sandboxcreated",{source:n})}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield n._destroyScripting())}yield n._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield n._dispatchPageOpen(n._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{t===n._pdfDocument&&(n._ready=!0)})}}else yield n._destroyScripting()})()}dispatchWillSave(t){var n=this;return v(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(t){var n=this;return v(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(t){var n=this;return v(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(t){var n=this;return v(function*(){return n._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,T.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,T.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,T.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,T.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(t){var n=this;return v(function*(){const u=n._pdfViewer.isInPresentationMode||n._pdfViewer.isChangingPresentationMode,{id:C,siblings:h,command:b,value:p}=t;if(!C){switch(b){case"clear":console.clear();break;case"error":console.error(p);break;case"layout":if(u)return;const I=(0,A.apiPageLayoutToViewerModes)(p);n._pdfViewer.spreadMode=I.spreadMode;break;case"page-num":n._pdfViewer.currentPageNumber=p+1;break;case"print":yield n._pdfViewer.pagesPromise,n._eventBus.dispatch("print",{source:n});break;case"println":console.log(p);break;case"zoom":if(u)return;n._pdfViewer.currentScaleValue=p;break;case"SaveAs":n._eventBus.dispatch("save",{source:n});break;case"FirstPage":n._pdfViewer.currentPageNumber=1;break;case"LastPage":n._pdfViewer.currentPageNumber=n._pdfViewer.pagesCount;break;case"NextPage":n._pdfViewer.nextPage();break;case"PrevPage":n._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;n._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;n._pdfViewer.decreaseScale()}return}if(u&&t.focus)return;delete t.id,delete t.siblings;const c=h?[C,...h]:[C];for(const I of c){const F=document.getElementById(I);F?F.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):n._pdfDocument?.annotationStorage.setValue(I,t)}})()}_dispatchPageOpen(t,n=!1){var u=this;return v(function*(){const C=u._pdfDocument,h=u._visitedPages;if(n&&(u._closeCapability=(0,T.createPromiseCapability)()),!u._closeCapability)return;const b=u._pdfViewer.getPageView(t-1);if(b?.renderingState!==A.RenderingStates.FINISHED)return void u._pageOpenPending.add(t);u._pageOpenPending.delete(t);const p=v(function*(){const c=yield h.has(t)?null:b.pdfPage?.getJSActions();C===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:c}))})();h.set(t,p)})()}_dispatchPageClose(t){var n=this;return v(function*(){const u=n._pdfDocument,C=n._visitedPages;if(!n._closeCapability||n._pageOpenPending.has(t))return;const h=C.get(t);h&&(C.set(t,null),yield h,u===n._pdfDocument&&(yield n._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t})))})()}_getDocProperties(){var t=this;return v(function*(){if(t._docPropertiesLookup)return t._docPropertiesLookup(t._pdfDocument);const{docPropertiesLookup:n}=k(24);return n(t._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,T.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:t}=k(24);return new t(this._sandboxBundleSrc)}_destroyScripting(){var t=this;return v(function*(){if(!t._scripting)return t._pdfDocument=null,void t._destroyCapability?.resolve();t._closeCapability&&(yield Promise.race([t._closeCapability.promise,new Promise(n=>{setTimeout(n,1e3)})]).catch(n=>{}),t._closeCapability=null),t._pdfDocument=null;try{yield t._scripting.destroySandbox()}catch{}for(const[n,u]of t._internalEvents)t._eventBus._off(n,u);t._internalEvents.clear();for(const[n,u]of t._domEvents)window.removeEventListener(n,u,!0);t._domEvents.clear(),t._pageOpenPending.clear(),t._visitedPages.clear(),t._scripting=null,delete t._mouseState.isDown,t._ready=!1,t._destroyCapability?.resolve()})()}}},(H,g,k)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GenericScripting=void 0,g.docPropertiesLookup=function T(t){return y.apply(this,arguments)};var A=k(3);function y(){return(y=v(function*(t){const u="".split("#")[0];let{info:C,metadata:h,contentDispositionFilename:b,contentLength:p}=yield t.getMetadata();if(!p){const{length:c}=yield t.getDownloadInfo();p=c}return{...C,baseURL:u,filesize:p,filename:b||(0,A.getPdfFilenameFromUrl)(""),metadata:h?.getRaw(),authors:h?.get("dc:creator"),numPages:t.numPages,URL:""}})).apply(this,arguments)}g.GenericScripting=class S{constructor(n){this._ready=(0,A.loadScript)(n,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(n){var u=this;return v(function*(){(yield u._ready).create(n)})()}dispatchEventInSandbox(n){var u=this;return v(function*(){const C=yield u._ready;setTimeout(()=>C.dispatchEvent(n),0)})()}destroySandbox(){var n=this;return v(function*(){(yield n._ready).nukeSandbox()})()}}}],m={};function X(H){var g=m[H];if(void 0!==g)return g.exports;var k=m[H]={exports:{}};return V[H](k,k.exports,X),k.exports}var j={};return(()=>{var H=j;Object.defineProperty(H,"__esModule",{value:!0}),Object.defineProperty(H,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return y.AnnotationLayerBuilder}}),Object.defineProperty(H,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return g.DefaultAnnotationLayerFactory}}),Object.defineProperty(H,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return g.DefaultStructTreeLayerFactory}}),Object.defineProperty(H,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return g.DefaultTextLayerFactory}}),Object.defineProperty(H,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return g.DefaultXfaLayerFactory}}),Object.defineProperty(H,"DownloadManager",{enumerable:!0,get:function(){return S.DownloadManager}}),Object.defineProperty(H,"EventBus",{enumerable:!0,get:function(){return t.EventBus}}),Object.defineProperty(H,"GenericL10n",{enumerable:!0,get:function(){return n.GenericL10n}}),Object.defineProperty(H,"LinkTarget",{enumerable:!0,get:function(){return k.LinkTarget}}),Object.defineProperty(H,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(H,"PDFFindController",{enumerable:!0,get:function(){return C.PDFFindController}}),Object.defineProperty(H,"PDFHistory",{enumerable:!0,get:function(){return h.PDFHistory}}),Object.defineProperty(H,"PDFLinkService",{enumerable:!0,get:function(){return k.PDFLinkService}}),Object.defineProperty(H,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(H,"PDFScriptingManager",{enumerable:!0,get:function(){return p.PDFScriptingManager}}),Object.defineProperty(H,"PDFSinglePageViewer",{enumerable:!0,get:function(){return T.PDFSinglePageViewer}}),Object.defineProperty(H,"PDFViewer",{enumerable:!0,get:function(){return T.PDFViewer}}),Object.defineProperty(H,"ProgressBar",{enumerable:!0,get:function(){return A.ProgressBar}}),Object.defineProperty(H,"SimpleLinkService",{enumerable:!0,get:function(){return k.SimpleLinkService}}),Object.defineProperty(H,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return c.StructTreeLayerBuilder}}),Object.defineProperty(H,"TextLayerBuilder",{enumerable:!0,get:function(){return I.TextLayerBuilder}}),Object.defineProperty(H,"XfaLayerBuilder",{enumerable:!0,get:function(){return F.XfaLayerBuilder}}),Object.defineProperty(H,"parseQueryString",{enumerable:!0,get:function(){return A.parseQueryString}});var g=X(1),k=X(5),A=X(6),T=X(10),y=X(2),S=X(16),t=X(17),n=X(18),u=X(4),C=X(20),h=X(22),b=X(12),p=X(23),c=X(7),I=X(8),F=X(9)})(),j})(),z.exports=X()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:z=>{function a(i,N,B,q,L,w,v){try{var V=i[w](v),m=V.value}catch(X){return void B(X)}V.done?N(m):Promise.resolve(m).then(q,L)}z.exports=function P(i){return function(){var N=this,B=arguments;return new Promise(function(q,L){var w=i.apply(N,B);function v(m){a(w,q,L,v,V,"next",m)}function V(m){a(w,q,L,v,V,"throw",m)}v(void 0)})}},z.exports.__esModule=!0,z.exports.default=z.exports},6521:z=>{z.exports=function a(P,i){if(i.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")},z.exports.__esModule=!0,z.exports.default=z.exports},8912:z=>{z.exports=function a(P,i){return i.get?i.get.call(P):i.value},z.exports.__esModule=!0,z.exports.default=z.exports},3448:z=>{z.exports=function a(P,i,N){if(i.set)i.set.call(P,N);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=N}},z.exports.__esModule=!0,z.exports.default=z.exports},2625:z=>{z.exports=function a(P,i){if(P!==i)throw new TypeError("Private static access of wrong provenance")},z.exports.__esModule=!0,z.exports.default=z.exports},2506:z=>{z.exports=function a(P,i){if(void 0===P)throw new TypeError("attempted to "+i+" private static field before its declaration")},z.exports.__esModule=!0,z.exports.default=z.exports},4069:z=>{z.exports=function a(P,i,N){if(!i.has(P))throw new TypeError("attempted to "+N+" private field on non-instance");return i.get(P)},z.exports.__esModule=!0,z.exports.default=z.exports},468:(z,a,P)=>{var i=P(8912),N=P(4069);z.exports=function B(q,L){var w=N(q,L,"get");return i(q,w)},z.exports.__esModule=!0,z.exports.default=z.exports},9159:(z,a,P)=>{var i=P(6521);z.exports=function N(B,q,L){i(B,q),q.set(B,L)},z.exports.__esModule=!0,z.exports.default=z.exports},5661:(z,a,P)=>{var i=P(3448),N=P(4069);z.exports=function B(q,L,w){var v=N(q,L,"set");return i(q,v,w),w},z.exports.__esModule=!0,z.exports.default=z.exports},4467:z=>{z.exports=function a(P,i,N){if(!i.has(P))throw new TypeError("attempted to get private field on non-instance");return N},z.exports.__esModule=!0,z.exports.default=z.exports},1860:(z,a,P)=>{var i=P(6521);z.exports=function N(B,q){i(B,q),q.add(B)},z.exports.__esModule=!0,z.exports.default=z.exports},1280:(z,a,P)=>{var i=P(8912),N=P(2625),B=P(2506);z.exports=function q(L,w,v){return N(L,w),B(v,"get"),i(L,v)},z.exports.__esModule=!0,z.exports.default=z.exports},2306:(z,a,P)=>{var i=P(3448),N=P(2625),B=P(2506);z.exports=function q(L,w,v,V){return N(L,w),B(v,"set"),i(L,v,V),V},z.exports.__esModule=!0,z.exports.default=z.exports},5764:(z,a,P)=>{var i=P(2625);z.exports=function N(B,q,L){return i(B,q),L},z.exports.__esModule=!0,z.exports.default=z.exports},8416:(z,a,P)=>{var i=P(4062);z.exports=function N(B,q,L){return(q=i(q))in B?Object.defineProperty(B,q,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[q]=L,B},z.exports.__esModule=!0,z.exports.default=z.exports},5036:(z,a,P)=>{var i=P(8698).default;z.exports=function N(B,q){if("object"!==i(B)||null===B)return B;var L=B[Symbol.toPrimitive];if(void 0!==L){var w=L.call(B,q||"default");if("object"!==i(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(B)},z.exports.__esModule=!0,z.exports.default=z.exports},4062:(z,a,P)=>{var i=P(8698).default,N=P(5036);z.exports=function B(q){var L=N(q,"string");return"symbol"===i(L)?L:String(L)},z.exports.__esModule=!0,z.exports.default=z.exports},8698:z=>{function a(P){return z.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},z.exports.__esModule=!0,z.exports.default=z.exports,a(P)}z.exports=a,z.exports.__esModule=!0,z.exports.default=z.exports}}]);