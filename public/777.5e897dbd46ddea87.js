"use strict";(self.webpackChunkguardlink=self.webpackChunkguardlink||[]).push([[777],{9777:(A,a,i)=>{i.r(a),i.d(a,{ProfileModule:()=>T});var c=i(6895),l=i(6773),g=i(1985),f=i(9959),p=i(6801),m=i(529),h=i(5226),u=i.n(h),t=i(8256),v=i(3809),x=i(8503);function C(n,r){1&n&&(t.TgZ(0,"div",14)(1,"div",15)(2,"span",16),t._uU(3,"Loading..."),t.qZA()()())}function Z(n,r){1&n&&(t.TgZ(0,"div",14)(1,"p"),t._uU(2,"You have not applied for any job"),t.qZA(),t.TgZ(3,"a",17),t._uU(4,"Find jobs"),t.qZA()())}function q(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const d=t.CHM(e).$implicit,O=t.oxw(2);return t.KtG(O.onDelete(d))}),t.TgZ(1,"div",19)(2,"div",20),t._uU(3),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.qZA(),t._uU(6," Status: "),t.TgZ(7,"strong"),t._uU(8),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.Oqu(e.companyName),t.xp6(2),t.Oqu(e.requestDate),t.xp6(3),t.Oqu(e.requestAccepted)}}function y(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"h6",6),t._uU(6),t.qZA(),t.TgZ(7,"h6"),t._uU(8),t.qZA(),t.TgZ(9,"div")(10,"a",7),t._uU(11,"Change Password"),t.qZA(),t.TgZ(12,"a",8),t._uU(13,"Find Jobs"),t.qZA(),t.TgZ(14,"a",9),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.logOut())}),t._uU(15,"Logout"),t.qZA()()()(),t.TgZ(16,"div",10)(17,"h4"),t._uU(18,"Applied jobs"),t.qZA(),t.YNc(19,C,4,0,"div",11),t.YNc(20,Z,5,0,"div",11),t.TgZ(21,"ol",12),t.YNc(22,q,9,3,"li",13),t.qZA()()()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(6),t.Oqu(e.userName),t.xp6(2),t.Oqu(e.userEmail),t.xp6(11),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",0==o.requests.length&&0==o.loading),t.xp6(2),t.Q6J("ngForOf",o.requests)}}const P=[{path:"",component:(()=>{class n{constructor(e,o,s){this.authService=e,this.localService=o,this.router=s,this.user=[],this.requests=[],this.loading=!1}ngOnInit(){let e=localStorage.getItem("user");this.user=JSON.parse(e),this.getRequest()}logOut(){u().fire({title:"Are you sure?",text:"Do you want to log out?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Log out"}).then(e=>{e.isConfirmed&&this.authService.logOutUser()})}getRequest(){this.loading=!0,this.user.forEach(e=>{const o=(new m.LE).set("userId",e.userId);this.localService.getFunctionWithParams("/getuserrequests.php",o).subscribe(s=>{this.loading=!1,"string"==typeof s?this.requests=[]:(this.requests=[],this.requests=[...Object.values(s)])},s=>{u().fire({icon:"error",title:"Oops...",text:"Something went wrong!"})})})}onDelete(e){var o=new FormData;"Accepted"==e.requestAccepted?this.router.navigate(["/details",e.requestId]):u().fire({title:"Cancel request?",text:"Request would be permanently cancelled and deleted.Continue?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Cancel"}).then(s=>{s.isConfirmed&&(this.loading=!0,o.append("requestId",e.requestId),this.localService.postFunction(o,"/deleterequest.php","Request deleted").then(d=>{this.loading=!1,this.getRequest()}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.e),t.Y36(x.V),t.Y36(l.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-profile"]],decls:1,vars:1,consts:[["class","container-fluid",4,"ngFor","ngForOf"],[1,"container-fluid"],[1,"container","intro"],[1,"col-6"],[1,"d-flex","justify-content-center"],["src","../../assets/images/guard_logo.png","width","200","height","200",1,"img-fluid"],[1,""],["href","#",1,"btn","btn-info",2,"margin-right","10px"],["routerLink","/jobs",1,"btn","btn-info",2,"margin-right","10px"],[1,"btn","btn-info",3,"click"],[1,"container","pt-2"],["class","text-center",4,"ngIf"],[1,"list-group","list-group-numbered"],["class","list-group-item d-flex justify-content-between align-items-start my-1",3,"click",4,"ngFor","ngForOf"],[1,"text-center"],["role","status",1,"spinner-border","text-info",2,"width","3rem","height","3rem"],[1,"visually-hidden"],["routerLink","/jobs","type","button",1,"btn","btn-info",2,"margin-right","5px"],[1,"list-group-item","d-flex","justify-content-between","align-items-start","my-1",3,"click"],[1,"ms-2","me-auto"],[1,"fw-bold"]],template:function(e,o){1&e&&t.YNc(0,y,23,5,"div",0),2&e&&t.Q6J("ngForOf",o.user)},dependencies:[c.sg,c.O5,l.rH],styles:[".profile-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.intro[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-direction:row;justify-content:center;text-align:center}.container-fluid[_ngcontent-%COMP%]{background-image:url(how-applybg.b03988d98d280296.png);background-position:center;background-repeat:no-repeat;background-size:cover;height:100%;color:#7bcff6}li[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width: 768px){.btn[_ngcontent-%COMP%]{margin-bottom:5px}h4[_ngcontent-%COMP%]{text-align:center}}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(P),l.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,b,g.W,f._,p.I,l.Bz]}),n})()}}]);